(function(){var g={}; var _ = _ || {}
var f=function(window){var sU="clpp-freewheel",tU="clpp.freewheel.AdsManagerFactory",uU="freewheel",vU=function(){this.f=this.a=null},wU=function(){},xU=function(a){switch(a){case 0:return tv.freewheel.SDK.ADUNIT_PREROLL;case 1:return tv.freewheel.SDK.ADUNIT_MIDROLL;case 2:return tv.freewheel.SDK.ADUNIT_POSTROLL;default:return""}},yU=function(a,b,c){this.h=a;this.f=b;this.a=c},zU=function(a){this.a=a},AU=function(a){this.g=new _.K("clpp.freewheel.AdsManager");this.m=a;this.h=new _.Sh;this.w=new tv.freewheel.SDK.AdManager;
this.f=this.a=null;this.B=[];this.o=[];this.A=[];this.l=new _.gk;this.j=null},BU=function(a){var b=[];typeof a.networkId!==_.k&&b.push("networkId");typeof a.serverUrl!==_.fg&&b.push("serverUrl");typeof a.profileId!==_.fg&&b.push("profileId");typeof a.videoAssetId!==_.fg&&typeof a.videoAssetId!==_.k&&b.push("videoAssetId");if(b.length)throw new _.N(1,9,12001,{missingKeys:b.join(", ")});},CU=function(){var a,b,c,d;return _.I(function(e){if(1==e.a)return a=new _.lu,b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE,
_.y(e,a.canPlay(!1),2);if(3!=e.a)return c=e.f,_.y(e,a.canPlay(!0),3);d=e.f;c?b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED:d&&(b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED);return e["return"](b)})},FU=function(a){return _.I(function(b){if(a.B.length)return DU(a),a.f=a.B.shift(),a.f.play(),b.F(0);EU(a);return _.y(b,a.m.a.play(),0)})},GU=function(a){a.A.length?(DU(a),a.f=a.A.shift(),a.f.play()):EU(a)},DU=function(a){var b=a.m.Nd(uU).Zc();b&&(a.m.getSurface().show(b),a.m.getSurface().hideMediaElement(),
a.a.registerVideoDisplayBase(sU),a.m.isMuted()?a.setVolume(0):a.setVolume(a.m.getVolume()||1))},EU=function(a){var b=a.m.Nd(uU).Zc();b&&a.m.getSurface().hide(b);a.m.getSurface().showMediaElement()},HU=function(a,b,c){var d=null;a.a&&c&&(c.adInstance||c.slot)&&(c=(d=c.adInstance||null)?d.getSlot():c.slot,d={ad:new yU(a.a,c,d)});a.m.trigger(new _.L(b,d))},IU=function(){this.fd=new _.K(tU)};_.x(vU,_.pv);_.u=vU.prototype;
_.u.onPlayerCreated=function(a){if(window.tv&&tv.freewheel&&tv.freewheel.SDK)this.a=_.tq(_.Wd,{id:sU}),this.f=_.tq(_.r,{"class":_.wd}),this.a.appendChild(this.f),a.getSurface().addElementToContainer(this.a,!0),a.getSurface().hide(this.a);else a.onError(new _.N(1,9,12E3))};_.u.onPlayerWillDestroy=function(a){this.a&&(a.getSurface().removeElementFromContainer(this.a),this.f=this.a=null)};_.u.id=function(){return uU};_.u.Zc=function(){return this.a};_.u.al=function(){return this.f};
_.J("clpp.freewheel.FreeWheelPlugin",vU);vU.prototype.getAdVideo=vU.prototype.al;vU.prototype.getAdContainer=vU.prototype.Zc;vU.Id=uU;vU.AD_CONTAINER_ID=sU;wU.prototype.create=function(){return new vU};_.Qs(new wU);_.u=yU.prototype;_.u.nb=function(){return"FreeWheel AdManager SDK"};_.u.ob=function(){return tv.freewheel.SDK.version};_.u.rb=function(){return 0};_.u.getId=function(){return this.a?this.a.getAdId():""};_.u.getCreativeId=function(){var a=(this.a||{})._creativeId;return typeof a===_.fg?a:""};_.u.getApiFramework=function(){return this.a?this.a.getActiveCreativeRendition().getCreativeApi():""};_.u.getAdSystem=function(){return""};_.u.getAdvertiserName=function(){return""};_.u.getTitle=function(){return""};
_.u.getDuration=function(){return this.a?this.a.getActiveCreativeRendition().getDuration():0};_.u.getPosition=function(){return 0};_.u.getSkipTimeOffset=function(){return 0};_.u.Tb=function(){return!1};_.u.pb=function(){return this.a&&this.a.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]||""};_.u.getMediaUrl=function(){return this.a?this.a.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl():""};
_.u.eb=function(){return this.a?this.a.getActiveCreativeRendition().getWidth():0};_.u.cb=function(){return this.a?this.a.getActiveCreativeRendition().getHeight():0};_.u.Pa=function(){return 0};_.u.Qa=function(){switch(this.f.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:return 0;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:return 2;default:return 1}};
_.u.getPodIndex=function(){switch(this.Qa()){case 0:return 0;case 2:return-1}return this.h.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL).indexOf(this.f)+1};_.u.Cb=function(){switch(this.Qa()){case 0:return 0;case 2:return-1;default:return this.f.getTimePosition()}};_.u.Db=function(){return this.a?this.f.getAdInstances().indexOf(this.a)+1:1};_.u.fb=function(){return this.f.getAdCount()};_.u.getWrapperAdIds=function(){return[]};_.u.getWrapperAdSystems=function(){return[]};
_.u.getWrapperCreativeIds=function(){return[]};yU.prototype.getWrapperCreativeIds=yU.prototype.getWrapperCreativeIds;yU.prototype.getWrapperAdSystems=yU.prototype.getWrapperAdSystems;yU.prototype.getWrapperAdIds=yU.prototype.getWrapperAdIds;yU.prototype.getSequenceLength=yU.prototype.fb;yU.prototype.getPositionInSequence=yU.prototype.Db;yU.prototype.getPodTimeOffset=yU.prototype.Cb;yU.prototype.getPodIndex=yU.prototype.getPodIndex;yU.prototype.getPodType=yU.prototype.Qa;
yU.prototype.getMediaBitrate=yU.prototype.Pa;yU.prototype.getMediaHeight=yU.prototype.cb;yU.prototype.getMediaWidth=yU.prototype.eb;yU.prototype.getMediaUrl=yU.prototype.getMediaUrl;yU.prototype.getClickThroughUrl=yU.prototype.pb;yU.prototype.isBumper=yU.prototype.Tb;yU.prototype.getSkipTimeOffset=yU.prototype.getSkipTimeOffset;yU.prototype.getPosition=yU.prototype.getPosition;yU.prototype.getDuration=yU.prototype.getDuration;yU.prototype.getTitle=yU.prototype.getTitle;
yU.prototype.getAdvertiserName=yU.prototype.getAdvertiserName;yU.prototype.getAdSystem=yU.prototype.getAdSystem;yU.prototype.getApiFramework=yU.prototype.getApiFramework;yU.prototype.getCreativeId=yU.prototype.getCreativeId;yU.prototype.getId=yU.prototype.getId;yU.prototype.getTechnology=yU.prototype.rb;yU.prototype.getAdManagerVersion=yU.prototype.ob;yU.prototype.getAdManagerName=yU.prototype.nb;zU.prototype.getCuePoints=function(){return this.a.getTemporalSlots().map(function(a){switch(a.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:return 0;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:return-1;default:return a.getTimePosition()}})};zU.prototype.Fb=function(){return 0<this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL).length};zU.prototype.Eb=function(){return 0<this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL).length};
zU.prototype.hasPostroll=zU.prototype.Eb;zU.prototype.hasPreroll=zU.prototype.Fb;zU.prototype.getCuePoints=zU.prototype.getCuePoints;_.u=AU.prototype;
_.u.load=function(){var a=this,b,c,d,e,f,g,h,l;return _.I(function(m){if(1==m.a){b=a.m.getConfiguration().freewheel||{};try{BU(b)}catch(n){return a.m.onError(n),a.l.resolve(),m["return"](a.l)}a.w.setNetwork(b.networkId);a.w.setServer(b.serverUrl);a.a=a.w.newContext();a.a.setProfile(b.profileId);typeof b.siteSectionId!==_.fg&&typeof b.siteSectionId!==_.k||a.a.setSiteSection(b.siteSectionId);return _.y(m,CU(),2)}c=m.f;a.a.setVideoAsset(b.videoAssetId,a.m.getDuration(),void 0,void 0,c);if(Array.isArray(b.pods))for(d=
_.w(b.pods),e=d.next();!e.done;e=d.next())f=e.value,a.a.addTemporalSlot(f.id,xU(f.type),f.position,f.slotProfile,f.cuepointSequence,f.maxDuration,f.minDuration,f.acceptContentType);b.keyValues&&typeof b.keyValues===_.Ue&&Object.keys(b.keyValues).forEach(function(n){return a.a.addKeyValue(n,b.keyValues[n])});a.a.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);if(Array.isArray(b.parameters))for(g=_.w(b.parameters),h=g.next();!h.done;h=
g.next())l=h.value,a.a.setParameter(l.name,l.value,l.level);a.h.on(a.a,tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,a.Dm.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_SLOT_STARTED,a.Hm.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_SLOT_ENDED,a.Gm.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_AD,a.Yl.bind(a));a.h.on(a.m,_.ng,a.Uj.bind(a));a.h.on(a.m,_.cg,a.Tj.bind(a));a.a.submitRequest();return m["return"](a.l)})};_.u.start=function(){var a=this;return _.I(function(b){return _.y(b,FU(a),0)})};_.u.Tc=function(){};
_.u.resume=function(){this.f&&this.f.resume()};_.u.pause=function(){this.f&&this.f.pause()};_.u.skip=function(){this.f&&this.f.skipCurrentAd()};_.u.getVolume=function(){return this.a?this.a.getAdVolume():1};_.u.setVolume=function(a){this.a&&this.a.setAdVolume(a)};_.u.getPosition=function(){return this.f?this.f.getPlayheadTime():-1};_.u.Pc=function(){return!0};_.u.pc=function(){var a=this;return _.I(function(b){a.h.release();a.j&&(a.j.stop(),a.j=null);EU(a);a.a&&(a.a.dispose(),a.a=null);_.A(b)})};
_.u.Dm=function(a){var b=this;if(a.success)this.B=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL),this.o=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL),this.A=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL),this.m.trigger(new _.L(_.Nc,{adsTimeline:new zU(this.a)})),this.j=new _.ju(this.m.getSurface(),function(c,d){return b.a.resize(c,d)},this.m.Nd(uU).f);else this.m.onError(new _.N(1,9,10003,{errorType:0},
void 0));this.l.resolve()};_.u.Hm=function(a){HU(this,_.uc,a);this.j.start()};_.u.Gm=function(a){this.f=null;a=a.slot;HU(this,_.vc);this.j.stop();if(a)switch(a.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:FU(this);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:EU(this);this.m.play();break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:GU(this)}};
_.u.Yl=function(a){var b=a.subType;this.g.debug("ad event",b);switch(b){case tv.freewheel.SDK.EVENT_AD_IMPRESSION:HU(this,_.Jc,a);HU(this,_.Cc,a);break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION_END:HU(this,_.Kc,a);break;case tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE:HU(this,_.zc,a);break;case tv.freewheel.SDK.EVENT_AD_MIDPOINT:HU(this,_.Ec,a);break;case tv.freewheel.SDK.EVENT_AD_THIRD_QUARTILE:HU(this,_.Lc,a);break;case tv.freewheel.SDK.EVENT_AD_COMPLETE:HU(this,_.yc,a);break;case tv.freewheel.SDK.EVENT_AD_CLICK:HU(this,
_.xc,a);break;case tv.freewheel.SDK.EVENT_AD_PAUSE:HU(this,_.Fc,a);break;case tv.freewheel.SDK.EVENT_AD_RESUME:HU(this,_.Hc,a);break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:HU(this,_.Ic,a);break;case tv.freewheel.SDK.EVENT_AD_BUFFERING_START:HU(this,_.wc,a);break;case tv.freewheel.SDK.EVENT_AD_BUFFERING_END:HU(this,_.Gc,a);break;case tv.freewheel.SDK.EVENT_ERROR:this.m.onError(new _.N(1,9,10003,{errorType:1},{fwCode:a[tv.freewheel.SDK.INFO_KEY_ERROR_CODE],fwInfo:a[tv.freewheel.SDK.INFO_KEY_ERROR_INFO],
fwModule:a[tv.freewheel.SDK.INFO_KEY_ERROR_MODULE]}))}};_.u.Uj=function(){var a=this;if(!this.f){var b=this.m.getPosition();if(this.f=this.o.find(function(d){return.5>Math.abs(b-d.getTimePosition())})||null){var c=this.o.findIndex(function(d){return d===a.f});this.o.splice(c,1);this.m.pause();DU(this);this.f.play()}}};
_.u.Tj=function(a){if((a=a.detail)&&this.a)switch(a.currentState){case _.Up:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);break;case _.Tp:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PAUSED);break;case _.Np:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED);GU(this);break;case _.Gp:case _.Rp:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED)}};AU.prototype.getPosition=AU.prototype.getPosition;AU.prototype.setVolume=AU.prototype.setVolume;
AU.prototype.getVolume=AU.prototype.getVolume;AU.prototype.skip=AU.prototype.skip;AU.prototype.pause=AU.prototype.pause;AU.prototype.resume=AU.prototype.resume;IU.prototype.name=function(){return tU};IU.prototype.a=function(a,b){return a.namespace()!==_.Ad&&b&&b.freewheel?window.tv&&tv.freewheel&&tv.freewheel.SDK?!0:(this.fd.warn("FreeWheel SDK is not loaded."),!1):!1};IU.prototype.create=function(a){return new AU(a)};_.nq(new IU);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();