(function(){var g={}; var _ = _ || {}
var f=function(window){var mV="clpp-freewheel",nV="clpp.freewheel.AdsManagerFactory",oV="freewheel",pV=function(){this.f=this.a=null},qV=function(){},rV=function(a){switch(a){case 0:return tv.freewheel.SDK.ADUNIT_PREROLL;case 1:return tv.freewheel.SDK.ADUNIT_MIDROLL;case 2:return tv.freewheel.SDK.ADUNIT_POSTROLL;default:return""}},sV=function(a,b,c){this.h=a;this.f=b;this.a=c},tV=function(a){this.a=a},uV=function(a){this.g=new _.K("clpp.freewheel.AdsManager");this.m=a;this.h=new _.Wh;this.w=new tv.freewheel.SDK.AdManager;
this.f=this.a=null;this.B=[];this.o=[];this.A=[];this.l=new _.mk;this.j=null},vV=function(a){var b=[];typeof a.networkId!==_.k&&b.push("networkId");typeof a.serverUrl!==_.ig&&b.push("serverUrl");typeof a.profileId!==_.ig&&b.push("profileId");typeof a.videoAssetId!==_.ig&&typeof a.videoAssetId!==_.k&&b.push("videoAssetId");if(b.length)throw new _.O(1,9,12001,{missingKeys:b.join(", ")});},wV=function(){var a,b,c,d;return _.I(function(e){if(1==e.a)return a=new _.Cu,b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE,
_.y(e,a.canPlay(!1),2);if(3!=e.a)return c=e.f,_.y(e,a.canPlay(!0),3);d=e.f;c?b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED:d&&(b=tv.freewheel.SDK.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED);return e["return"](b)})},zV=function(a){return _.I(function(b){if(a.B.length)return xV(a),a.f=a.B.shift(),a.f.play(),b.F(0);yV(a);return _.y(b,a.m.a.play(),0)})},AV=function(a){a.A.length?(xV(a),a.f=a.A.shift(),a.f.play()):yV(a)},xV=function(a){var b=a.m.Wd(oV).cd();b&&(a.m.getSurface().show(b),a.m.getSurface().hideMediaElement(),
a.a.registerVideoDisplayBase(mV),a.m.isMuted()?a.setVolume(0):a.setVolume(a.m.getVolume()||1))},yV=function(a){var b=a.m.Wd(oV).cd();b&&a.m.getSurface().hide(b);a.m.getSurface().showMediaElement()},BV=function(a,b,c){var d=null;a.a&&c&&(c.adInstance||c.slot)&&(c=(d=c.adInstance||null)?d.getSlot():c.slot,d={ad:new sV(a.a,c,d)});a.m.trigger(new _.L(b,d))},CV=function(){this.jd=new _.K(nV)};_.x(pV,_.Gv);_.u=pV.prototype;
_.u.onPlayerCreated=function(a){if(window.tv&&tv.freewheel&&tv.freewheel.SDK)this.a=_.Iq(_.Xd,{id:mV}),this.f=_.Iq(_.r,{"class":_.vd}),this.a.appendChild(this.f),a.getSurface().addElementToContainer(this.a,!0),a.getSurface().hide(this.a);else a.onError(new _.O(1,9,12E3))};_.u.onPlayerWillDestroy=function(a){this.a&&(a.getSurface().removeElementFromContainer(this.a),this.f=this.a=null)};_.u.id=function(){return oV};_.u.cd=function(){return this.a};_.u.wl=function(){return this.f};
_.J("clpp.freewheel.FreeWheelPlugin",pV);pV.prototype.getAdVideo=pV.prototype.wl;pV.prototype.getAdContainer=pV.prototype.cd;pV.Id=oV;pV.AD_CONTAINER_ID=mV;qV.prototype.create=function(){return new pV};_.gt(new qV);_.u=sV.prototype;_.u.ob=function(){return"FreeWheel AdManager SDK"};_.u.pb=function(){return tv.freewheel.SDK.version};_.u.sb=function(){return 0};_.u.getId=function(){return this.a?this.a.getAdId():""};_.u.getCreativeId=function(){var a=(this.a||{})._creativeId;return typeof a===_.ig?a:""};_.u.Sb=function(){return""};_.u.getApiFramework=function(){return this.a?this.a.getActiveCreativeRendition().getCreativeApi():""};_.u.getAdSystem=function(){return""};_.u.getAdvertiserName=function(){return""};
_.u.getTitle=function(){return""};_.u.getDuration=function(){return this.a?this.a.getActiveCreativeRendition().getDuration():0};_.u.getPosition=function(){return 0};_.u.getSkipTimeOffset=function(){return 0};_.u.Wb=function(){return!1};_.u.qb=function(){return this.a&&this.a.getEventCallbackUrls(tv.freewheel.SDK.EVENT_AD_CLICK,tv.freewheel.SDK.EVENT_TYPE_CLICK)[0]||""};_.u.getMediaUrl=function(){return this.a?this.a.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getUrl():""};
_.u.fb=function(){return this.a?this.a.getActiveCreativeRendition().getWidth():0};_.u.eb=function(){return this.a?this.a.getActiveCreativeRendition().getHeight():0};_.u.Qa=function(){return 0};_.u.Ra=function(){switch(this.f.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:return 0;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:return 2;default:return 1}};
_.u.getPodIndex=function(){switch(this.Ra()){case 0:return 0;case 2:return-1}return this.h.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL).indexOf(this.f)+1};_.u.Fb=function(){switch(this.Ra()){case 0:return 0;case 2:return-1;default:return this.f.getTimePosition()}};_.u.Gb=function(){return this.a?this.f.getAdInstances().indexOf(this.a)+1:1};_.u.gb=function(){return this.f.getAdCount()};_.u.getWrapperAdIds=function(){return[]};_.u.getWrapperAdSystems=function(){return[]};
_.u.getWrapperCreativeIds=function(){return[]};_.u.Vb=function(){return null};sV.prototype.getVideoElement=sV.prototype.Vb;sV.prototype.getWrapperCreativeIds=sV.prototype.getWrapperCreativeIds;sV.prototype.getWrapperAdSystems=sV.prototype.getWrapperAdSystems;sV.prototype.getWrapperAdIds=sV.prototype.getWrapperAdIds;sV.prototype.getSequenceLength=sV.prototype.gb;sV.prototype.getPositionInSequence=sV.prototype.Gb;sV.prototype.getPodTimeOffset=sV.prototype.Fb;sV.prototype.getPodIndex=sV.prototype.getPodIndex;
sV.prototype.getPodType=sV.prototype.Ra;sV.prototype.getMediaBitrate=sV.prototype.Qa;sV.prototype.getMediaHeight=sV.prototype.eb;sV.prototype.getMediaWidth=sV.prototype.fb;sV.prototype.getMediaUrl=sV.prototype.getMediaUrl;sV.prototype.getClickThroughUrl=sV.prototype.qb;sV.prototype.isBumper=sV.prototype.Wb;sV.prototype.getSkipTimeOffset=sV.prototype.getSkipTimeOffset;sV.prototype.getPosition=sV.prototype.getPosition;sV.prototype.getDuration=sV.prototype.getDuration;sV.prototype.getTitle=sV.prototype.getTitle;
sV.prototype.getAdvertiserName=sV.prototype.getAdvertiserName;sV.prototype.getAdSystem=sV.prototype.getAdSystem;sV.prototype.getApiFramework=sV.prototype.getApiFramework;sV.prototype.getSourceId=sV.prototype.Sb;sV.prototype.getCreativeId=sV.prototype.getCreativeId;sV.prototype.getId=sV.prototype.getId;sV.prototype.getTechnology=sV.prototype.sb;sV.prototype.getAdManagerVersion=sV.prototype.pb;sV.prototype.getAdManagerName=sV.prototype.ob;tV.prototype.getCuePoints=function(){return this.a.getTemporalSlots().map(function(a){switch(a.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:return 0;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:return-1;default:return a.getTimePosition()}})};tV.prototype.Ib=function(){return 0<this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL).length};tV.prototype.Hb=function(){return 0<this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL).length};
tV.prototype.hasPostroll=tV.prototype.Hb;tV.prototype.hasPreroll=tV.prototype.Ib;tV.prototype.getCuePoints=tV.prototype.getCuePoints;_.u=uV.prototype;
_.u.load=function(){var a=this,b,c,d,e,f,g,h,l;return _.I(function(m){if(1==m.a){b=a.m.getConfiguration().freewheel||{};try{vV(b)}catch(n){return a.m.onError(n),a.l.resolve(),m["return"](a.l)}a.w.setNetwork(b.networkId);a.w.setServer(b.serverUrl);a.a=a.w.newContext();a.a.setProfile(b.profileId);typeof b.siteSectionId!==_.ig&&typeof b.siteSectionId!==_.k||a.a.setSiteSection(b.siteSectionId);return _.y(m,wV(),2)}c=m.f;a.a.setVideoAsset(b.videoAssetId,a.m.getDuration(),void 0,void 0,c);if(Array.isArray(b.pods))for(d=
_.w(b.pods),e=d.next();!e.done;e=d.next())f=e.value,a.a.addTemporalSlot(f.id,rV(f.type),f.position,f.slotProfile,f.cuepointSequence,f.maxDuration,f.minDuration,f.acceptContentType);b.keyValues&&typeof b.keyValues===_.Xe&&Object.keys(b.keyValues).forEach(function(n){return a.a.addKeyValue(n,b.keyValues[n])});a.a.setParameter(tv.freewheel.SDK.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL);if(Array.isArray(b.parameters))for(g=_.w(b.parameters),h=g.next();!h.done;h=
g.next())l=h.value,a.a.setParameter(l.name,l.value,l.level);a.h.on(a.a,tv.freewheel.SDK.EVENT_REQUEST_COMPLETE,a.Xm.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_SLOT_STARTED,a.an.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_SLOT_ENDED,a.$m.bind(a));a.h.on(a.a,tv.freewheel.SDK.EVENT_AD,a.sm.bind(a));a.h.on(a.m,_.qg,a.kk.bind(a));a.h.on(a.m,_.fg,a.jk.bind(a));a.a.submitRequest();return m["return"](a.l)})};_.u.start=function(){var a=this;return _.I(function(b){return _.y(b,zV(a),0)})};_.u.Vc=function(){};
_.u.resume=function(){this.f&&this.f.resume()};_.u.pause=function(){this.f&&this.f.pause()};_.u.skip=function(){this.f&&this.f.skipCurrentAd()};_.u.getVolume=function(){return this.a?this.a.getAdVolume():1};_.u.setVolume=function(a){this.a&&this.a.setAdVolume(a)};_.u.getPosition=function(){return this.f?this.f.getPlayheadTime():-1};_.u.Sc=function(){return!0};_.u.sc=function(){var a=this;return _.I(function(b){a.h.release();a.j&&(a.j.stop(),a.j=null);yV(a);a.a&&(a.a.dispose(),a.a=null);_.B(b)})};
_.u.Xm=function(a){var b=this;if(a.success)this.B=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL),this.o=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL),this.A=this.a.getSlotsByTimePositionClass(tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL),this.m.trigger(new _.L(_.Lc,{adsTimeline:new tV(this.a)})),this.j=new _.Au(this.m.getSurface(),function(c,d){return b.a.resize(c,d)},this.m.Wd(oV).f);else this.m.onError(new _.O(1,9,10003,{errorType:0},
void 0));this.l.resolve()};_.u.an=function(a){BV(this,_.rc,a);this.j.start()};_.u.$m=function(a){this.f=null;a=a.slot;BV(this,_.sc);this.j.stop();if(a)switch(a.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:zV(this);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:yV(this);this.m.play();break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:AV(this)}};
_.u.sm=function(a){var b=a.subType;this.g.debug("ad event",b);switch(b){case tv.freewheel.SDK.EVENT_AD_IMPRESSION:BV(this,_.Hc,a);BV(this,_.Ac,a);break;case tv.freewheel.SDK.EVENT_AD_IMPRESSION_END:BV(this,_.Ic,a);break;case tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE:BV(this,_.wc,a);break;case tv.freewheel.SDK.EVENT_AD_MIDPOINT:BV(this,_.Cc,a);break;case tv.freewheel.SDK.EVENT_AD_THIRD_QUARTILE:BV(this,_.Jc,a);break;case tv.freewheel.SDK.EVENT_AD_COMPLETE:BV(this,_.vc,a);break;case tv.freewheel.SDK.EVENT_AD_CLICK:BV(this,
_.uc,a);break;case tv.freewheel.SDK.EVENT_AD_PAUSE:BV(this,_.Dc,a);break;case tv.freewheel.SDK.EVENT_AD_RESUME:BV(this,_.Fc,a);break;case tv.freewheel.SDK.EVENT_AD_SKIPPED:BV(this,_.Gc,a);break;case tv.freewheel.SDK.EVENT_AD_BUFFERING_START:BV(this,_.tc,a);break;case tv.freewheel.SDK.EVENT_AD_BUFFERING_END:BV(this,_.Ec,a);break;case tv.freewheel.SDK.EVENT_ERROR:this.m.onError(new _.O(1,9,10003,{errorType:1},{fwCode:a[tv.freewheel.SDK.INFO_KEY_ERROR_CODE],fwInfo:a[tv.freewheel.SDK.INFO_KEY_ERROR_INFO],
fwModule:a[tv.freewheel.SDK.INFO_KEY_ERROR_MODULE]}))}};_.u.kk=function(){var a=this;if(!this.f){var b=this.m.getPosition();if(this.f=this.o.find(function(d){return.5>Math.abs(b-d.getTimePosition())})||null){var c=this.o.findIndex(function(d){return d===a.f});this.o.splice(c,1);this.m.pause();xV(this);this.f.play()}}};
_.u.jk=function(a){if((a=a.detail)&&this.a)switch(a.currentState){case _.iq:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING);break;case _.hq:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PAUSED);break;case _.bq:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED);AV(this);break;case _.Vp:case _.fq:this.a.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED)}};uV.prototype.getPosition=uV.prototype.getPosition;uV.prototype.setVolume=uV.prototype.setVolume;
uV.prototype.getVolume=uV.prototype.getVolume;uV.prototype.skip=uV.prototype.skip;uV.prototype.pause=uV.prototype.pause;uV.prototype.resume=uV.prototype.resume;CV.prototype.name=function(){return nV};CV.prototype.a=function(a,b){return a.namespace()!==_.zd&&b&&b.freewheel?window.tv&&tv.freewheel&&tv.freewheel.SDK?!0:(this.jd.warn("FreeWheel SDK is not loaded."),!1):!1};CV.prototype.create=function(a){return new uV(a)};_.Cq(new CV);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();