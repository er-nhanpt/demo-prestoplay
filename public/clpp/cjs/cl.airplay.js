(function(){var g={}; var _ = _ || {}
var f=function(window){var gY=function(){var a=this;this.a=this.m=null;this.l=this.f=this.j=!1;this.o=new _.vl(function(){a.m.play()["catch"](function(){})});this.h=new _.Wh},hY=function(){};_.x(gY,_.Gv);_.u=gY.prototype;_.u.onPlayerCreated=function(a){this.m=a;this.a=a.getSurface().getMedia()};_.u.onContentWillLoad=function(){this.a&&(this.h.on(this.a,"webkitplaybacktargetavailabilitychanged",this.Cm.bind(this)),this.h.on(this.a,"webkitcurrentplaybacktargetiswirelesschanged",this.en.bind(this)))};
_.u.onPlayerWillRelease=function(){this.o.stop();this.h.release()};_.u.id=function(){return"airplay"};_.u.Cm=function(a){switch(a.availability){case "available":this.f=!0;break;case "not-available":this.f=!1}this.m.trigger(new _.L(_.Pc,{canCast:this.f}))};_.u.en=function(){var a=(this.j=this.a.webkitCurrentPlaybackTargetIsWireless)?_.Oc:_.Mc;if(this.l||!this.m.isPaused()||this.m.getState()===_.iq)this.l?this.m.play()["catch"](function(){}):this.o.ca(.01);this.m.trigger(new _.L(a))};_.u.Kb=function(){return this.j};
_.u.Df=function(){return this.f};_.u.Vn=function(){this.f&&(this.l=!this.m.isPaused(),this.a.webkitShowPlaybackTargetPicker())};_.J("clpp.airplay.AirPlayPlugin",gY);gY.prototype.showCastMenu=gY.prototype.Vn;gY.prototype.canCast=gY.prototype.Df;gY.prototype.isCasting=gY.prototype.Kb;gY.Id="airplay";hY.prototype.create=function(){return new gY};_.gt(new hY);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();