(function(){var g={}; var _ = {};
(function(window){var ca,ea,fa,ha,ia,qa,ta,xa,za,Ca,Da,Ea,Ga,Ia,Na,Ra,Sa,Xa,Za,$a,eb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,rb,sb,xb,yb,zb,Ab,Bb,Cb,Db,Fb,Gb,Lb,Pb,Tb,Xb,Yb,Zb,$b,cc,ec,hc,ic,lc,mc,oc,pc,rc,sc,tc,Ac,Bc,Uc,Zc,ed,ld,md,td,ud,vd,xd,yd,zd,Bd,Cd,Dd,Ed,Fd,Ld,Md,Od,Rd,Xd,Yd,Zd,$d,ae,be,de,ge,he,ke,qe,xe,ze,Ae,He,$e,gf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,wf,xf,yf,zf,Af,Bf,Gf,Kf,Mf,ag,dg,kg,qg,tg,zg,Jg,Ng,Og,Pg,Qg,Rg,Tg,Ug,Vg,Zg,$g,dh,hh,jh,ih,kh,lh,mh,rh,uh,sh,th,vh,xh,yh,Ch,Fh,Kh,Oh,Qh,Rh,Th,Wh,Uh,Xh,$h,Yh,di,ji,ii,hi,mi,
pi,oi,ni,bi,ai,li,ci,si,ti,ui,wi,yi,xi,Ai,Li,Mi,Ni,Pi,Ri,Si,Ui,Vi,Zi,aj,cj,Xi,ej,tj,uj,xj,Bj,Dj,Ej,Hj,Cj,yj,Ij,Pj,Vj,Wj,Zj,ak,bk,dk,ek,fk,ik,uk,vk,wk,xk,yk,Ek,Gk,Hk,Nk,Ok,Rk,Tk,Sk,Qk,Uk,Pk,Xk,Vk,Wk,Yk,Zk,fl,ol,ql,Bl,Dl,El,Fl,Pl,Gl,Sl,Ul,Wl,Xl,Vl,Zl,$l,Tl,am,bm,cm,dm,em,im,jm,km,lm,fm,pm,qm,sm,um,wm,Cm,Dm,Em,Fm,Gm,Hm,Im,Jm,Km,Lm,Mm,Nm,Tm,en,ln,on,pn,rn,sn,zn,Dn,En,Jn,Pn,Qn,Sn,Tn,Yn,Zn,eo,fo,to,zo,Io,Fo,Go,Mo,Oo,Qo,Uo,Vo,Zo,Ko,Eo,fp,Xo,gp,ip,hp,np,mp,kp,lp,vo,Po,jp,wo,ep,Do,ap,bp,qp,dp,Jo,Ho,yo,vp,
xp,yp,zp,Ap,Fp,Jp,Kp,Mp,Qp,Vp,Ip,Wp,Xp,$p,cq,dq,fq,gq,bq,aq,hq,iq,jq,kq,oq,pq,qq,rq,sq,xq,yq,zq,Dq,Cq,Hq,Jq,Kq,Lq,Wq,Yq,Xq,Mq,Rq,Zq,$q,Fq,Uq,ar,Tq,Pq,Qq,Oq,Sq,Nq,br,dr,Vq,gr,Gq,Eq,hr,fr,Iq,nr,or,qr,pr,sr,rr,lr,vr,ur,yr,mr,Br,tr,zr,ir,wr,Ir,xr,Ar,Dr,Cr,Hr,Lr,Mr,Nr,Pr,Or,Rr,Sr,Tr,Ur,Qr,Wr,Yr,Zr,as,bs,cs,ds,es,fs,gs,hs,js,ks,ls,ms,is,ps,rs,qs,ss,ts,X,ys,Cs,As,Ds,Fs,Es,Hs,Is,Ns,Ps,Os,Ks,xs,Js,Rs,Ss,Ts,Ws,Xs,Vs,Us,$s,bt,at,et,ct,ht,it,gt,kt,lt,mt,jt,Zs,nt,Ys,qt,rt,st,ut,vt,wt,xt,yt,zt,At,Bt,Ct,Dt,Et,Ft,
Gt,Ht,It,Jt,Mt,Kt,Nt,Pt,Qt,Lt,Ot,Rt,St,Tt,Ut,Vt,Wt,Xt,Yt,Zt,$t,bu,du,eu,fu,cu,hu,iu,ou,tu,uu,wu,vu,rk,yu,Bu,Au,Cu,Du,zu,Fu,Gu,Eu,Hu,sk,Ku,lk,lv,ov,bh,qv;_.ba=" is registered.";ca=" is unsupported on this platform.";ea=" to a log level. Falling back to default!";fa="': 'output-restricted'";ha="() is ongoing!";ia=".start";_.ja="6.21.0";_.ka="AdaptationSet";_.la="Already destroyed. No-op";_.ma="Already released. No-op";_.na="Autoplay is not allowed due to browser policy.";_.oa="BANDWIDTH";_.pa="BASIC";
qa="CHECKSUM";_.ra="CLOSED-CAPTIONS";_.sa="CODECS";ta="Can not set volume to ";_.ua="Cannot retrieve buffer information due to platform limitations";_.va="CastlabsPlayer";_.wa="Configuration is valid";xa="Content-Length";za="Content-Type";_.Aa="Could not find configured DRM environment.";_.Ba="DRM environment '";Ca="DRM licenses loaded";Da="DRMtoday";Ea="DRMtodayOnboard";_.Fa="DURATION";Ga="Destroying player";_.Ha="Disable track type ";Ia="EXT-X-BYTERANGE";_.Ja="EXT-X-DATERANGE";_.Ka="EXT-X-DISCONTINUITY";
_.Ma="EXT-X-DISCONTINUITY-SEQUENCE";Na="EXT-X-ENDLIST";_.Oa="EXT-X-KEY";_.Pa="EXT-X-MAP";_.Qa="EXT-X-MEDIA-SEQUENCE";Ra="EXT-X-PART-INF";Sa="EXT-X-PLAYLIST-TYPE";_.Ta="EXT-X-PRELOAD-HINT";_.Ua="EXT-X-PROGRAM-DATE-TIME";Xa="EXT-X-SERVER-CONTROL";_.Ya="EXT-X-STREAM-INF";Za="EXT-X-TARGETDURATION";$a="Error while decoding string!";_.ab="Error while fetching license!";_.bb="FairPlay Certificate URL is not defined";_.cb="FairPlay License URL is not defined";_.db="GROUP-ID";eb="HW_SECURE_ALL";gb="HW_SECURE_CRYPTO";
hb="HW_SECURE_DECODE";ib="HeaderDrm";jb="Hide video element .";kb="Interstitial ";lb="Interstitial cue ";mb="Interstitials ";nb="Invalid track type: ";ob="InvalidStateError";pb="Key status for Key ID '";_.qb="LANGUAGE";rb="License verification failed: ";sb="Load interrupted while a player release is pending";_.tb="Loading player with configuration";_.ub="MaxHeight";_.wb="MaxWidth";xb="Missing media element";yb="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";
zb="No event provided!";Ab="No items in the playlist";Bb="No sources provided!";Cb="No track data attached to the event, unable to add track!";Db="Not a persistent session.";_.Eb="Not supported";Fb="NotAllowedError";Gb="NotSupportedError";_.Hb="PLAYLIST";_.Ib="POST";_.Kb="PlayReady License URL is not defined";Lb="Player not ready yet.";_.Mb="Player sources";_.Nb="Player state change: ";_.Ob="Please make sure ";Pb="Preloading is not supported by this player.";_.Qb="QualityLevel";_.Rb="RESOLUTION";
_.Sb="Representation";Tb="STANDARD";_.Ub="SUBTITLES";_.Vb="SW_SECURE_CRYPTO";_.Wb="SW_SECURE_DECODE";Xb="Session is closed";Yb="Setting native ";Zb="Show video element .";$b="Skipping Session creation. License for init data was already requested in Session: '";_.ac="SmoothStreamingMedia";_.bc="TYPE";cc="The index is not in the allowed range.";_.dc="URI";ec="Unable to translate ";_.fc="Unhandled/ignored event";_.gc="Unregistering listeners";hc="Unsupported keySystem";ic="Using VTTCue polyfill from 3 argument TextTrackCue.";
_.jc="VIDEO";_.kc="VOD";lc="Wait for preloading to finish";mc="WebkitEmeManager.MediaKeySession.load";_.nc="Widevine License URL is not defined";oc="Will create EME Manager: ";pc="X-ASSET-LIST";rc="X-ASSET-URI";sc="X-PLAYOUT-LIMIT";tc="X-RESUME-OFFSET";_.uc="ad-break-started";_.vc="ad-break-stopped";_.wc="ad-buffering";_.xc="ad-clicked";_.yc="ad-completed";_.zc="ad-first-quartile";Ac="ad-hls-asset-list-request";Bc="ad-hls-asset-list-response";_.Cc="ad-impression";_.Dc="ad-loaded";_.Ec="ad-midpoint";
_.Fc="ad-paused";_.Gc="ad-progress";_.Hc="ad-resumed";_.Ic="ad-skipped";_.Jc="ad-started";_.Kc="ad-stopped";_.Lc="ad-third-quartile";_.Mc="addtrack";_.Nc="ads-timeline-changed";_.Oc="airplay-casting-ended";_.Pc="airplay-casting-started";_.Qc="airplay-status-changed";_.Rc="application";_.Sc="application/cea-608";_.Tc="application/dash+xml";Uc="application/mp4";_.Vc='application/mp4; codecs\x3d"stpp"';_.Wc='application/mp4; codecs\x3d"wvtt"';_.Xc="application/ttml+xml";_.Yc="application/vnd.ms-sstr+xml";
Zc="application/x-www-form-urlencoded";_.$c="audio";_.ad="audio/aac";_.bd="audio/ac3";_.cd="audio/eac3";_.dd="audio/mp4";ed='audio/mp4;codecs\x3d"mp4a.40.2"';_.fd="audiobufferchanged";_.gd="autoplaynotallowed";_.hd="bitratechanged";_.id="boolean";_.jd="bufferingended";_.kd="bufferingstarted";ld="canplay";md="canplaythrough";_.nd="caption";_.od="castingstarted";_.pd="caststatuschanged";_.qd="cdn-switch-success";_.rd="cenc";_.sd="center";td="certificate-request";ud="change";vd="chrome";_.wd="clpp-fill";
xd="clpp-hidden";yd="clpp-mc-playlist";zd="clpp-visible";_.Ad="clpp.cast.CastSender";Bd="clpp.drm.HeaderDrm";Cd="clpp.drm.eme.AppleEmeManager";Dd="clpp.native.Player";Ed="clpp.plist.McPlaylist";Fd="clpp.utils.Platform";_.Gd="codecs";_.Hd="column-reverse";_.Id="com.adobe.primetime";_.Kd="com.apple.fps";Ld="com.apple.hls.interstitial";Md="com.apple.quicktime.HLS";_.Nd="com.microsoft.playready";Od="com.microsoft.playready.recommendation";_.Pd="com.widevine.alpha";_.Qd="config.drm.customData is not defined";
Rd="controls";_.Sd="cuechange";_.Td="decoder";_.Ud="destroy()";_.Vd="disabled";_.Wd="div";Xd="drm.license.req.";Yd="drm.mediaKeys.end";Zd="drm.mediaKeys.start";$d="drm.onPlay.end";ae="drm.onPlay.start";be="drm.sess.update.";_.ce="drmexpirationupdate";de="drmrenewalstarted";_.ee="drmsessionpersisted";_.fe="drmsessionupdate";ge="drmtoday";he="durationchange";_.je="ec-3";ke="encrypted";_.le="end";_.me="ended";_.ne="error";_.oe="estimatedThroughputKbps";_.pe="forced";qe="fullscreenElement";_.re="function";
_.se="height";_.te="hidden";_.ue="html";_.ve="image";_.we="internal-error";xe="keystatuseschange";_.ye="left";ze="license-renewal";Ae="license-request";_.Be="line-left";_.Ce="line-right";_.De="live-turned-static";_.Ee="load";_.Fe="loadeddata";_.Ge="loadedmetadata";He="loadstart";_.Ie="main";_.Je="mdat";_.Le="mdia";_.Me="message";_.Ne="metadata";_.Oe="mimeType";_.Pe="minf";_.Qe="moov";_.Re="mpd-type-changed";_.Se="mpeg-dash-callback-event";_.Te="none";_.k="number";_.Ue="object";_.Ve="onBitrateChanged()";
_.We="onPlayerError()";_.Xe="onPlayerWillDestroy";_.Ye="onPlayerWillRelease";_.Ze="onStateChanged()";$e="online-status-changed";_.af="optional";_.bf="org.w3.clearkey";_.cf="output-restricted";_.df="pause";_.ef="persistent";_.ff="persistent-license";gf="picture-in-picture";_.hf="play";jf="player.afterLoad.end";kf="player.afterLoad.start";lf="player.appendLoad.end";mf="player.appendLoad.start";nf="player.beforeLoad.end";of="player.beforeLoad.start";pf="player.load.end";qf="player.load.start";rf="player.setupPlaylist.end";
sf="player.setupPlaylist.start";_.tf="playing";_.uf="playlist-item-changed";_.vf="playlist-modified";wf="playlist.next.end";xf="playlist.next.start";yf="preload-aborted";zf="preload-failed";Af="preloaded";Bf="preloading";_.Ff="prevent";Gf="primary-content";_.Hf="progress";_.If="px";_.Jf="ratechange";Kf="released";_.Lf="releasing";Mf="removetrack";_.Nf="required";_.Of="resize";_.Pf="right";_.Qf="sc-playlist-ended";_.Rf="sc-playlist-item-changed";_.Sf="sc-playlist-live-turned-static";_.Tf="sc-playlist-timeline-changed";
_.Uf="seeked";_.Vf="seeking";_.Wf="showing";_.Xf="simid-creative-started";_.Yf="simid-creative-stopped";_.Zf="sinf";_.$f="smooth";ag="stalled";_.bg="start";_.cg="statechanged";dg="status-pending";_.eg="stbl";_.fg="string";_.gg="stsd";_.hg="style";_.ig="subtitle";_.jg="subtitles-htmlcue";kg="temporary";_.lg="text/vtt";_.mg="text/xml";_.ng="timeupdate";_.og="trak";_.pg="ttml-xml";qg="unauthenticated";_.rg="und";_.sg="unknown";tg="update";_.ug="urn:scte:scte35";_.vg="urn:scte:scte35:2014";_.wg="user-seeked";
_.xg="user-seeking";_.yg="value";zg="version";_.Ag="vertical-lr";_.Bg="vertical-rl";_.r="video";_.Dg="video/mp2t";_.Eg="video/mp4";_.Gg="videobufferchanged";_.Hg="videotrackchanged";_.Ig="vimond-response";Jg="visibilitychange";_.Kg="vtt-xml";_.Lg="waiting";_.Mg="waitingforkey";Ng="webkit-org.w3.clearkey";Og="webkitkeyadded";Pg="webkitkeyerror";Qg="webkitkeymessage";Rg="webkitneedkey";_.Sg="width";Tg="x-dt-csl-tracking-token";Ug="x-dt-follow-up-token";Vg="x-dt-resp-code";_.Wg="yospace-session-ended";
_.Xg="yospace-session-started";Zg=function(a){return function(){return _.Yg[a].apply(this,arguments)}};$g=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};_.w=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:$g(a)}};_.ah=function(a){if(!(a instanceof Array)){a=_.w(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};
_.x=function(a,b){a.prototype=bh(b.prototype);a.prototype.constructor=a;if(ch)ch(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};dh=function(){dh=function(){};eh.Symbol||(eh.Symbol=fh)};hh=function(a,b){this.a=a;gh(this,"description",{configurable:!0,writable:!0,value:b})};
jh=function(){dh();var a=eh.Symbol.iterator;a||(a=eh.Symbol.iterator=eh.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.re&&gh(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ih($g(this))}});jh=function(){}};ih=function(a){jh();a={next:a};a[eh.Symbol.iterator]=function(){return this};return a};kh=function(){this.w=!1;this.l=null;this.f=void 0;this.a=1;this.j=this.o=0;this.B=this.h=null};lh=function(a){if(a.w)throw new TypeError("Generator is already running");a.w=!0};
mh=function(a,b){a.h={uh:b,Vh:!0};a.a=a.o||a.j};_.y=function(a,b,c){a.a=c;return{value:b}};_.A=function(a){a.a=0};_.D=function(a,b,c){a.o=b;void 0!=c&&(a.j=c)};_.nh=function(a){a.o=0;a.j=2};_.oh=function(a,b){a.a=b;a.o=0};_.E=function(a){a.o=0;var b=a.h.uh;a.h=null;return b};_.ph=function(a){a.B=[a.h];a.o=0;a.j=0};_.qh=function(a){var b=a.B.splice(0)[0];(b=a.h=a.h||b)?b.Vh?a.a=a.o||a.j:void 0!=b.F&&a.j<b.F?(a.a=b.F,a.h=null):a.a=a.j:a.a=0};rh=function(a){this.a=new kh;this.f=a};
uh=function(a,b){lh(a.a);var c=a.a.l;if(c)return sh(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return th(a)};sh=function(a,b,c,d){try{var e=b.call(a.a.l,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.w=!1,e;var f=e.value}catch(g){return a.a.l=null,mh(a.a,g),th(a)}a.a.l=null;d.call(a.a,f);return th(a)};
th=function(a){for(;a.a.a;)try{var b=a.f(a.a);if(b)return a.a.w=!1,{value:b.value,done:!1}}catch(c){a.a.f=void 0,mh(a.a,c)}a.a.w=!1;if(a.a.h){b=a.a.h;a.a.h=null;if(b.Vh)throw b.uh;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
vh=function(a){this.next=function(b){lh(a.a);a.a.l?b=sh(a,a.a.l.next,b,a.a.A):(a.a.A(b),b=th(a));return b};this["throw"]=function(b){lh(a.a);a.a.l?b=sh(a,a.a.l["throw"],b,a.a.A):(mh(a.a,b),b=th(a));return b};this["return"]=function(b){return uh(a,b)};jh();this[Symbol.iterator]=function(){return this}};_.wh=function(a,b){var c=new vh(new rh(b));ch&&ch(c,a.prototype);return c};
xh=function(a,b){if(b){for(var c=eh,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&gh(c,d,{configurable:!0,writable:!0,value:f})}};yh=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};_.I=function(a){return yh(new vh(new rh(a)))};
_.J=function(a,b){var c=a.split("."),d=zh;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};Ch=function(a){return a&&0<=Ah[a]?Ah[a]:Bh};Fh=function(a){if(!a)return _.Dh("clpp.log",ec+a+ea),-1;var b=Eh[a.toUpperCase()];return void 0===b?(_.Dh("clpp.log",ec+a+ea),-1):b};_.K=function(a){(this.tag=a)&&void 0===Ah[a]&&(Ah[a]=-1)};_.Hh=function(a){Gh.info.apply(Gh,arguments)};
_.Ih=function(a){Gh.debug.apply(Gh,arguments)};_.Dh=function(a){Gh.warn.apply(Gh,arguments)};_.Jh=function(a){Gh.error.apply(Gh,arguments)};Kh=function(a,b){this.Ba=a;this.sourceIndex=b};_.Nh=function(a){if(a){var b=a.a();b in _.Lh?_.Mh.warn("Player-Factory '"+b+"' already registered"):(_.Lh[b]=a,_.Mh.info("Registered Player-Factory: '"+b+"'"))}};Oh=function(a){return Object.values(_.Lh).find(a)||null};_.Ph=function(){this.a={}};Qh=function(a,b,c,d){this.f=a;this.Rc=b;this.a=c;this.kn=!!d};
_.L=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.f=this.a=!1};Rh=function(a){this.a=new _.Ph;this.f=a};_.Sh=function(){this.a=new _.Ph};
Th=function(a,b,c){function d(h){for(var l=_.w(e),m=l.next();!m.done;m=l.next())a.off(b,m.value,d);c(h)}for(var e=[ke,"msneedkey",Rg,"needkey"],f=_.w(e),g=f.next();!g.done;g=f.next())a.on(b,g.value,d)};_.Vh=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)Uh(c[b]);a.a.clear()};Wh=function(a,b,c,d){this.target=a;this.type=b;this.a=c;this.f=d;this.target.addEventListener(b,c,d)};Uh=function(a){a.target.removeEventListener(a.type,a.a,a.f);a.target=null;a.a=null};
Xh=function(a){this.m=a;this.l=a.getConfiguration().streaming.addMissingTimelineCues||!1;this.j=new _.Sh;this.f=new Set;this.a=new Set;this.h=null;this.g=new _.K("clpp.native.Metadata")};$h=function(a,b){a.j.on(b,_.Mc,function(c){c=c.track;c.kind===_.Ne&&Yh(a,c)})};
Yh=function(a,b){a.g.debug("onMetadataTrackAdded_()");b.mode=_.te;var c=!b.cues||0===b.cues.length;if(a.m.isLive()||!c){var d=b.cues;c=ai(d);bi(c);a.a=ci(c,a.l);0<a.a.size&&(di(a,a.a),a.m.trigger(new _.L(_.ei)));a.j.on(b,_.Sd,function(){for(var e=a.m.getPosition(),f=_.w(a.a),g=f.next();!g.done;g=f.next()){var h,l=a;g=g.value;if(Infinity===g.endTime){if(h=!l.f.has(g)){h=g.startTime;var m=h+.5;h=h<=e&&e<=m}h&&(l.f.add(g),l.m.trigger(new _.L(_.fi,{detail:g})))}else h=g.startTime<=e&&e<=g.endTime,!h&&
l.f.has(g)?(l.f["delete"](g),l.m.trigger(new _.L(_.gi,{detail:g}))):h&&!l.f.has(g)&&(l.f.add(g),l.m.trigger(new _.L(_.fi,{detail:g})))}});a.m.isLive()&&(a.h=setInterval(function(){if(b.cues){var e=a.m.getSeekRange().start;for(var f=[],g=_.w(b.cues),h=g.next();!h.done;h=g.next())h=h.value,h.endTime<e&&f.push(h);hi(a,b,f);0<f.length&&a.g.debug("Evicted "+f.length+" old cues.");g=_.w(a.a);for(h=g.next();!h.done;h=g.next())h=h.value,h.endTime<e&&a.a["delete"](h);e=0<f.length}else e=!1;ii(a,b);f=ai(d);
var l=ci(f,a.l);g=new Set;h=!1;l=_.w(l);for(var m=l.next();!m.done;m=l.next()){m=m.value;var n=ji(a,m);n?(m.customAttributes&&(n.customAttributes=_.M.pa(n.customAttributes||{},m.customAttributes)||void 0),h=!0):(a.a.add(m),g.add(m))}h=0<g.size||h;bi(f);(e||h)&&a.m.trigger(new _.L(_.ei));di(a,g)},6E3))}};di=function(a,b){for(var c=_.w(b),d=c.next();!d.done;d=c.next())a.m.trigger(new _.L(_.ki,{detail:d.value}))};
ji=function(a,b){return Array.from(a.a.values()).find(function(c){return b.startTime===c.startTime&&b.endTime===c.endTime})||null};ii=function(a,b){if(b.cues){var c=li(b.cues).filter(function(l){return l.type===Md}),d=c.filter(function(l){return l.ig}),e=c.filter(function(l){return!l.ig});c=[];e=_.w(e);for(var f=e.next();!f.done;f=e.next()){f=f.value;for(var g=_.w(d),h=g.next();!h.done;h=g.next())h=h.value,mi(f,h)&&(c.push(f),h.rh=f.startTime)}hi(a,b,c);0<c.length&&a.g.debug("Removed "+c.length+" duplicated cues.")}};
hi=function(a,b,c){c=_.w(c);for(var d=c.next();!d.done;d=c.next()){d=d.value;try{b.removeCue(d)}catch(e){a.g.debug("Failed to remove cue",d,e)}}};mi=function(a,b){var c=a.endTime-a.startTime,d=b.endTime-b.startTime,e=a.rh||a.startTime,f=b.rh||b.startTime;return(Infinity===c&&Infinity===d||.01>Math.abs(c-d))&&.5>Math.abs(e-f)&&a.value.key===b.value.key&&a.value.data===b.value.data};
pi=function(a){var b=[],c={};a=_.w(a);for(var d=a.next();!d.done;c={md:c.md},d=a.next())c.md=d.value,(d=b.find(function(e){return function(f){var g=e.md;return f.startTime===g.startTime&&f.endTime===g.endTime}}(c)))?ni(c.md,d):(d=oi(c.md),b.push(d));return b};oi=function(a){var b=a.startTime,c=a.endTime;b={schemeIdUri:"",value:"",startTime:b,endTime:c,id:"T"+b.toFixed(2)+"-"+c.toFixed(2),type:_.qi,eventElement:null};ni(a,b);return b};
ni=function(a,b){if(a.key.startsWith("X-"))b.customAttributes||(b.customAttributes={}),b.customAttributes[a.key]=a.value,"X-CUSTOM-ID"===a.key&&(b.id=a.value);else if("SCTE35-OUT"===a.key||"SCTE35-IN"===a.key)b.schemeIdUri=_.vg,b.type=_.ri};bi=function(a){a.forEach(function(b){b.ig=!0})};ai=function(a){return li(a).filter(function(b){return b.type===Md&&!b.ig})};li=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next())b.push(c.value);return b};
ci=function(a,b){var c=a.map(function(d){return{startTime:d.startTime,endTime:d.endTime,key:d.value.key,value:d.value.data,Wh:!1}});c=si(c);b&&(c=ti(c));return new Set(pi(c))};si=function(a){var b=new Set(a),c=new Set(a.filter(function(d){return"SCTE35-OUT"===d.key}).map(ui));a.filter(function(d){return"SCTE35-IN"===d.key}).forEach(function(d){c.has(ui(d))||(d.Wh=!0)});return Array.from(b.values())};ti=function(a){a.forEach(function(b){b.Wh&&(b.endTime=b.startTime,b.startTime=0)});return a};
ui=function(a){return a.startTime+"-"+a.endTime};_.vi=function(a){return Array.isArray(a)?a:[a]};wi=function(a,b){return a===b?!0:a.length===b.length&&a.every(function(c,d){return c===b[d]})};yi=function(a,b,c){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;a=c?a.map(c):a;b=c?b.map(c):b;return xi(a,b)&&xi(b,a)};xi=function(a,b){var c=new Set(a);return b.every(function(d){return c.has(d)})};
_.zi=function(a,b){b=void 0===b?{}:b;if(b.mh){for(var c=[],d={},e=_.w(a),f=e.next();!f.done;d={ke:d.ke},f=e.next())d.ke=f.value,c.some(function(g){return function(h){return b.mh(g.ke,h)}}(d))||c.push(d.ke);return c}return Array.from((new Set(a)).values())};Ai=function(a,b){var c=new Set(a),d=new Set(b);return{ln:a.filter(function(e){return!d.has(e)}),Eo:a.filter(function(e){return d.has(e)}),gj:b.filter(function(e){return!c.has(e)})}};
_.Hi=function(a,b,c,d){d=void 0===d?_.Bi:d;this.startTime=a;this.endTime=b;this.payload=c;this.payloadType=d;this.positionAlign=this.position=null;this.size=100;this.textAlign=_.Ci;this.writingMode=_.Di;this.lineInterpretation=_.Ei;this.line=null;this.lineAlign=_.Fi;this.direction=Gi;this.region=null;this.cssClassList=[];this.id=this.backgroundImage="";this.containerRows=null};
_.Ki=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=_.Ii;this.scroll=Ji;this.cssClassList=[];this.writingMode=this.displayAlign=null};Li=function(a){this.m=a;this.l=a.getTextDisplayer();this.f=this.h=null;this.a=new _.Sh;this.j=!1;this.g=new _.K("clpp.native.CueHandler")};
Mi=function(a,b){var c=b.track;c.kind!==_.Ne&&(c.mode===_.Wf&&(c.mode=_.te),a.a.on(c,_.Sd,function(d){d=d.target||d.srcElement;d.mode=_.te;d.activeCues&&(d=Array.from(d.activeCues).map(a.o),a.l.append(d,[]))}))};_.N=function(a,b,c,d,e){var f=Error.call(this,Ni(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.severity=a;this.category=b;this.code=c;this.data=!d||_.M.da(d)?{}:d;this.cause=void 0===e?null:e;this.f=!1;Error.captureStackTrace&&Error.captureStackTrace(this,_.N)};
Ni=function(a,b,c,d){a=(a===_.P?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.M.da(d))a+=": "+d;else if(null!=d)if(null!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};_.Oi=function(a,b){var c=Error.call(this,a);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.code=b};
Pi=function(a,b){var c=b||wi,d=null,e=null,f=!1;return function(g){for(var h=[],l=0;l<arguments.length;++l)h[l]=arguments[l];if(f&&c(h,d))return e;f=!0;d=h;return e=a.apply(null,_.ah(h))}};_.Qi=function(a){return null!=a};Ri=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}throw new _.Oi("No non-null, non-undefined value found");};
Si=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}};_.Ti=function(a){var b;a instanceof _.Ti?(Ui(this,a.ub),this.Bc=a.Bc,this.Ua=a.Ua,Vi(this,a.jd),this.Ha=a.Ha,_.Wi(this,Xi(a.a)),this.sc=a.sc):a&&(b=String(a).match(Yi))?(Ui(this,b[1]||"",!0),this.Bc=Zi(b[2]||""),this.Ua=Zi(b[3]||"",!0),Vi(this,b[4]),this.Ha=Zi(b[5]||"",!0),_.Wi(this,b[6]||"",!0),this.sc=Zi(b[7]||"")):this.a=new _.$i(null)};
Ui=function(a,b,c){a.ub=c?Zi(b,!0):b;a.ub&&(a.ub=a.ub.replace(/:$/,""))};Vi=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.jd=b}else a.jd=null};_.Wi=function(a,b,c){b instanceof _.$i?a.a=b:(c||(b=aj(b,bj)),a.a=new _.$i(b))};Zi=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};aj=function(a,b,c){return typeof a===_.fg?(a=encodeURI(a).replace(b,cj),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};
cj=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};_.$i=function(a){this.f=a||null};Xi=function(a){var b=new _.$i;b.f=a.f;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.h=a.h}return b};ej=function(a,b){for(var c=_.w(dj[a]),d=c.next();!d.done;d=c.next()){d=d.value;for(var e=_.w(b),f=e.next();!f.done;f=e.next())if(f=f.value,d.test(f.trim()))return f.trim()}return a===_.Q?"":null};
_.gj=function(a,b){for(var c=fj[a],d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d].test(b[e].trim()))return b[e].trim();return a===_.Q?"":null};_.jj=function(a,b,c){return a.map(function(d){d=_.hj(d)||"";return(d=_.ij[b][d])?d:b===_.Q?c&&"vtt"!==c?Uc:_.lg:null}).filter(Boolean)[0]||null};_.hj=function(a){a=(new _.Ti(a)).Ha.split(".");return 1>=a.length?null:a.pop()};_.kj=function(a,b,c,d){this.id=a;this.name=b;this.attributes=c;this.value=void 0===d?null:d};
_.lj=function(a,b,c,d){d=void 0===d?{}:d;a=a.getAttribute(b);if(!a&&d.required)throw new _.N(_.P,4,4023,"Required attribute missing: "+b);return a?a.value:c||null};_.mj=function(a,b){return _.lj(a,b,void 0,{required:!0})};_.nj=function(a,b){this.name=a;this.value=b};
_.oj=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t,v){l=void 0===l?!1:l;m=void 0===m?null:m;n=void 0===n?null:n;p=void 0===p?null:p;q=void 0===q?null:q;t=void 0===t?[]:t;v=void 0===v?null:v;this.position=a;this.startTime=b;this.endTime=c;this.Da=g;this.Xa=d;this.ya=e;this.la=f;this.keyInfo=(void 0===h?null:h)||null;this.Xc=_.M.R(l)?!1:!!l;this.timescale=m;this.horizontalTiles=n;this.verticalTiles=p;this.durationPerTile=q;this.a=t||[];this.h=!1;this.initSegment=v};
_.pj=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t,v){t=void 0===t?[]:t;_.oj.call(this,a,b,c,d,e,f,g,void 0===h?null:h,void 0===l?!1:l,void 0===m?null:m,void 0===n?null:n,void 0===p?null:p,void 0===q?null:q,t,void 0===v?null:v);this.ka=0};_.rj=function(a,b){a=_.qj(a);b=_.qj(b);return a.split("-")[0]===b.split("-")[0]};_.qj=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=sj.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};tj=function(a){if(null!==a&&void 0!==a)return Number(a)};
uj=function(a){return a.reduce(function(b,c){return b+c},0)};_.vj=function(a){if(typeof a!==_.fg)return null;var b=a.trim().match(/^(\d+)x(\d+)$/);if(!b)return null;a=parseInt(b[1],10);b=parseInt(b[2],10);return 0>=a||0>=b?null:{Pd:a,fe:b,Hn:a*b}};_.wj=function(a,b){for(var c=_.w(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};xj=function(){};
Bj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.byteLength!==b.byteLength)return!1;if(yj(a)===yj(b)&&(a.byteOffset||0)===(b.byteOffset||0))return!0;for(var c=_.zj(a),d=_.zj(b),e=_.w(Aj(a.byteLength)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!==d[f])return!1;return!0};_.zj=function(a,b,c){c=void 0===c?Infinity:c;return Cj(a,void 0===b?0:b,c,Uint8Array)};Dj=function(a,b,c){c=void 0===c?Infinity:c;return Cj(a,void 0===b?0:b,c,Uint16Array)};
Ej=function(a,b,c){c=void 0===c?Infinity:c;return Cj(a,void 0===b?0:b,c,Uint32Array)};_.Fj=function(a,b,c){c=void 0===c?Infinity:c;return Cj(a,void 0===b?0:b,c,Int32Array)};_.Gj=function(a,b,c){c=void 0===c?Infinity:c;return Cj(a,void 0===b?0:b,c,DataView)};Hj=function(a){return a instanceof ArrayBuffer?a:0===a.byteOffset&&a.byteLength===a.buffer.byteLength?a.buffer:(new Uint8Array(a)).buffer};
Cj=function(a,b,c,d){var e=d.BYTES_PER_ELEMENT||1,f=yj(a),g=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+b*e,g));c=Math.min(a+Math.max(c*e,0),g);a/=e;return new d(f,a,c/e-a)};yj=function(a){return a instanceof ArrayBuffer?a:a.buffer};Ij=function(){};_.Kj=function(a,b){b=void 0===b?!0:b;var c=_.Jj(a).replace(/\+/g,"-").replace(/\//g,"_");return b?c:c.replace(/[=]*$/,"")};
_.Lj=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.Mj=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};_.Nj=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1===d.length&&(d="0"+d);b+=d}return b};
_.Oj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0};Pj=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};_.Jj=function(a){a=_.R.fromCharCode(_.zj(a));return btoa(a)};_.Qj=function(a){this.f=a;this.a=0};
_.Rj=function(a,b){b.lastIndex=a.a;var c=b.exec(a.f);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a===a.f.length||null===c||c.position!==a.a)return null;a.a+=c.length;return c.results};
_.Sj=function(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new _.N(_.P,4,4016,{invalidTag:b});var d=c[1],e=c[2];c=[];var f;if(e){e=new _.Qj(e);var g;(g=_.Rj(e,/^([^,=]+)(?:,|$)/g))&&g[1]&&(f=g[1].trim());for(var h=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;g=_.Rj(e,h);)c.push(new _.nj(g[1],g[2]||g[3]||""))}return new _.kj(a,d,c,f)};_.Uj=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0,fatalStatusCodes:_.ah(Tj).concat()}};
Vj=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts;a.fatalStatusCodes=b.fatalStatusCodes||_.ah(Tj).concat()};Wj=function(a){var b={};a.forEach(function(c,d){b[d.trim()]=c});return b};
_.Yj=function(a,b){_.M.da(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.Xj,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:a.timescale||null,rateLimitBps:a.rateLimitBps||null,disableFragmentSupport:a.disableFragmentSupport||!1,disableMergedFragments:a.disableMergedFragments||!1,fatalStatusCodes:_.ah(Tj).concat(),requestStartTimestamp:null};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&
Vj(c,b);return c};_.ck=function(a,b,c,d,e,f,g,h){a={uri:e||d,data:b,headers:a,status:c,timeMs:g,responseStartMs:h,request:f};if(Zj(c))return ak(a);throw bk(a);};Zj=function(a){return 200<=a&&299>=a&&202!==a};ak=function(a){return{uri:a.uri,data:a.data||new ArrayBuffer(0),headers:a.headers,status:a.status,fromCache:!!a.headers["x-shaka-from-cache"],timeMs:a.timeMs,responseStartMs:a.responseStartMs,request:a.request}};
bk=function(a){a=ak(a);try{var b=_.R.Kd(a.data,!0)}catch(d){b=null}_.Ih("HTTP error text:",b);var c=a.request;return new _.N(0<=(c?c.fatalStatusCodes||[]:[]).indexOf(a.status)?_.P:1,1,1001,{url:a.uri,status:a.status,responseText:b,headers:a.headers,request:a.request,response:a})};dk=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};
ek=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};fk=function(a,b,c){if(0>=a)return Promise.resolve();var d=8*c/a-b/1E3;return 0<d?new Promise(function(e){setTimeout(e,1E3*d)}):Promise.resolve()};
_.gk=function(){this.Gi=this.Te=this.done=!1;this.error=this.value=null;var a,b,c=new Promise(function(d,e){a=function(f){this.done=this.Te=!0;this.value=f;d(f)};b=function(f){this.done=this.Gi=!0;this.error=f;e(f)}});c.Te=!1;c.done=!1;c.Gi=!1;c.value=null;c.error=null;c.resolve=a;c.reject=b;return c};_.hk=function(a,b){this.U=a;this.A=b;this.a=!1};ik=function(a,b){a.U.then(function(){return b(!0)},function(){return b(!1)});return a};_.jk=function(){this.a=[]};
_.kk=function(a,b){a.a.push(ik(b,function(){var c=a.a,d=c.indexOf(b);-1<d&&c.splice(d,1)}))};_.tk=function(){this.f=[];this.h=[];this.j=[];this.w=!1;this.o=new _.jk;this.a={};this.headers=new Map;this.l=0;this.a.data=lk;!window.fetch||!window.AbortController||_.ok(6)||_.pk()&&68<_.qk().browserVersion.major?(this.a.http=rk,this.a.https=rk):(this.a.http=sk,this.a.https=sk)};uk=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.R,_.y(e,a.fetch(b),2);d=e.f;return e["return"](c.fi(c.aa(d.data)))})};
vk=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.y(e,uk(a,b),2);c=e.f;try{d=JSON.parse(c);if(null==d||typeof d!==_.Ue)throw Error("Not an object");return e["return"](d)}catch(f){throw new _.Oi("Failed to parse JSON response","json-failed");}})};
wk=function(a,b,c,d){d=void 0===d?"HEAD":d;var e,f;return _.I(function(g){switch(g.a){case 1:if(!navigator.onLine)return g["return"](!1);if(!b){g.F(2);break}e=_.Yj(b,c);e.method=d;c||(e.timeout=5E3);e.headers["cache-control"]="no-cache";_.D(g,4);return _.y(g,a.fetch(e).U,6);case 6:_.oh(g,2);break;case 4:if(f=_.E(g),1002===f.code||1003===f.code)return g["return"](!1);case 2:return g["return"](!0)}})};
xk=function(a,b){for(var c=_.w(a.headers),d=c.next();!d.done;d=c.next()){var e=_.w(d.value);d=e.next().value;e=e.next().value;b.headers[d]||(b.headers[d]=e)}};yk=function(a,b){var c=new _.Ti(b.uris[b.uriIndex]),d=c.ub;d||(d=location.protocol,d=d.slice(0,-1),Ui(c,d),b.uris[b.uriIndex]=c.toString());var e=a.a[d];if(!e)throw new _.N(_.P,1,1E3,{url:c.toString()});return function(f){return e(f)}};
_.zk=function(a,b){this.id=a;this.type=b;this.roles=[];this.frameRate=this.label=this.originalLanguage=this.language=this.kind=null;this.trickPlay=!1;this.channelsCount=this.src=this.mimeType=null;this.spatialAudio=!1;this.renditions=[];this.accessibility=[]};_.Ak=function(a){return a&&a!==_.rg?a:null};
Ek=function(a){if(!a)throw new _.N(_.P,3,3101,nb+a);if(!_.M.da(a))throw new _.N(_.P,3,3101,nb+a+". Track type must be a string!");switch(a.toLowerCase()){case _.S:return _.S;case _.Bk:return _.Bk;case _.Ck:return _.Ck;case Dk:return Dk}throw new _.N(_.P,3,3101,"Unknown track type: "+a+".");};
Gk=function(a,b){a=Ek(a);var c=_.Ak(b.kind),d=b.id;d||(d=String(_.Fk++));d=new _.zk(d,c===_.Ne?Dk:a);d.kind=c;d.label=_.Ak(b.label);d.language=_.Ak(b.language);d.originalLanguage=b.originalLanguage||d.language;return d};Hk=function(a){return"@@scheme:"+(a.scheme||"")+("@@value:"+a.value)+("@@id:"+(a.id||"")+"@@type:"+(a.type||""))+("@@protocol:"+(a.protocol||""))};_.Ik=function(a,b){this.track=b;this.id=a;this.originalId=this.codec=this.sd=this.bandwidth=this.height=this.width=null};
_.Jk=function(a){this.j=a;this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.a=d?"":b.hostname;this.port=b.port;this.path=b.pathname;_.R.startsWith(this.path,
"/")||(this.path="/"+this.path);this.f=b.search;this.h=b.hash};_.Kk=function(a){return a.scheme+"//"+(a.a+(a.port?":"+a.port:"")+a.path+a.h+a.f)};_.Lk=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!(e in a))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};
_.Mk=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a=_.w(a.split("\x26"));for(var c=a.next();!c.done;c=a.next()){var d=c.value.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)}return b};Nk=function(a,b){return a.startsWith("http:://")||a.startsWith("https:://")?a:(new URL(a,b)).toString()};
Ok=function(a){this.f=a;this.g=new _.K("clpp.native.hls.HlsMetadataParser");this.a=Pi(this.h.bind(this),function(b,c){return b[0]===c[0]&&b[1].enableHlsVideoTrackInfo===c[1].enableHlsVideoTrackInfo&&b[1].enableMetadata===c[1].enableMetadata})};
Rk=function(a,b,c){var d,e,f,g,h;return _.I(function(l){if(1==l.a)return _.y(l,Pk(a,b,c),2);d=l.f;e=d.mimeType;f=d.renditions;g=new _.zk("dummy",_.Ck);h=f.map(function(m,n){var p=new _.Ik("R"+n,g);p.bandwidth=m.bandwidth;p.sd=m.sd;p.codec=m.codec;p.width=m.width;p.height=m.height;return p});Qk(h);return l["return"]({renditions:h,mimeType:e||void 0})})};
Tk=function(a){a=a.split("\n").filter(function(c){return c.trim().startsWith("#EXT-X-MEDIA:")}).map(function(c){return Sk(c)});var b=new Map;a.forEach(function(c){if(c.type&&c.name){var d=c.type+":"+c.name;if(b.has(d))throw Error("#EXT-X-MEDIA:NAME attributes are not unique. It is impossible to map HLS metadata to Safari data structures.");b.set(d,c)}});return b};
Sk=function(a){function b(d){return(d=c.getAttribute(d))?d.value:void 0}var c=_.Sj(0,a);a=b(_.bc);a=null!=a?{AUDIO:_.Bk,VIDEO:_.Ck,SUBTITLES:_.S}[a]:void 0;return{type:a,groupId:b(_.db),name:b("NAME"),language:b(_.qb),lo:b("AUTOSELECT"),"default":b("DEFAULT"),wo:b("FORCED"),Tg:b("CHARACTERISTICS"),uri:b(_.dc)}};Qk=function(a){var b=new Set;a.forEach(function(c){b.add(c.width+"x"+c.height)});if(b.size<a.length)throw Error("Playlist contains multiple renditions with the same resolution.");};
Uk=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.Yj(b),_.y(e,uk(a.f,c),2);d=e.f;return e["return"](d)})};Pk=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return d=Vk(b),e=Wk(b,c),f=d[0]?d[0].codec:null,_.y(h,Xk(a,e,f),2);g=h.f;return h["return"]({mimeType:g,renditions:d})})};Xk=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return b&&c?_.y(f,Uk(a,b),2):f["return"](null);d=f.f;e=[Yk(d,b),Zk(d,b)].filter(Boolean);return f["return"](_.jj(e,_.r,c))})};
Vk=function(a){return a.split("\n").filter(function(b){return b.trim().startsWith("#EXT-X-STREAM-INF:")}).map(function(b){var c=_.Sj(0,b);if(c.getAttribute(_.jc))throw Error("Playlist contains alternative video streams.");var d=_.lj(c,_.Rb);b=d?Number(d.split("x")[0]):null;d=d?Number(d.split("x")[1]):null;var e=_.lj(c,_.oa);e=e?Number(e):null;var f=_.lj(c,"AVERAGE-BANDWIDTH");f=f?Number(f):null;c=_.lj(c,_.sa);c=_.gj(_.r,c?c.split(","):[]);return{bandwidth:e,sd:f,codec:c,width:b,height:d,mimeType:null}})};
Wk=function(a,b){var c=a.split("\n").filter(function(d){return d.trim().endsWith(".m3u8")})[0];return c?Nk(c,b):null};Yk=function(a,b){var c=a.split("\n").find(function(d){return!d.startsWith("#")&&0<d.trim().length});return c?Nk(c,b):null};Zk=function(a,b){var c=a.split("\n").find(function(d){return d.startsWith("#EXT-X-MAP:")});return c?(c=_.lj(_.Sj(0,c),_.dc))?Nk(c,b):null:null};
_.al=function(a,b,c){for(var d=_.w(_.$k),e=d.next();!e.done;e=d.next())if(e=e.value,e.probe(b,c))return e.create(a);return null};_.bl=function(a){a=_.$k.indexOf(a);0<=a&&_.$k.splice(a,1)};_.U=function(){};fl=function(a,b){var c=dl;el.set(a.toLowerCase().split(";")[0]+"-"+c,{priority:c,plugin:b})};_.jl=function(a,b){for(var c=_.w([gl,hl,il,dl]),d=c.next();!d.done;d=c.next())if(d=el.get(a.toLowerCase().split(";")[0]+"-"+d.value)){var e=d.plugin(),f=e.isSupported(a,b);e.destroy();if(f)return d.plugin}return null};
_.kl=function(a,b){var c=a;b&&(c+=';codecs\x3d"'+b+'"');return c.replace(/\s/g,"")};_.ll=function(a){return a.split(";")[0]};_.ml=function(a){a=a.split(/\s*;\s*/);a.shift();return(a=a.find(function(b){return b.startsWith("codecs\x3d")}))?a.split("\x3d")[1].replace(/^"|"$/g,"").split(/\s*,\s*/).join(","):""};_.nl=function(a){this.f=a;this.a=null};
ol=function(a,b,c){function d(){e&&a.f()}a.stop();var e=!0,f=null;a.a=function(){c?clearInterval(f):clearTimeout(f);e=!1};f=c?setInterval(d,1E3*b):setTimeout(d,1E3*b);return a};_.pl=function(a){this.f=a;this.a=null};ql=function(){};_.rl=function(){return!!navigator.userAgent.match(/Edge?\//)};_.ok=function(a){return _.sl("Tizen"+(a?" "+String(a):""))};_.pk=function(){return _.sl("Web0S")};_.ul=function(){return _.pk()&&79===_.tl().major};_.vl=function(){return _.sl("CrKey")};
_.wl=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.ok()};_.xl=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:_.wl()&&1<navigator.maxTouchPoints};_.yl=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)};_.sl=function(a){return(navigator.userAgent||"").includes(a)};
Bl=function(){if(zl)return zl;Al||(Al=new _.pl(function(){zl=null}));(zl=document.querySelector(_.r)||document.querySelector(_.$c))||(zl=document.createElement(_.r));Al.ea(1);return zl};Dl=function(a,b){try{return parseInt(b,10)}catch(c){Cl.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
El=function(a){var b={major:-1,name:_.sg};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=Dl(a,c[0]));2<=c.length&&(b.minor=Dl(a,c[1]));3<=c.length&&(b.patch=Dl(a,c[2]));4<=c.length&&(b.build=Dl(a,c[3]));return b};Fl=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
Pl=function(){var a=Gl();if(!a)return Hl;var b=a.match(/^.+?(?=\))/);if(!b)return Hl;b=b[0];if(Fl(b,["iphone","ipad"]))return Il;if(Fl(b,["android"]))return Jl;if(Fl(b,["macintosh"]))return Kl;if(Fl(b,["windows nt"]))return Ll;if(Fl(b,["tizen"]))return Ml;if(Fl(b,["web0s"]))return Nl;if(Fl(b,["linux"]))return Ol;Cl.warn("Unable to identify OS from user agent: "+a);return Hl};
_.tl=function(){var a=Gl(),b=["ie","edge","opera","firefox","safari",vd];var c=Pl();for(var d=Ql[c],e=0,f=b.length;e<f;e++)if(c=d[b[e]]&&a.match(d[b[e]]))return El(c[1]);return El("")};Gl=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.qk=function(){var a=Pl();var b=Pl();var c=Ql[b];if(c){c=Gl().match(c.os_version)[1];c=El(c);if(b===Ll)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=El("");a:{c=Gl();var d=["ie","edge","opera","firefox","safari",vd],e=Pl();e=Ql[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=Rl}return{os:a,osVersion:b,browser:c,browserVersion:_.tl()}};
Sl=function(){this.g=new _.K("clpp.native.TrackManager");this.m=null;this.f=new _.Sh;this.h=[];this.B=0;this.o={};this.C=[];this.a=new Map;this.w=null;this.l=new Map;this.A=!0;this.J=this.ag.bind(this,_.S);this.L=this.cg.bind(this,_.S);this.K=this.bg.bind(this,_.S);this.N=this.ag.bind(this,_.Ck);this.V=this.cg.bind(this,_.Ck);this.P=this.bg.bind(this,_.Ck);this.G=this.ag.bind(this,_.Bk);this.I=this.cg.bind(this,_.Bk);this.H=this.bg.bind(this,_.Bk);this.j=null};
Ul=function(a,b){var c,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){c=a.m.getConfiguration();d=_.al(c,b.mimeType,_.lg);if(!d)return a.g.warn("Track MIME type is not supported",b),n["return"]();e=_.Yj(b.url);return _.y(n,a.m.getNetworkEngine().fetch(e).U,2)}(f=n.f)&&f.data&&(g="External_"+a.B++,a.o[g]=b,h=d.a(_.zj(f.data)),l=URL.createObjectURL(new Blob([h])),m={url:l,kind:b.kind,language:b.language,label:b.label,mimeType:_.lg},Tl(a,m,g));_.A(n)})};Wl=function(a,b,c){return Vl(a)&&b===_.Ck&&!!c.enableHlsVideoTrackInfo};
Xl=function(a,b,c){return Vl(a)&&(b===_.Bk||b===_.S)&&!!c.enableMetadata};Vl=function(a){a=a.m.getLoadedSource();return!(!a||a.type!==_.Yl&&!a.url.endsWith(".m3u8"))&&_.wl()};Zl=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return(d=a.m.getLoadedSource())&&a.j?_.y(f,a.j.a(d.url,c),2):f["return"]();e=f.f;e.mimeType&&(b.mimeType=e.mimeType);e.renditions&&0<e.renditions.length&&(b.renditions=e.renditions,b.renditions.forEach(function(g){g.track=b}));_.A(f)})};
$l=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return(d=a.m.getLoadedSource())&&a.j?_.y(h,a.j.a(d.url,c),2):h["return"]();e=h.f;e.gd&&(f=b.type+":"+b.label,(g=e.gd.get(f))&&g.Tg&&(b.accessibility=g.Tg.split(",").map(function(l){return l.trim()}).map(function(l){return{value:l,type:b.type,protocol:"HLS"}})));_.A(h)})};
Tl=function(a,b,c){if(a.m){var d=a.m.getSurface().getMedia();if(d){var e=document.createElement("track");e.id=c;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);_.R.empty(b.url)?e.src=URL.createObjectURL(new Blob([])):e.src=b.url;d.appendChild(e);a.C.push(e)}}};am=function(a,b){if(!a.m)return null;var c=a.m.getSurface();if(!c)return null;c=c.getMedia();if(!c)return null;switch(b){case _.Bk:return c.audioTracks;case _.Ck:return c.videoTracks;case _.S:return c.textTracks;default:return null}};
bm=function(a,b){var c=am(a,b);c&&(c=Array.from(c),b===_.S&&(c=c.filter(function(d){return d.kind!==_.Ne})));return c};cm=function(a,b){return a.h.filter(function(c){return c.type===b})};dm=function(a,b){var c=a.a.get(b)||null;return c&&c.renditions[0]};em=function(a,b){var c=a.l.get(b);return c&&c.renditions[0]};
im=function(a,b,c){var d=bm(a,b);if(c){if(void 0===a.h.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.g.debug("Activate track type "+b+" with ID: "+c.id);if(d){a.l.set(b,c);var e=!0,f=!1;switch(b){case _.S:var g="mode";e=_.Wf;f=_.Vd;break;case _.Bk:g="enabled";break;case _.Ck:g="selected"}if(g){d=_.w(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=fm(c,h,c.type)?e:
f}}}else if(a.g.debug(_.Ha+b),a.a.get(b)&&d&&b===_.S){g=_.w(d);for(h=g.next();!h.done;h=g.next())h.value.mode=_.Vd;a.a.set(b,null)}b===_.Bk?a.m.trigger(new _.L(_.gm)):b===_.S&&a.m.trigger(new _.L(_.hm))};jm=function(a){return a.enabled||a.selected||a.mode===_.Wf||a.mode===_.te};
km=function(a,b,c){c=_.vi(c).filter(function(e){return e});a.g.info("Find preferred tracks for",b,c);var d=cm(a,b);c.some(function(e){var f=_.qj(e);return(e=d.find(function(g){g=_.qj(g.language||"");return _.rj(f,g)}))?(a.g.info("Will select track with id",e.id),im(a,b,e),!0):!1})};lm=function(a){(a=a.m.getTextDisplayer())&&a.remove(0,Infinity)};
fm=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.M.ma(a,{kind:_.Ak(b.kind),language:_.Ak(b.language),label:_.Ak(b.label)},["kind","language","label"])};_.mm=function(a,b){this.length=(this.f=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};_.nm=function(){this.Hd=new Rh(this);this.Ed=[]};pm=function(a){return a.name===Fb&&om.some(function(b){return a.message.startsWith(b)})};qm=function(){};
_.tm=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.xl()&&(a=360);var b=_.Uj();b.maxAttempts=3;a={source:"",license:rm,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,ads:{hls:{enable:!0,resolutionOffsetSec:35}},manifest:{attemptParameters:_.Uj(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0,timeline:{version:1,type:void 0}},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,
bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:sm(a),useCmsd:!0},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:_.Ie,preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],preferSpatialAudio:!1,preferForcedSubtitles:!1,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,forceWaitForTracks:!1,streaming:{attemptParameters:b,bufferingGoal:10,
rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,relativeTextTimestamp:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,disableAudioTracks:!1,disableVideoTracks:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,preferNativeHlsOnSafari:!0,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,chasingRate:1.15,startChasingAt:5,stopChasingAt:2,
chaseJumpDistance:10,patchEdgeWhenMixedContent:!1,ignoreDrift:!1,disableFragmentSupport:!1,disableMergedFragments:!1,ignoreManagedMediaSourceStreamingHints:!1},mediaSource:{codecSwitchingStrategy:_.Ff},restrictions:sm(),tizen:{sideStreamText:_.ok(2)},safari:{enableHlsVideoTrackInfo:!1,enableMetadata:!1},mse:{sendPlaybackSessionIdHeader:!1},trickPlay:{speedUpMode:_.Td,preferTrickPlayTracks:!0},playlist:{timeline:"basic",content:_.kc,cropTimeline:!1},yospace:{enabled:!1}};if(_.ok()||_.pk())a.ads.hls.enable=
!1;if(_.sl("Edge/")||_.ok())a.streaming.gapDetectionThreshold=.5;_.pk()&&(a.streaming.stallEnabled=!1);_.ul()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=1,a.streaming.gapDetectionThreshold=.02);_.ok()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=0);a.vr={enable:!1,attachMouseListener:!0,fieldOfView:70,sensitivity:1,invertHorizontalControl:!1,invertVerticalControl:!1};return a};
_.vm=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.tm();c=[_.tm()];var d=!1;b=_.w(b);for(var e=b.next();!e.done;e=b.next())e=e.value,null!==e&&void 0!==e&&(_.M.da(e)&&(e={source:e}),e.lowLatencyMode&&!d&&(c.push({streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{lowLatencyMode:!0}}),d=!0),c.push(e),null!=e.suggestedPresentationDelay&&
c.push({manifest:{suggestedPresentationDelay:e.suggestedPresentationDelay}}));c=_.M.pa.apply(null,c);_.M.da(c.volume)&&(""===""+c.volume?c.volume=null:c.volume=Number(c.volume));if(!_.M.R(c.volume)&&(!_.M.sa(c.volume)||_.M.isNaN(c.volume)))throw new _.N(_.P,7,7100,"config.volume is not a number");if(!_.M.R(c.preferredTextLanguage)&&!_.M.da(c.preferredTextLanguage)&&!Array.isArray(c.preferredTextLanguage))throw new _.N(_.P,7,7100,"config.preferredTextLanguage is not a string or an array");if(!_.M.R(c.preferredAudioLanguage)&&
!_.M.da(c.preferredAudioLanguage)&&!Array.isArray(c.preferredAudioLanguage))throw new _.N(_.P,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!_.M.R(c.preferredAudioCodec)&&!_.M.da(c.preferredAudioCodec)&&!Array.isArray(c.preferredAudioCodec))throw new _.N(_.P,7,7100,"config.preferredAudioCodec is not a string or an array");if(!_.M.R(c.preferredVideoCodec)&&!_.M.da(c.preferredVideoCodec)&&!Array.isArray(c.preferredVideoCodec))throw new _.N(_.P,7,7100,"config.preferredVideoCodec is not a string or an array");
if(!_.M.R(c.drm)){if(c.drm.env&&!_.M.da(c.drm.env))throw new _.N(_.P,7,7100,"config.drm.env is not a string");if(c.drm.offlineId&&!_.M.da(c.drm.offlineId))throw new _.N(_.P,7,7100,"config.drm.offlineId is not a string");}if(d=c.streaming){d.bufferingGoal=Number(d.bufferingGoal);d.rebufferingGoal=Number(d.rebufferingGoal);d.bufferBehind=Number(d.bufferBehind);d.smallGapLimit=Number(d.smallGapLimit);d.durationBackoff=Number(d.durationBackoff);if(!_.M.sa(d.bufferingGoal)||_.M.isNaN(d.bufferingGoal))throw new _.N(_.P,
7,7100,"config.streaming.bufferingGoal is not a number");if(!_.M.sa(d.rebufferingGoal)||_.M.isNaN(d.rebufferingGoal))throw new _.N(_.P,7,7100,"config.streaming.rebufferingGoal is not a number");if(d.rebufferingGoal>d.bufferingGoal)throw new _.N(_.P,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.M.sa(d.bufferBehind)||_.M.isNaN(d.bufferBehind))throw new _.N(_.P,7,7100,"config.streaming.bufferBehind is not a number");if(!_.M.sa(d.smallGapLimit)||_.M.isNaN(d.smallGapLimit))throw new _.N(_.P,
7,7100,"config.streaming.smallGapLimit is not a number");if(!_.M.sa(d.durationBackoff)||_.M.isNaN(d.durationBackoff))throw new _.N(_.P,7,7100,"config.streaming.durationBackoff is not a number");d=c.manifest;if(_.M.R(d.availabilityWindowOverride))d.availabilityWindowOverride=NaN;else if(typeof d.availabilityWindowOverride!==_.k)throw new _.N(_.P,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");um(c.restrictions);um(c.abr.restrictions);c.abr.initialRestrictions&&um(c.abr.initialRestrictions)}return c};
sm=function(a){a=void 0===a?Infinity:a;return{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}};
um=function(a){_.M.R(a.maxPixels)&&(a.maxPixels=Infinity);_.M.R(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.M.R(a.maxHeight)&&(a.maxHeight=Infinity);_.M.R(a.maxWidth)&&(a.maxWidth=Infinity);_.M.R(a.minPixels)&&(a.minPixels=0);_.M.R(a.minBandwidth)&&(a.minBandwidth=0);_.M.R(a.minHeight)&&(a.minHeight=0);_.M.R(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.N(_.P,7,7100,"Restrictions contain NaN");};wm=function(a){return typeof a===_.Ue&&!Array.isArray(a)&&"source"in a};
_.xm=function(a){_.nm.call(this);this.log=new _.K(a);this.configuration=this.Nb=_.tm();this.$=this.C=null;this.Td=this.kg=!1;this.Gg=new _.K("clpp.video.events");this.td=null;this.Fe=-1;this.Vi=this.jn.bind(this);this.jg=new _.tk;this.N=new _.Sh;this.dg=this.Kc=this.Yc=this.V=null};_.zm=function(a){return _.ym.get(a)||null};_.Bm=function(a){_.ym.get(a.id())?Am.warn("Component already in use."):_.ym.set(a.id(),a)};
Cm=function(a){return Array.from(_.ym.values()).find(function(b){return b instanceof a})||null};Dm=function(a){for(var b=_.w(_.ym.values()),c=b.next();!c.done;c=b.next())a(c.value)};Em=function(a){Dm(function(b){b.o(a)})};Fm=function(a){Dm(function(b){b.h(a)})};Gm=function(){Dm(function(){})};Hm=function(){Dm(function(){})};Im=function(a){if(null!==Cm(a))return null;a=new a;a.f();_.Bm(a);Am.info("Installed component:",a.id());return a};
Jm=function(a){if(a=Cm(a))a.a(),_.ym["delete"](a.id()),Am.info("Uninstalled component:",a.id())};Km=function(){this.a=this.f=null;this.g=new _.K("clpp.drm.csl")};Lm=function(a,b){3===b.type&&(a.f&&(a.g.debug("Attaching tracking token"),b.headers[Tg]=a.f),a.a&&(b.headers[Ug]=a.a))};
Mm=function(a,b){if(b.request&&3===b.request.type){a.f=b.headers[Tg];a.a=b.headers[Ug];var c=b.headers["x-dt-csl-renewal-info"];a.f&&a.g.debug("Loaded tracking token "+a.f);a.a&&a.g.debug("Loaded followup token "+a.a);if(c)return c=JSON.parse(_.R.aa(_.Lj(c))),{delay:c.renewalPeriod,ho:{maxAttempts:c.retryCount,baseDelay:1E3*c.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}}return null};Nm=function(a){return _.R.startsWith(a,_.Kd)||_.R.startsWith(a,_.Nd)};_.Pm=function(a){_.Om[a.J]=a};
_.Rm=function(a){var b={attemptParameters:_.Uj(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,enableSessionCacheForSkd:!1,ignoreUnrecognizedInitData:!0,La:{},widevineVersion:_.Pd};if(a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,b.emeApi=a.emeApi,a.attemptParameters&&(b.attemptParameters=a.attemptParameters),b.enableSessionCacheForSkd=!!a.enableSessionCacheForSkd,void 0!==
a.ignoreUnrecognizedInitData&&(b.ignoreUnrecognizedInitData=!!a.ignoreUnrecognizedInitData),typeof a.widevineVersion===_.fg&&0<a.widevineVersion.length&&(b.widevineVersion=a.widevineVersion),a.env)){var c=_.Om[a.env]||null;if(!c)throw _.Ih(_.Aa,_.Ob+a.env+_.ba),new _.N(_.P,6,6015,_.Ba+a.env+"' is missing.");b.La=_.Qm(c,a.customData)||{};_.R.startsWith(a.env.toLowerCase(),ge)&&(b.enforceSingleSession=!0)}return b};
Tm=function(a){a=Sm[a];if(!a)return null;var b=_.qk();return b.os===Jl&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.Um=function(a){this.J=a;this.f={}};
_.Qm=function(a,b){var c={},d=b?b.widevineVideoRobustness:void 0,e=b?b.widevineAudioRobustness:void 0,f=b?b.serverCertificate:void 0,g=a.f[_.Pd];g&&(c[_.Pd]={licenseUrl:g.licenseUrl,videoRobustness:Si(d,g.videoRobustness),audioRobustness:Si(e,g.audioRobustness),modifiers:g.modifiers,distinctiveIdentifierRequired:Ri(b?b.widevineDistinctiveIdentifierRequired:void 0,g.distinctiveIdentifierRequired,!1),persistentStateRequired:Ri(b?b.widevinePersistentStateRequired:void 0,g.persistentStateRequired,!1),
serverCertificate:void 0===f?g.serverCertificate:null===f?null:typeof f===_.fg?Tm(f):f});(g=a.f[_.Kd])&&(c[_.Kd]={licenseUrl:g.licenseUrl,certificateUrl:g.certificateUrl,modifiers:g.modifiers});d=b?b.playReadyVideoRobustness:void 0;e=b?b.playReadyAudioRobustness:void 0;(g=a.f[_.Nd])&&(c[_.Nd]={licenseUrl:g.licenseUrl,videoRobustness:d||g.videoRobustness,audioRobustness:e||g.audioRobustness,individualizationServer:g.individualizationServer,useLegacySystem:g.useLegacySystem,modifiers:g.modifiers});
return c};_.Vm=function(a,b){b=void 0===b?!1:b;this.f=_.M.sa(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.h=b;this.buffer=this.f.buffer};_.Xm=function(a,b,c){var d=c||0;c=b.byteLength-d;var e=_.zj(a.f.buffer);b=_.zj(b.buffer,d,c);try{e.set(b,a.a),a.a+=c}catch(f){_.Wm()}};_.V=function(a,b){try{a.f.setUint32(a.a,b,a.h),a.a+=4}catch(c){_.Wm()}};_.Wm=function(){throw new _.N(_.P,3,3E3);};_.Ym=function(a,b){this.f=a;this.h=void 0===b?!0:b;this.a=0};_.Zm=function(a){return a.a<a.f.byteLength};
_.an=function(a){try{var b=a.f.getUint8(a.a);a.a+=1;return b}catch(c){_.$m()}};_.bn=function(a){try{var b=a.f.getUint16(a.a,a.h);a.a+=2;return b}catch(c){_.$m()}};_.W=function(a){try{var b=a.f.getUint32(a.a,a.h);a.a+=4;return b}catch(c){_.$m()}};_.cn=function(a){try{var b=a.f.getInt32(a.a,a.h);a.a+=4;return b}catch(c){_.$m()}};
_.dn=function(a){var b=0,c=0;try{!0===a.h?(b=a.f.getUint32(a.a,!0),c=a.f.getUint32(a.a+4,!0)):(c=a.f.getUint32(a.a,!1),b=a.f.getUint32(a.a+4,!1))}catch(d){_.$m()}if(2097151<c)throw new _.N(_.P,3,3001);a.a+=8;return c*Math.pow(2,32)+b};en=function(a,b){for(var c=new Uint8Array(b),d=0;d<b;d++)c[d]=_.an(a);return c};_.fn=function(a,b){a.a+b>a.f.byteLength&&_.$m();var c=a.a+a.f.byteOffset;c=a.f.buffer.slice(c,c+b);a.a+=b;return _.zj(c)};
_.$m=function(){throw new _.N(_.P,3,3E3,"Buffer read out of bounds.");};_.gn=function(){this.h=[];this.f=[];this.a=!1;this.g=new _.K("clpp.mp4")};_.hn=function(a){for(;_.Zm(a.reader)&&!a.parser.a;)a.parser.Se(a.start+a.headerSize,a.reader,a.partialOkay)};_.jn=function(a){for(var b=_.W(a.reader);0<b&&!a.parser.a;--b)a.parser.Se(a.start+a.headerSize,a.reader,a.partialOkay)};_.kn=function(a){return function(b){var c=b.reader.Oa()-b.reader.getPosition();a(_.fn(b.reader,c))}};
ln=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};_.mn=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};_.nn=function(a){return 8+(a.has64BitSize?8:0)+(null!=a.flags?4:0)};on=function(){};pn=function(a){var b="";try{b=_.R.Kd(a)}catch(c){}return b};_.qn=function(a){a=pn(a);var b="";a.length&&(b=(new _.Jk(a)).a);return b};
rn=function(a){if(!a)return null;var b=null;try{var c=JSON.parse(_.R.aa(a)),d=_.Lj(c.sinf[0]);(new _.gn).M(_.Zf,_.hn).M("schi",_.hn).M("tenc",function(e){e.reader.skip(6);_.an(e.reader)&&(e.reader.skip(1),b=_.Nj(_.fn(e.reader,16)));e.parser.stop()}).parse(d)}catch(e){}return b};
sn=function(a,b,c){if(!c||!c.byteLength)throw new _.N(_.P,6,6102);var d;typeof b===_.fg?d=_.R.We(b,!0):d=b;a=_.R.We(pn(a),!0);b=new _.Vm(12+a.byteLength+d.byteLength+c.byteLength,!0);_.V(b,a.byteLength);_.Xm(b,_.zj(a));_.V(b,d.byteLength);_.Xm(b,_.zj(d));_.V(b,c.byteLength);_.Xm(b,_.zj(c));return _.zj(b.buffer)};_.tn=function(a){var b=_.zj(a.body);b=_.Kj(b);a.headers[za]=Zc;a.body=_.R.$a("spc\x3d"+b).buffer};
_.un=function(a){try{var b=_.R.aa(a.data)}catch(d){return}b=b.trim();"\x3cckc\x3e"===b.substr(0,5)&&"\x3c/ckc\x3e"===b.substr(-6)&&(b=b.slice(5,-6));try{var c=JSON.parse(b);c.ckc&&(b=c.ckc);c.CkcMessage&&(b=c.CkcMessage);c.License&&(b=c.License)}catch(d){}a.data=Hj(_.Lj(b))};
zn=function(){var a=vn;if(a===wn)return"https://lic.drmtoday.com";if(a===xn)return"https://lic.staging.drmtoday.com";if(a===yn)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};Dn=function(a){var b=zn();if(a===_.Pd)return b+An;if(a===_.Nd)return b+Bn;if(a===_.Kd)return b+Cn;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
En=function(a){a=a.replace(/assetid/gi,"assetId");a=a.replace(/variantid/gi,"variantId");return a=a.replace(/keyid/gi,"keyId")};
_.Gn=function(a,b,c){b=pn(b);c=c&&c.customData?c.customData:{};b=new _.Jk(En(b));var d=_.Mk(b.f);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData;a=e.assetId;e=e.variantId;a&&_.R.Me(""+a)&&(d.assetId=a,Fn.debug("Using assetId from the configuration instead of the value from the HLS manifest."));e&&_.R.Me(""+e)&&(d.variantId=e,Fn.info("Using variantId from the configuration instead of the value from the HLS manifest."))}d.keyId?(a=["keyId"],Fn.debug("KeyId found in FPS SKD. Removing other parameters")):
a=["assetId","variantId"];b.f=_.Lk(d,!1,a);"/"!==b.path||b.j.includes(b.a+"/")||(b.path="");b=_.Kk(b);return c.fpsContentId=b};_.In=function(a,b,c,d){d=void 0===d?!0:d;c=a.drm;c&&c.env.startsWith(Da)?c.customData&&(_.Hn(b,a),a=b.uris[0],d&&c.customData.assetId&&(a+="?assetId\x3d"+encodeURI(""+c.customData.assetId),c.customData.variantId&&(a+="\x26variantId\x3d"+encodeURI(""+c.customData.variantId)),b.uris[0]=a)):Fn.warn(yb)};
Jn=function(a,b,c){_.In(a,b,c);a=a.drm;a=!(!a||!a.offlineId);c=new _.Ti(b.uris[0]);c.a.add(_.ef,a);b.uris[0]=c.toString()};
_.Kn=function(a,b,c){var d=c&&c.customData&&c.customData.fpsContentId;_.In(a,b,c,!1);b.headers[za]=Zc;c={spc:_.Jj(b.body)};if((a=a.drm)&&a.env.startsWith(Ea)&&d){a={};var e=_.Mk((new _.Jk(En(d))).f);d=e.keyId;if(e=e.assetId)Fn.info("Applying assetId from HLS manifest."),a.assetId=e;d&&(Fn.info("Applying keyId from HLS manifest."),a.keyId=d);a.keyId&&(Fn.info("Adding keyID to FPS payload:",a.keyId),c.keyId=a.keyId);a.assetId&&(Fn.info("Adding assetID to FPS payload:",a.assetId),c.assetId=a.assetId)}b.body=
_.R.ld(_.Lk(c,!0))};_.Ln=function(a,b){Fn.debug("Clearing response data");if(200===b.status){var c=_.R.aa(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=_.Lj(c).buffer}};_.Mn=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(Da))Fn.warn(yb);else if(c.customData&&c.customData.merchant&&!c.env.startsWith(Ea)){var d=new _.Ti(b.uris[0]),e=d.Ha;e.endsWith("/")||(e+="/");e+=c.customData.merchant;d.Ha=e;b.uris[0]=d.toString()}};
_.Nn=function(a,b){try{var c=_.zj(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));Fn.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){Fn.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};
_.Hn=function(a,b){var c=b.drm;if(c&&c.customData){var d={userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant};_.M.vc(d)&&(a.headers["dt-custom-data"]=btoa(JSON.stringify(d)));(c=c.customData.authToken)&&(a.headers["x-dt-auth-token"]=c)}};Pn=function(a){var b={},c=a?a[Vg]:void 0;a=On[a?a[Vg]:void 0];c&&(b.drmTodayErrorCode=c);a&&(b.drmTodayErrorMessage=a);return b};Qn=function(){};
Sn=function(a,b){_.Hh("Registering EME Factory: "+a.a());for(var c={priority:b,Ba:a},d=0;d<Rn.length;++d)if(Rn[d].priority<b){Rn.splice(d,0,c);return}Rn.push(c)};Tn=function(a){if(a){var b=Rn.find(function(d){return d.Ba.a()===a}).Ba;if(b&&b.f())return _.Hh(oc+b.a()),b.create();_.Hh("Cannot create selected EME manager. Choosing by priority list.")}b=_.w(Rn);for(var c=b.next();!c.done;c=b.next())if(c=c.value.Ba,c.f())return _.Hh(oc+c.a()),c.create();throw Error("Missing EME managers");};
_.Vn=function(a,b){var c=_.Un(a,b);return 1!==c.length?null:c[0]};_.Un=function(a,b){return Array.prototype.filter.call(a.childNodes,function(c){return c instanceof Element&&c.tagName===b})};_.Wn=function(a){return Array.prototype.every.call(a.childNodes,function(b){return b.nodeType===Node.TEXT_NODE||b.nodeType===Node.CDATA_SECTION_NODE})?a.textContent.trim():null};
_.Xn=function(a,b){var c=new DOMParser,d=null,e=null;try{e=c.parseFromString(a,_.mg)}catch(f){}e&&e.documentElement.tagName===b&&(d=e.documentElement);return d&&0<d.getElementsByTagName("parsererror").length?null:d};Yn=function(a,b,c){this.j=new Uint8Array(a);this.a=b;this.f=c};Zn=function(){Yn.apply(this,arguments)};_.ao=function(a){var b=_.Mj(a);b=parseInt(b.byteLength,10).toString(16);b=_.Mj("12"+b+a);return new Zn($n,a,b)};
_.bo=function(a){function b(t){switch(t){case 0:do if(!_.Zm(d))throw Error("not enough data to skip!");while(_.an(d)&128);break;case 1:d.skip(8);break;case 2:d.skip(c());break;case 3:for(;4!==(t=c()&7);)b(t);break;case 5:d.skip(4);break;default:throw Error("invalid wire type "+t);}}function c(){for(var t=_.an(d),v=(t&127)>>>0,z=7;128<=t&&28>=z;)t=_.an(d),v=(v|(t&(28>z?127:15))<<z)>>>0,z+=7;return 28<z?-1:v}var d=new _.Ym(new DataView(a.buffer,a.byteOffset,a.byteLength),!1);a=_.W(d);var e=_.W(d);e=
_.mn(e);var f=_.W(d),g=f>>>24;f&=16777215;var h=_.fn(d,16);h=_.Nj(h);if(0<g){var l=_.W(d);d.skip(16*l)}l=_.W(d);for(var m=[],n=null;_.Zm(d);){var p=c(),q=p&7;p>>>=3;if(2===q){q=c();if(0>q)throw Error("unable to read length of field "+p);q=en(d,q);2===p?m.push(q):4===p&&(n=q)}else b(q)}_.Ih("Parsed WV PSSH Box","size",a,"name",e,zg,g,"flags",f,"size",l,"systemId",h,"contentId (base64)",n?_.Jj(n):"","keyIds",m.map(function(t){return _.Nj(t)}));return 0<m.length?_.ao(_.Nj(m[0])):null};
_.co=function(a,b,c,d,e,f){f=void 0===f?null:f;Yn.call(this,a,b,d);this.version=e;this.h=c;this.l=f};
_.io=function(a){a:{var b=new _.Ym(new DataView(a.buffer),!0);_.W(b);for(_.bn(b);_.Zm(b);)if(1===_.bn(b)){var c=_.bn(b);b=_.fn(b,c);break a}b=null}b||(b=a);a=_.R.tc(b,!0);c=_.Xn(a,"WRMHEADER");a=c.getAttribute(zg);var d=_.Vn(c,"DATA");c=(c=_.Vn(d,"LA_URL"))?_.Wn(c):"";var e;if(e=_.Vn(d,"KID"))if(e=_.Wn(e)){var f=_.Vn(d,qa);e={value:e,vf:f?f.textContent.trim():null}}else e=null;else e=null;d=e?[e]:(e=eo(d))?[e]:(d=fo(d))?d:null;e=d&&d[0]||{};d=e.vf;e=_.Lj(void 0===e.value?"":e.value);e=_.go(e);e=_.Nj(e);
return new _.co(_.ho,e,c,b,a,d)};_.go=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.zj(a);a.set(b,0);return a};eo=function(a){a=_.Vn(a,"PROTECTINFO");if(!a)return null;var b=_.Vn(a,"KID");if(!b)return null;a=b.getAttribute("VALUE");if(!a)return null;var c=b.getAttribute(qa);b=b.getAttribute("ALGID");return{value:a,vf:c,ij:b}};
fo=function(a){a=_.Vn(a,"PROTECTINFO");if(!a)return null;a=_.Vn(a,"KIDS");if(!a)return null;var b=_.Un(a,"KID");if(!b.length)return null;a=[];b=_.w(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;if(c=d.getAttribute("VALUE")){var e=d.getAttribute(qa);d=d.getAttribute("ALGID");a.push({value:c,vf:e,ij:d})}}return a.length?a:null};_.ko=function(a){jo&&performance.mark(a)};_.so=function(a,b,c){jo&&performance.measure(a,b,c)};
to=function(a){this.f=[];this.h=[];this.a=[];8<=a.byteLength&&(new _.gn).Y("pssh",this.j.bind(this)).parse(a.buffer);0===this.a.length&&_.Dh("No pssh box found!")};
_.xo=function(a){var b=this;this.D=a;this.J=new Set;this.B=this.I=this.l=null;this.Z=!1;this.a=null;this.K=uo;this.A=new _.Sh;this.N=new Km;this.f=new Map;this.L=[];this.H=new _.gk;this.h=null;this.S=function(c){b.w=!0;b.C=!1;b.H.reject(c);a.onError(c)};this.o=new Map;this.fa=new Map;this.ba=new _.pl(function(){return vo(b)});this.j=!1;this.ta=new _.gk;this.G=!1;this.ca=[];this.za=!1;this.V=0;this.g=new _.K("clpp.drm.DrmEngine");this.ga=(new _.pl(function(){wo(b)})).yb(1);this.H["catch"](function(){});
this.w=this.C=!1;this.P=null};
zo=function(a){var b,c,d,e,f;return _.I(function(g){switch(g.a){case 1:a.A.release();a.A=null;a.N.release();a.N=null;a.w=!1;a.C=!1;a.H.reject();a.ga.stop();a.ga=null;a.ba.stop();a.ba=null;b=Array.from(a.f.keys());c=_.w(a.f.values());for(d=c.next();!d.done;d=c.next())e=d.value,e.Wc&&e.Wc.stop();a.f.clear();return _.y(g,Promise.all(b.map(function(h){return Promise.resolve().then(function(){var l;return _.I(function(m){if(1==m.a)return a.g.debug("Closing session",h.sessionId),_.D(m,2),_.y(m,yo(h),4);
if(2!=m.a)return _.oh(m,0);l=_.E(m);a.g.warn("Error while closing session",l);_.A(m)})})})),2);case 2:if(!a.B){g.F(3);break}_.D(g,4);return _.y(g,a.l.wd(null),6);case 6:_.oh(g,5);break;case 4:f=_.E(g),a.g.warn("Error while resetting media keys",f);case 5:a.B=null;case 3:a.l=null,a.a=null,a.J.clear(),a.I=null,a.L=[],a.h=null,a.S=null,a.D=null,a.V=0,a.P=null,_.A(g)}})};
_.Co=function(a,b,c){c=void 0===c?[]:c;a.K=Ao;a.L=c;a.G=0<c.length;a.g.debug("Using Persisted Licenses: "+a.G);a.h&&a.h.enableSessionCacheForSkd&&a.g.info("Enabled session cache for SKD license requests");return _.Bo(a,b)};
Io=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.M.Hg(a.h.La);Do(b,d)}var e=a.h.La[_.Kd];d=b.some(function(g){return g.drmInfos.some(function(h){return h.keySystem===_.Kd})});if(!1!==a.h.ko&&_.wl()&&!d&&e){var f=_.w(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos.push({keySystem:_.Kd,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[],
periodId:null})}if(e=Eo(a))for(f=_.w(b),d=f.next();!d.done;d=f.next())d.value.drmInfos=[e];d=Fo(b);Go(a,d);d=_.w(d);for(e=d.next();!e.done;e=d.next())Ho(e.value,a.h.La);return c};_.Bo=function(a,b){var c=Io(a,b),d=Fo(b);d=_.w(d);for(var e=d.next();!e.done;e=d.next())Jo(a,e.value,a.h.La);d=Ko(a,b);if(!d.size)return a.Z=!0,Promise.resolve();_.ko(Zd);d=_.Lo(a,d);return(c?d:d["catch"](function(){})).then(function(){_.ko(Yd);_.so("DRM queryMediaKeys_()",Zd,Yd)})};
Fo=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=_.w(c.value.drmInfos);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};Go=function(a,b){for(var c=_.w(b),d=c.next();!d.done;d=c.next())d=d.value,""===d.licenseServerUri||a.h.La[d.keySystem]||(a.h.La[d.keySystem]={licenseUrl:""})};
Mo=function(a){var b;return _.I(function(c){switch(c.a){case 1:if(a.l.Ce())return c["return"]();if(!a.P){c.F(2);break}return _.y(c,a.P,3);case 3:return c["return"]();case 2:return _.D(c,4),a.P=a.l.wd(a.I),_.y(c,a.P,6);case 6:_.oh(c,0);break;case 4:b=_.E(c);if(a.j)return c["return"]();a.S(new _.N(_.P,6,6003,b.message,b));_.A(c)}})};
Oo=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Handle encrypted event for type "+b.initDataType),_.y(c,Mo(a),2);if(!b.initData)return c["return"]();_.No(a,b.initDataType,_.zj(b.initData));_.A(c)})};
_.To=function(a,b){if(!a.I)return Th(a.A,b,function(){a.S(new _.N(_.P,6,6010))}),Promise.resolve();a.B=b;a.l.se(b);a.A.one(a.B,_.hf,function(){return Po(a)});a.A.on(a.B,_.Mg,function(e){var f=a.C;a.C=!a.w;!f&&a.C&&(a.g.info("Waiting for DRM license key delivery"),a.D.onEvent(e))});var c=a.a.initData.find(function(e){return 0<e.initData.length}),d=Promise.resolve();if(c||a.l.vd()!==Tb||a.L.length)d=Mo(a);c=Promise.resolve();_.pk()&&38===_.tl().major||(a.a&&a.a.keySystem!==_.bf&&!a.a.serverCertificate&&
(c=Qo(a)),c=c.then(function(){return _.Ro(a)}));return Promise.all([d,c]).then(function(){a.j||(_.So(a),a.A.on(a.B,ke,function(e){return Oo(a,e)}))})["catch"](function(e){if(!a.j){if(6004===e.code&&a.a&&a.a.keySystem===_.Pd&&1>a.V&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.g.warn("Detected invalid widevine server certificate!. Retrying"),a.S(new _.N(1,6,6004)),a.a.serverCertificate=null,a.V++,_.To(a,b);1<=a.V&&a.g.info("Could not get valid widevine server certificate. Giving up");
throw e;}})};_.Ro=function(a){var b,c;return _.I(function(d){if(1==d.a){if(!(a.I&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length))return d.F(0);_.D(d,3);return _.y(d,a.I.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return b=d.f,void 0===b||b||a.g.debug("Server certificates are not supported by the key system. The server certificate has been ignored."),_.oh(d,0);c=_.E(d);throw new _.N(_.P,6,6004,{browserError:c.message});})};
Qo=function(a){var b=a.keySystem(),c=a.h.La[b],d=c.certificateUrl||"";if(""===d)return Promise.resolve();var e=a.D.getConfiguration();return Uo(a,e).then(function(){var f=c.modifiers,g=f&&f.certificateRequest,h=f&&f.certificateResponse;f=_.Yj([d],a.h.attemptParameters);f.type=3;f.licenseRequestType=td;g&&f.requestModifiers.push(function(l){return g(e,l)});h&&f.responseModifiers.push(function(l){return h(e,l)});a.g.debug("Fetching certificate");return a.D.Jb.fetch(f).U}).then(function(f){a.a.serverCertificate=
_.zj(f.data)})["catch"](function(f){var g=f.data.headers;g=Object.assign({message:"Error while fetching certificate!",url:f.data.url,status:f.data.status,response:f.data.response},g?{headers:g}:{},Pn(g));throw new _.N(_.P,6,6100,g,f);})};Uo=function(a,b){var c,d;return _.I(function(e){c=a.D.$c();return c?(d=b&&b.drm&&b.drm.customData)?_.y(e,c(d),0):e["return"]():e["return"]()})};Vo=function(a,b){if(!a)return!1;for(var c=0;c<b.ye.length;c++)if(_.Oj(a,b.ye[c]))return!0;return!1};
_.So=function(a){for(var b=a.a?a.a.initData||[]:[],c=_.w(b),d=c.next();!d.done;d=c.next()){d=d.value;var e=!_.ok(2);if(a.h.enforceSingleSession&&!a.keySystem().startsWith(_.Kd)){var f=a.f.values();f=_.w(f);for(var g=f.next();!g.done;g=f.next())g=g.value,_.Oj(d.initData,g.initData)?(a.g.info("Skipping Session creation. Existing init data in single session mode!"),e=!1):g.periodId===d.periodId&&(a.g.info("Skipping Session creation. Merging init data for period in single session mode for Key ID "+(d.keyId+
".")),Vo(d.initData,g)||(g.ye.push(d.initData),d.keyId&&!g.kb.includes(d.keyId)&&g.kb.push(d.keyId),a.o.get(d.keyId)||a.o.set(d.keyId,dg)),e=!1)}!e||a.G&&a.K===Ao||(_.Wo(a,d.keyId,d.initData)&&(e=!1),e&&(a.g.info("Request new media key session on create"),Xo(a,d.keyId,d.periodId,d.initDataType,d.initData)))}c=_.w(a.L);for(d=c.next();!d.done;d=c.next())_.Yo(a,d.value);b.length||a.L.length||(a.w||a.g.info(Ca),a.w=!0,a.C=!1,a.H.resolve());return a.H};
_.No=function(a,b,c,d){d=void 0===d?"":d;if(c.length&&(!a.G||a.K!==Ao)){var e=a.keySystem();if(!e.startsWith(_.Kd)&&b===_.rd){var f=new to(c);if(1<f.a.length&&(e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e]))for(var g=0;g<f.f.length;g++)if(e===f.f[g]){c=c.subarray(f.a[g].start,f.a[g].end+1);break}}(a.B.webkitCurrentPlaybackTargetIsWireless||
_.ok(2)||a.keySystem().startsWith(_.Kd)||!_.Wo(a,d,c,!0))&&Xo(a,d,null,b,c)}};
_.Wo=function(a,b,c,d){d=void 0===d?!1:d;for(var e=_.w(a.f.keys()),f=e.next();!f.done;f=e.next()){f=f.value;var g=a.f.get(f);if(_.Oj(c,g.initData))return b?g.kb.includes(b)?d&&a.g.info("Skipping Session creation. License for init data with Key ID "+(b+" was already requested in Session: '")+(f.sessionId+"'. ")):(g.kb.push(b),a.o.get(b)||a.o.set(b,dg),d&&a.g.info($b+(f.sessionId+"'Adding Key ID ")+(b+" to session meta-data."))):d&&a.g.info($b+(f.sessionId+"'")),!0;if(Vo(c,g))return d&&a.g.info("Skipping Session creation. License for init data was already requested [extra]"),
!0}return!1};Zo=function(a){var b=Infinity;a=a.f.keys();a=_.w(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
Ko=function(a,b){var c=new Set(Fo(b)),d=a.G?_.Nf:_.af,e=a.G?[_.ff]:[kg],f=new Map,g=_.w(c);for(c=g.next();!c.done;c=g.next())c=c.value,f.set(c.keySystem,{initDataTypes:[_.rd],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.af,persistentState:d,sessionTypes:e,label:c.keySystem,drmInfos:[]});d={};e=_.w(b);for(c=e.next();!c.done;d={$e:d.$e,nd:d.nd,lf:d.lf,od:d.od},c=e.next()){c=c.value;g=c.audio;var h=c.video;d.$e=g?_.$o(g):"";d.nd=null;g&&"ac-3"===g.codecs.toLowerCase()&&_.ok()&&(d.nd=
_.$o(g,_.je));d.lf=h?_.$o(h):"";d.od=null;h&&"ac-3"===h.codecs.toLowerCase()&&_.ok()&&(d.od=_.$o(h,_.je));var l={},m=_.w(c.drmInfos);for(c=m.next();!c.done;l={ab:l.ab},c=m.next())c=c.value,l.ab=f.get(c.keySystem),l.ab.drmInfos.push(c),c.initData&&c.initData.length&&(l.ab.initDataTypes=_.ah(new Set(c.initData.map(function(n){return n.initDataType}))).concat()),c.distinctiveIdentifierRequired&&(l.ab.distinctiveIdentifier=_.Nf),c.persistentStateRequired&&(l.ab.persistentState=_.Nf),g&&_.vi(c.audioRobustness).forEach(function(n,
p){return function(q){var t={robustness:q||"",contentType:n.$e};p.ab.audioCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||p.ab.audioCapabilities.push(t);n.nd&&p.ab.audioCapabilities.push({robustness:q||"",contentType:n.nd})}}(d,l)),h&&_.vi(c.videoRobustness).forEach(function(n,p){return function(q){var t={robustness:q||"",contentType:n.lf};p.ab.videoCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||
p.ab.videoCapabilities.push(t);n.od&&p.ab.videoCapabilities.push({robustness:q||"",contentType:n.od})}}(d,l))}return f};_.$o=function(a,b){var c=_.kl(a.mimeType,b||a.codecs);if(_.jl(c,a.type)){var d=a.type,e=_.jl(c,d);e&&(e=e(),c=e.convertCodecs(d,c),e.destroy())}return c};
_.Lo=function(a,b){function c(m,n,p){n.drmInfos.some(function(q){return!!q.licenseServerUri})===m&&(f=f["catch"](function(){if(a.j)return null;if(p===_.Nd){if(_.rl()&&!a.h.La[p].useLegacySystem)return n.label=Od,a.l.Ob(Od,[n])["catch"](function(){a.g.warn("Unable to create com.microsoft.playready.recommendation. Falling back to com.microsoft.playready.");n.label=_.Nd;ap(n);return a.l.Ob(p,[n])});ap(n)}if(p===_.Pd&&a.h.widevineVersion!==_.Pd){var q=a.h.widevineVersion;if(!q.startsWith(_.Pd))return a.g.error('Invalid "widevineVersion" value "'+
q+'".'),Promise.reject();var t=Object.assign({},n,{label:q,distinctiveIdentifier:_.af,persistentState:_.af});return a.l.Ob(q,[t])["catch"](function(){return a.l.Ob(p,[n])})}return a.l.Ob(p,[n])["catch"](function(v){a:{if(p===_.Pd&&bp(n)){var z=_.qk();if(bp(n)&&z.os===Jl&&z.browser===vd){a.g.warn("requestMediaKeySystemAccess() failed",v);a.g.warn("Will try to recover by removing the robustness attribute of videoCapabilities and audioCapabilities.");ap(n);v=a.l.Ob(p,[n]);break a}}throw v;}return v})}))}
if(1===b.size&&b.has(""))return Promise.reject(new _.N(_.P,6,6E3));null===a.l&&(a.l=Tn(a.h.emeApi));for(var d=_.w(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0===e.audioCapabilities.length&&delete e.audioCapabilities,0===e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new _.gk,g=a.h.preferredDrmSystem;if(!g)if(e=_.qk(),e.os===Ll&&10<=e.osVersion.major&&"edge"===e.browser)g=_.Nd;else if("safari"===e.browser)g=_.Kd;else if(e.browser===vd||"firefox"===e.browser)g=_.Pd;g&&(e=b.get(g))&&
(c(!0,e,g),c(!1,e,g));e={};for(var h=_.w([!0,!1]),l=h.next();!l.done;e={jf:e.jf},l=h.next())e.jf=l.value,b.forEach(function(m){return function(n,p){p!==g&&c(m.jf,n,p)}}(e));f=f["catch"](function(){throw new _.N(_.P,6,6001,"Failed to get MediaKeySystemAccess.");});f=f.then(function(m){if(a.j)return null;a.J.clear();var n=m.getConfiguration();a.g.info("Got MediaKeySystemAccess with configuration",n);var p=n.videoCapabilities||[],q=_.w(n.audioCapabilities||[]);for(n=q.next();!n.done;n=q.next())a.J.add(n.value.contentType.toLowerCase());
p=_.w(p);for(n=p.next();!n.done;n=p.next())a.J.add(n.value.contentType.toLowerCase());p=m.keySystem;n=b.get(_.cp(m.keySystem));q=[];var t=[],v=[],z=[];dp(n.drmInfos,q,t,v,z);1<t.length&&_.Dh("Multiple unique server certificates found! Only the first will be used.");1<q.length&&_.Dh("Multiple unique license server URIs found! Only the first will be used.");a.a={keySystem:p,licenseServerUri:q[0],distinctiveIdentifierRequired:n.distinctiveIdentifier===_.Nf,persistentStateRequired:n.persistentState===
_.Nf,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:t[0],initData:v,keyIds:z,periodId:null};if(!a.a.licenseServerUri)throw new _.N(_.P,6,6012,a.a.keySystem);return m.createMediaKeys()}).then(function(m){a.j||(a.g.info("Created MediaKeys for key system",a.a.keySystem),a.I=m,a.Z=!0)})["catch"](function(m){if(!a.j){a.a=null;a.J.clear();if(m instanceof _.N)throw m;throw new _.N(_.P,6,6002,
{browserError:m.message});}});d.reject();return f};
Eo=function(a){a=_.M.Hg(a.h.La[_.bf]||{});if(0===a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.Mj(f),h=_.Mj(e);g={kty:"oct",kid:_.Kj(g,!1),k:_.Kj(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.R.$a(d),initDataType:"keyids"}];return{keySystem:_.bf,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[],periodId:null}};
_.Yo=function(a,b){try{a.g.debug("Attempting to load an offline session",b);var c=a.I.createSession(_.ff)}catch(f){var d=new _.N(_.P,6,6005,{browserError:f.message});a.S(d);return Promise.reject(d)}a.A.on(c,_.Me,a.si.bind(a));a.A.on(c,xe,a.mi.bind(a));var e={initData:null,loaded:!1,Tf:Infinity,Lb:null,Sa:new _.gk,periodId:null,ye:[],keyId:null,kb:[],initDataType:null,rc:null,sessionContext:{ldlDelay:0,customData:{}}};e.Sa["catch"](function(){});a.f.set(c,e);return c.load(b).then(function(f){if(a.j)return null;a.g.debug("Loaded offline session",
b,f);if(!f)return a.f["delete"](c),a.S(new _.N(_.P,6,6013)),null;e.loaded=!0;ep(a)&&(a.w||a.g.info(Ca),a.w=!0,a.C=!1,a.H.resolve());return c},function(f){a.j||(a.f["delete"](c),a.S(new _.N(_.P,6,6005,{browserError:f.message})))})};fp=function(a,b,c,d){if(!b&&c!==_.Zf)return!1;d=b||rn(d);a=_.w(a.f.values());for(var e=a.next();!e.done;e=a.next())if(e=e.value,b&&e.keyId===b||b&&e.kb.includes(b)||c===_.Zf&&(e.keyId||rn(e.initData))===d)return!0;return!1};
Xo=function(a,b,c,d,e,f,g){f=void 0===f?null:f;g=void 0===g?!1:g;var h,l,m,n,p,q,t,v,z,C,F,G,B,H,O,T,da,aa,ya,Va,fb;_.I(function(Wa){switch(Wa.a){case 1:if(!e.length)return a.g.warn("Empty init data"),Wa["return"]();h=b;if(!h)try{h=gp(a,d,e,f)}catch(La){if(a.g.warn("Ignoring unrecognized init data. This may be caused by unsupported or malformed init data. Set `drm.ignoreUnrecognizedInitData \x3d false` if you want to override this behavior and use the init data after all.",{error:La,initDataType:d,
initData:e}),a.h.ignoreUnrecognizedInitData)return Wa["return"]()}if(g){Wa.F(2);break}if(!fp(a,h,d,e)){Wa.F(2);break}l=!0;if("skd"!==d||a.h.enableSessionCacheForSkd){Wa.F(4);break}m=_.w(a.f.keys());n=m.next();case 5:if(n.done){Wa.F(4);break}p=n.value;q=a.f.get(p);if(!h||q.keyId!==h){Wa.F(6);break}a.g.warn("Close and re-open session for "+h);_.D(Wa,9);return _.y(Wa,p.close(),11);case 11:_.oh(Wa,10);break;case 9:t=_.E(Wa),a.g.warn("Unable to close session",t);case 10:l=!1;case 6:n=m.next();Wa.F(5);
break;case 4:if(l)return a.g.warn("Skip creating a new session for "+h),Wa["return"]();case 2:try{z=a.G?_.ff:kg,v=a.I.createSession(z),a.g.info("Created new "+z+" session for Key ID: '"+h+"'. Init data type: "+(d+"."))}catch(La){return a.S(new _.N(_.P,6,6005,{browserError:La.message})),Wa["return"]()}a.A.on(v,_.Me,a.si.bind(a));a.A.on(v,xe,a.mi.bind(a));C={rc:f,ye:[],initData:e,initDataType:d,keyId:h,kb:h?[h]:[],loaded:!1,Tf:Infinity,periodId:c,Lb:null,Sa:new _.gk,sessionContext:{ldlDelay:0,customData:{}}};
C.Sa["catch"](function(){});f&&(F=a.f.get(f),C.sessionContext=F.sessionContext);a.f.set(v,C);h&&!a.o.get(h)&&a.o.set(h,dg);if(e)for(G=0;G<a.a.initData.length;G++)B=a.a.initData[G],B.keyId&&!C.kb.includes(B.keyId)&&_.Oj(B.initData,e)&&(C.keyId||(C.keyId=B.keyId),C.kb.push(B.keyId),a.o.get(B.keyId)||a.o.set(B.keyId,dg));H=_.M;O=H.Ib;T=a.D.getConfiguration();da=a.keySystem();aa=a.h.La[da];Va=(ya=aa.modifiers)&&ya.transformInitData;O(Va)||(Va=hp);try{e=Va({playerConfig:T,initData:e,initDataType:d,drmInfo:a.a,
drmSystemConfig:aa,sessionContext:C.sessionContext,emeApi:a.l.vd()})}catch(La){return fb=La,La instanceof _.N||(fb=new _.N(_.P,6,6016,La)),C.Sa&&C.Sa.reject(La),a.S(fb),Wa["return"]()}a.g.info("Generate License Request for key ID: '"+h+"'");v.generateRequest(d,e.buffer)["catch"](function(La){if(!a.j){var vb=null;La.errorCode&&La.errorCode.systemCode&&(vb=La.errorCode.systemCode,0>vb&&(vb+=Math.pow(2,32)),vb="0x"+vb.toString(16));a.S(new _.N(_.P,6,6006,{browserError:La.message,error:La,extended:vb},
La))}});_.A(Wa)}})};
gp=function(a,b,c,d){d=void 0===d?null:d;if("skd"===b){a:{var e=d;e=void 0===e?null:e;var f=a.keySystem(),g=a.h.La[f];f=a.D.getConfiguration();g=g&&g.modifiers&&g.modifiers.extractContentId;_.M.Ib(g)||(g=ip);try{var h={ldlDelay:0,customData:{}};e&&(h=a.f.get(e).sessionContext);var l=g(f,c,h);a.g.debug("Extracted Content ID '"+l+"' from SKD");var m=l;break a}catch(G){a.g.warn("Unable to extract Content ID from SKD",G)}m=""}return m}if(b===_.Zf)return rn(c)||"";if(b===_.rd){m=a.keySystem();try{if(m.match(/^com\.widevine\.alpha/)){var n=
_.bo(c);if(n)return n.a}else if(jp(m)){e=new _.Ym(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);f=_.W(e);var p=_.W(e);g=_.mn(p);var q=_.W(e);c=q>>>24;l=q&16777215;h=_.fn(e,16);var t=_.Nj(h);if(0<c){var v=_.W(e);e.skip(16*v)}var z=_.W(e),C=_.fn(e,z),F=_.io(C);_.Ih("Parsed PR PSSH Box","size",f,"name",g,zg,c,"flags",l,"size",z,"systemId",t,"keyId",F.a);if(F)return F.a}}catch(G){throw a.g.warn("Unable to extract Key ID from PSSH data.",{error:G,keySystem:m}),G;}}return""};
ip=function(a,b){var c=_.qn(b);_.Ih("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+c);return c};
hp=function(a){var b=a.playerConfig,c=a.initData,d=a.drmInfo,e=a.drmSystemConfig,f=a.sessionContext,g=a.emeApi;if("skd"===a.initDataType&&"APPLE"===g){a=_.M.Ib;d=d.serverCertificate;e=e&&e.modifiers&&e.modifiers.extractContentId;a(e)||(e=ip);a="";try{a=e(b,c,f)}catch(h){throw new _.N(_.P,6,6103);}if(!a.length)throw new _.N(_.P,6,6101,"Content ID is an empty string");c=sn(c,a,d)}return c};
np=function(a,b){var c=b.target,d=a.f.get(c),e=a.keySystem(),f=!1;e.match(/^com\.widevine\.alpha/)&&b.message&&2===b.message.byteLength?(f=!0,a.g.info("WV Server certificate request for SID:'"+(c.sessionId+" from msg '")+(b.messageType+"'"))):a.g.info("License request for SID:'"+(c.sessionId+"'/KID:'"+d.keyId+"' from msg '")+(b.messageType+"'"));var g=a.a.licenseServerUri;e=a.h.La[e];"individualization-request"===b.messageType&&e&&e.individualizationServer&&(g=e.individualizationServer);var h=_.Yj([g],
a.h.attemptParameters);h.type=3;h.body=b.message;h.method=_.Ib;h.licenseRequestType=b.messageType===Ae&&d.rc?ze:f?td:b.messageType;h.sessionId=c.sessionId;if(h.licenseRequestType===ze)a.D.onEvent(new _.L(de));jp(a.a.keySystem)&&kp(a,h);Lm(a.N,h);var l=Math.floor(b.timeStamp),m=Date.now();return lp(a,h,d.sessionContext).then(function(){_.ko(Xd+l+ia);a.g.debug("Sending DRM license request to",g,h);return a.D.Jb.fetch(h).U}).then(function(n){_.ko(Xd+l+".end");_.so(Xd+l,Xd+l+ia,Xd+l+".end");if(a.j)return Promise.reject();
var p=Date.now()-m,q=mp(a,n),t="";q&&(t=" RID:"+q);q=n&&n.data?n.data.byteLength:-1;f?a.g.info("WV Server certificate response for SID:'"+(c.sessionId+"' ")+(q+" bytes in ")+(p+"ms"+t)):a.g.info("License response for SID:'"+(c.sessionId+"'/KID:'")+(d.keyId+"' ")+(q+" bytes in ")+(p+"ms"+t));var v=Mm(a.N,n);_.ko(be+l+ia);return c.update(n.data).then(function(){_.ko(be+l+".end");_.so(be+l,be+l+ia,be+l+".end");if(!f){var z=Zo(a),C=v?Date.now()+1E3*v.delay:Number.NaN;z=new _.L(_.fe,{keySystem:a.keySystem(),
expirationTime:z,expectedRenewalTime:C});a.D.onEvent(z);d&&(d.Lb&&d.Lb.resolve(),d.rc&&(z=d.rc,a.g.info("Closing expired session '"+z.sessionId+"'"),yo(z)["catch"](function(){a.g.warn("Unable to close expired session in time")}),(z=a.f.get(d.rc))&&z.Wc&&z.Wc.stop(),a.f["delete"](d.rc),d.rc=null),(new _.pl(function(){a.j||(d.loaded=!0,d.Sa&&d.Sa.resolve(),ep(a)&&(a.w||a.g.info(Ca),a.w=!0,a.C=!1,a.H.resolve()))})).ea(5),null!==d.initData&&(0<d.sessionContext.ldlDelay||v&&Nm(a.keySystem()))&&(z=new _.pl(function(){!a.j&&
a.N&&(a.g.info("Updating CSL Sessions"),jp(a.keySystem())?Xo(a,d.keyId,d.periodId,d.initDataType,d.initData,c,!0):a.keySystem().startsWith(_.Kd)&&c.update(_.R.$a("renew")))}),d.Wc=z,z.ea(v?v.delay:d.sessionContext.ldlDelay)))}})},function(n){var p,q,t,v;return _.I(function(z){if(a.j)return z["return"]();p=n.data.headers;q=Pn(p);t=Object.assign({message:_.ab,url:n.data.url,status:n.data.status,response:n.data.response},p?{headers:p}:{},q);v=new _.N(_.P,6,6007,t,n);a.S(v);d&&d.Lb&&d.Lb.reject(v);d&&
d.Sa&&d.Sa.reject(v);_.A(z)})})["catch"](function(n){a.j||(n===Xb?a.g.info("Ignore update for closed sessions"):(n=new _.N(_.P,6,6008,{browserError:n.message}),a.S(n),d&&d.Lb&&d.Lb.reject(n),d&&d.Sa&&d.Sa.reject(n)))})};mp=function(a,b){if(!b||!b.headers)return"";var c=b.headers["x-dt-li"];if(c)try{return JSON.parse(_.R.aa(_.Lj(c))).ti}catch(d){a.g.warn("Unable to parse DRMtoday Request ID",d)}return""};
kp=function(a,b){var c=_.R.tc(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.g.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.yg).textContent;b.body=_.Lj(c.querySelector("Challenge").textContent).buffer}else a.g.debug("PlayReady request is already unwrapped."),b.headers[za]="text/xml; charset\x3dutf-8"};
lp=function(a,b,c){var d,e,f,g,h,l;return _.I(function(m){if(1==m.a)return d=a.D.getConfiguration(),_.y(m,Uo(a,d),2);e=a.keySystem();h=(g=(f=a.h.La[e])&&f.modifiers)&&g.licenseRequest;l=g&&g.licenseResponse;h?b.requestModifiers.push(function(n){return h(d,n,c)}):e.startsWith(_.Kd)&&b.requestModifiers.push(function(n){return _.tn(n)});l?b.responseModifiers.push(function(n){return l(d,n,c)}):e.startsWith(_.Kd)&&b.responseModifiers.push(function(n){return _.un(n)});_.A(m)})};
vo=function(a){var b=a.o,c=a.fa;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"===d})&&a.S(new _.N(_.P,6,6014));a.D.Yf(_.M.Ig(c));a.w||a.g.info(Ca);a.w=!0;a.C=!1};Po=function(a){var b;return _.I(function(c){if(1==c.a)return _.ko(ae),b=a.ca.map(function(d){return np(a,d)}),a.za=!0,a.ca=[],_.y(c,Promise.all(b),2);_.ko($d);_.so("drm.onPlay",ae,$d);_.A(c)})};jp=function(a){return!!a.match(/^com\.(microsoft|chromecast)\.playready/)};
_.cp=function(a){return jp(a)?_.Nd:a};_.pp=function(a,b){return a.length&&b.length?0<_.op(a,b).length:!0};
_.op=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e={},f=0;f<b.length;e={pd:e.pd},f++)if(a[d].keySystem===b[f].keySystem&&a[d].periodId===b[f].periodId){var g=a[d];f=b[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);e.pd=_.ah(g.keyIds||[]).concat();f.keyIds&&f.keyIds.length&&f.keyIds.forEach(function(l){return function(m){l.pd.includes(m)||l.pd.push(m)}}(e));c.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,
distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:e.pd,periodId:g.periodId});break}return c};
wo=function(a){a.f.forEach(function(b,c){var d=b.Tf,e=c.expiration;isNaN(e)&&(e=Infinity);e!==d&&(a.D.Xf(c.sessionId,e),b.Tf=e)})};ep=function(a){a=a.f.values();return _.wj(a,function(b){return b.loaded})};
Do=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.w(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};ap=function(a){for(var b=_.w(a.audioCapabilities||[]),c=b.next();!c.done;c=b.next())delete c.value.robustness;a=_.w(a.videoCapabilities||[]);for(b=a.next();!b.done;b=a.next())delete b.value.robustness};
bp=function(a){return(a.audioCapabilities||[]).some(qp)||(a.videoCapabilities||[]).some(qp)};qp=function(a){return null!=a.robustness&&""!==a.robustness};
dp=function(a,b,c,d,e){var f={};a=_.w(a);for(var g=a.next();!g.done;f={Fa:f.Fa},g=a.next()){f.Fa=g.value;b.includes(f.Fa.licenseServerUri)||b.push(f.Fa.licenseServerUri);f.Fa.serverCertificate&&(c.some(function(m){return function(n){return _.Oj(n,m.Fa.serverCertificate)}}(f))||c.push(f.Fa.serverCertificate));if(f.Fa.initData){var h=_.w(f.Fa.initData);for(g=h.next();!g.done;g=h.next())g.value.periodId=f.Fa.periodId;h={};var l=_.w(f.Fa.initData);for(g=l.next();!g.done;h={je:h.je},g=l.next())h.je=g.value,
d.some(function(m){return function(n){var p=m.je;return n.keyId&&n.keyId===p.keyId&&n.periodId===p.periodId?!0:!1}}(h))||d.push(h.je)}if(f.Fa.keyIds)for(g=0;g<f.Fa.keyIds.length;++g)e.includes(f.Fa.keyIds[g])||e.push(f.Fa.keyIds[g])}};
Jo=function(a,b,c){var d=_.cp(b.keySystem);c=c[d];d===_.bf&&b.licenseServerUri?a.g.debug("Using Clear Key data URI for",d):c&&c.licenseUrl?(b.licenseServerUri=c.licenseUrl,a.g.debug("Using license server URI from user-configured clpp.drm.DrmEnvironment (licenseUrl) for",d)):a.g.debug("Using license server URI from the manifest for ",d)};
Ho=function(a,b){var c=b[_.cp(a.keySystem)];a.keyIds||(a.keyIds=[]);c&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=c.persistentStateRequired),a.videoRobustness||(a.videoRobustness=c.videoRobustness||""),a.audioRobustness||(a.audioRobustness=c.audioRobustness||""),a.serverCertificate||(a.serverCertificate=c.serverCertificate||null))};
yo=function(a){var b,c;return _.I(function(d){if(1==d.a)return b=new Promise(function(e){(new _.pl(e)).ea(1)}),_.y(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.f)||_.Dh("Timeout waiting for session close");_.A(d)})};_.tp=function(a,b){a&&b&&(_.rp.set(a,b),_.sp.info("Registered TextDisplayerFactory: '"+a+"'"))};
_.up=function(a,b){var c=b.find(function(d){return(d=_.rp.get(d))?d.a(a):!1});if(null==c)return _.sp.warn("Subtitles may not work as expected. No compatible text displayer found for this platform."),null;_.sp.info("Chosen the text displayer: "+c);return _.rp.get(c)};vp=function(){this.a=null;this.f=[]};_.wp=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!==b&&(a.f.push(a.a),a.a={timestamp:c,state:b,duration:0})}};
xp=function(a,b){var c=0;a.a&&a.a.state===b&&(c+=a.a.duration);for(var d=_.w(a.f),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state===b?e.duration:0;return c};yp=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.w(a.f),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};zp=function(){this.h=this.f=this.j=null;this.a=[]};Ap=function(a){return a.a.map(function(b){return _.M.bb(b)})};
_.Bp=function(){this.f=this.o=this.A=this.C=this.j=this.l=this.h=this.w=NaN;this.a=new vp;this.B=new zp};_.Cp=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};_.Dp=function(a){this.f=a;this.a=void 0};Fp=function(a,b,c,d){b===HTMLMediaElement.HAVE_NOTHING||a.readyState>=b?d():(b=Ep.value().get(b),c.one(a,b,d))};
Jp=function(a){this.g=new _.K("clpp.StateManager");this.m=a;this.a=new _.Sh;this.f=_.Gp;this.A=_.Hp;this.I=0;this.w=-1;this.L=this.o=this.J=this.B=0;this.j=this.h=this.G=!1;this.H=0;this.l=null;this.K=0;this.N=_.wl();this.C=!1;this.J=Date.now();Ip(this)};Kp=function(a,b){return Object.keys(b)[a]};
Mp=function(a,b){var c={type:_.cg};b===_.kd||b===_.jd?(c.reason=a.w,b===_.kd?c.timeSinceLastStateChangeMS=a.I:c.bufferedTimeMS=a.B):(a.f===_.Lp&&(c.reason=a.w),a.A===_.Lp&&(c.reason=a.w,c.bufferedTimeMS=a.B),c.currentState=a.f,c.previousState=a.A,c.timeSinceLastStateChangeMS=a.I);return c};
Qp=function(a,b){if(a.f===b)return!1;var c=Date.now(),d=a.f===_.Lp;a.A=a.f;a.f=b;a.A===_.Np&&(a.J=c,a.o=0);a.o||(a.o=a.J||c);a.I=c-a.o;a.o=c;b===_.Lp?(a.L=a.o,a.w=a.h?1:2,a.g.info("Buffering started. Reason: "+Kp(a.w-1,_.Op)),c=Mp(a,_.kd),a.ib(_.kd,c)):d&&(a.B=a.o-a.L,a.g.info("Buffering finished. Reason: "+Kp(a.w-1,_.Op)+". Buffering time: "+a.B+" ms"),c=Mp(a,_.jd),a.ib(_.jd,c));c=Kp(a.A,_.Pp);d=Kp(a.f,_.Pp);a.g.info(_.Nb+c+" -\x3e "+d);a.ib(_.cg,Mp(a,""));return!0};
Vp=function(a,b){if(a.f===_.Rp)a.g.warn("Player is in error state, aborting any further state checks");else{var c=a.m.isPaused(),d=a.m?a.m.isEnded():!1;if(d)a.h||(a.j=!1,Qp(a,_.Np));else if(b!==_.ng){var e=a.m.getPosition();e=null!==e&&void 0!==e&&0<=e?a.m.getBufferInfo().Aa(e,!0):-1;a.H=e;e=a.m.getSurface().getMedia();a.l=e?e.readyState:null;a.K=a.m.getPlaybackRate()||1;e=typeof a.l===_.k&&2>a.l&&2===e.networkState;var f=typeof a.l===_.k&&0>=a.H&&a.f===_.Gp,g=typeof a.l===_.k&&2>=a.l&&a.j;e=a.h||
f||e||g;!a.N||a.m.isLive()||a.f!==_.Lp||e||(f=b===_.Uf&&4===a.l,(g=a.A===_.Sp)&&!a.C?e=!0:g||a.C||f||(e=!0));f=!1;e?f=Qp(a,_.Lp):c?f=Qp(a,_.Tp):a.G&&(f=Qp(a,_.Up));f&&(a.C=!1);a.g.debug("Video state check for event "+b+":: seeking: "+a.h+", waiting: "+a.j+", playing: "+a.G+", paused: "+c+", readyState: "+a.l+", rate: "+a.K+", buffer: "+a.H+", ended: "+d+". Changed state: "+f+", Current state: "+Kp(a.f,_.Pp))}}};
Ip=function(a){function b(d){return Vp(a,d.type)}a.g.debug("Start watching for video events for "+a.m.namespace());var c=a.m;a.a.on(c,_.me,function(){a.h||(a.j=!1,Qp(a,_.Np))});a.a.on(c,ld,b);a.a.on(c,_.tf,function(){a.G=!0;a.j=!1;Vp(a,_.tf)});a.a.on(c,_.df,function(){a.G=!1;a.j=!1;Vp(a,_.df)});a.a.on(c,_.ng,b);a.a.on(c,_.Jf,b);a.a.on(c,_.Uf,function(d){a.h=!1;a.j=!1;Vp(a,d.type)});a.a.on(c,_.Vf,function(d){a.h=!0;Vp(a,d.type)});a.a.on(c,ag,b);a.a.on(c,_.Lg,function(){a.j=!0;Vp(a,_.Lg)});a.a.on(c,
_.ne,function(d){return a.S(d)});a.a.on(c,_.Ge,b);a.a.on(c,md,function(){a.C=!0;Vp(a,md)});a.a.on(c,_.xg,function(d){a.h=!0;Vp(a,d.type)});a.a.on(c,_.wg,function(d){a.h=!1;a.j=!1;Vp(a,d.type)})};Wp=function(a){a=(new _.Ti(a)).Ha;if(!a)return null;a=a.toUpperCase();return _.R.endsWith(a,".MPD")?_.Tc:_.R.endsWith(a,".M3U8")?_.Yl:_.R.endsWith(a,".MP4")?_.Eg:_.R.endsWith(a,".MP3")?"audio/mp3":_.R.endsWith(a,"MANIFEST")||_.R.endsWith(a,".ISM")?_.Yc:null};
_.Yp=function(a){var b;wm(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.fg||"url"in e});a=[];for(var c=0;c<b.length;c++){var d=Xp(b[c]);d&&a.push(d)}return a};
Xp=function(a){var b=null;_.M.da(a)&&(a={url:a});typeof a===_.Ue&&!Array.isArray(a)&&"url"in a&&(b={url:a.url,type:a.type?a.type:null},_.M.R(a.drmProtected)||typeof a.drmProtected!==_.id||(b.drmProtected=a.drmProtected),_.M.R(a.isLive)||typeof a.isLive!==_.id||(b.isLive=a.isLive),_.M.R(a.name)||typeof a.name!==_.fg||(b.name=a.name),_.M.R(a.Zb)||typeof a.Zb!==_.fg||(b.Zb=a.Zb),_.M.R(a.audioMimeType)||typeof a.audioMimeType!==_.fg||(b.audioMimeType=a.audioMimeType));b&&!b.type&&(b.type=Wp(a.url),b.type?
Zp.debug("Detect media type "+b.type+" for "+a.url):Zp.warn("Unable to detect media type for "+a.url));return b};$p=function(){_.xm.call(this,Dd);this.w=this.H=!1;this.l=this.A=this.o=this.a=this.j=null;this.h=new _.Sh;this.G=this.B=this.f=this.I=null};
cq=function(a,b){return a.w?aq():new Promise(function(c){a.a||(a.h.on(b,_.ne,function(){var d=bq(a);if(d)a.onError(d)}),a.h.on(b,_.Of,function(){var d=b.videoWidth,e=b.videoHeight,f=a.getTrackManager();f&&0<d&&0<e&&(f.w={width:d,height:e});a.trigger(new _.L(_.hd,{detail:{width:d,height:e}}))}),a.a=b);c()})};dq=function(a){return a.w?aq():new Promise(function(b){if(a.a){var c=a.a;a.h.off(c,_.ne);a.h.off(c,_.Of);a.a=null}b()})};
fq=function(a){var b,c,d,e,f;return _.I(function(g){if(1==g.a){if(a.w)return g["return"](aq());b=a.$[a.getSourceIndex()];if(!a.configuration.drm||!1===b.drmProtected)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),g["return"](Promise.resolve());c=_.eq;d=_.Rm(a.configuration.drm);a.log.debug("Drm configuration: ",d);e=a.getNetworkEngine();a.o=new _.xo({Jb:e,onError:function(h){return a.onError(h)},Yf:function(){},Xf:function(h,l){a.trigger(new _.L(_.ce,{expirationTime:l}))},
onEvent:function(h){h instanceof _.L?a.dispatchEvent(h):a.log.debug(_.fc,h.type)},getConfiguration:function(){return a.getConfiguration()},$c:function(){return a.$c()}});a.o.h=d;f={id:0,language:_.rg,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,Da:0,mimeType:_.Eg,
codecs:"",encrypted:!0,keyId:null,language:_.rg,originalLanguage:_.rg,label:null,type:c.VIDEO,primary:!1,frameRate:void 0,Bo:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,spatialAudio:!1,io:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.y(g,_.Co(a.o,[f]),2)}return 3!=g.a?_.y(g,_.To(a.o,a.a),3):g["return"](Promise.resolve())})};
gq=function(a,b){Fp(a.a,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){a.getState()!==_.Rp&&a.seek(b)["catch"](function(c){a.log.warn("Error while seeking to start position.",c)})})};bq=function(a){if(null===a.$||!a.a.error)return null;var b=a.a.error.code;if(1===b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.N(_.P,3,3016,{code:b,uo:c,message:a.a.error.message})};aq=function(){return Promise.reject(new _.N(_.P,7,7E3))};
hq=function(a){if(a.w)return new _.hk(aq(),function(){});var b=a.$[a.getSourceIndex()],c=a.configuration.startTime||null,d=a.a,e=a.I;c&&gq(a,c);if(d.preload!==_.Te)a.h.one(d,_.Ge,function(){var g=Date.now()/1E3-e;a.f.A=g;a.log.debug("Time to load: ",g)});d.src=b.url;(_.ok()||_.pk())&&d.load();var f=new _.gk;a.h.one(d,ag,function(){var g=a.getConfiguration().manifest.attemptParameters.timeout||30;a.B||(a.B=(new _.pl(function(){f.reject(new _.N(_.P,3,3100,{message:"Unable to load media source successfully from "+
b.url,uri:b.url},d.error))})).ea(g))});Fp(d,a.configuration.forceWaitForTracks?HTMLMediaElement.HAVE_CURRENT_DATA:HTMLMediaElement.HAVE_METADATA,a.h,function(){return f.resolve()});d.error?f.reject(bq(a)):d.preload===_.Te&&(a.log.warn('With \x3cvideo preload\x3d"none"\x3e, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload\x3d"none" with PRESTOplay for Web Apps.'),f.resolve());a.h.one(d,_.ne,function(){f.reject(bq(a))});
return new _.hk(f,function(){var g=new _.N(_.P,7,7001);f.reject(g);return Promise.resolve()})};
iq=function(a,b){Fp(b,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){if(a.isLive()&&a.getState()!==_.Rp){var c=a.getSeekRange().end,d=a.getPosition();Infinity===c||20>c-d||(a.log.warn("Detected that HLS live stream was not started from close to the live edge. Auto-fixing, seeking to seek range end.(position: "+(d+", seek range end: "+c+")")),a.seek(c)["catch"](function(e){a.log.warn("Error while seeking to seek range edge.",e)}))}})};
jq=function(a,b){var c=!1;a.h.on(b,_.Vf,function(){c=b.paused});a.h.on(b,_.Uf,function(){.2>b.duration-b.currentTime&&b.paused&&!c&&(a.log.warn("Player was auto-paused during seek to the end, auto-resuming."),b.play())})};kq=function(){};_.nq=function(a){0<=lq.indexOf(a)?mq.warn("Factory '"+a.name()+"' is already registered"):(lq.push(a),mq.info("Factory '"+a.name()+"' has been registered."))};
oq=function(a,b){var c=lq.find(function(d){return d.a(a,b)})||null;c&&mq.info("Chosen ads manager: "+c.name());return c};pq=function(){};qq=function(){};rq=function(a,b,c,d){this.w=this.o=this.l=!1;this.A=a;this.a=b;this.f=c;this.h=d;this.j=0};sq=function(a){this.a=a.map(function(b){return{videoId:b.getSurface().getMedia().id,player:b,pe:!0,ready:Promise.resolve()}});this.g=new _.K("clpp.plist.PlayerPool")};
_.tq=function(a,b){var c=document.createElement(a),d;for(d in b){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};_.uq=function(a,b){a.classList.add(b)};_.vq=function(a,b){if(a&&typeof b===_.Ue)for(var c in b)a.style[c]=b[c]};_.wq=function(a){return document.createElement(a)};xq=function(){this.a=null;this.h=new Set;this.f=null;this.set(null)};yq=function(a,b){a.a&&0!==b.length&&(a.a.classList.add(b),a.h.add(b))};
zq=function(a,b){var c=new MutationObserver(function(){var d=Array.from(a.h.values());xi(Array.from(b.classList),Array.from(d))||b.classList.add.apply(b.classList,_.ah(d))});c.observe(b,{attributes:!0,attributeFilter:["class"]});return c};
Dq=function(a,b){this.g=new _.K("clpp.PlayerSurface");this.w=_.M.pa(Aq,b);this.f=new xq;this.h=null;this.a=new xq;this.l=Bq;Bq+=1;this.o="clpp-video-"+this.l;this.j=new _.Sh;if(null==a)throw new _.N(_.P,7,7102,"No Media element was provided");if(a instanceof Element)var c=a;else if(c=document.getElementById(a),!c)throw new _.N(_.P,7,7004,"Media element not found");var d=this.w;this.g.debug("Initializing Player Surface on ",c);if("cast-media-player"===c.tagName.toLowerCase())this.h=c;else{if(!(c instanceof
HTMLMediaElement))throw new _.N(_.P,7,7005,"Media element is not instance of HTMLMediaElement");if(!c.hasAttribute("crossorigin")){var e=d.crossorigin;this.g.info("Setting media elements crossorigin to "+e);c.setAttribute("crossorigin",e)}this.f.set(c);if(d.disableContainer)e=null;else if(d.containerEl){if(c.parentNode!==d.containerEl)throw new _.N(_.P,7,7006,"Container element is not a direct parent of media element");e=d.containerEl}else{e=document.createElement(_.Wd);c.parentNode?c.parentNode.replaceChild(e,
c):this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!");for(var f=[],g=0;g<c.classList.length;g++)f.push(c.classList[g]);f=_.w(f);for(g=f.next();!g.done;g=f.next())g=g.value,c.classList.remove(g),_.uq(e,g);e.style.cssText=c.style.cssText;c.removeAttribute(_.hg);f=_.w([_.Sg,_.se]);for(g=f.next();!g.done;g=f.next()){g=g.value;var h=c.getAttribute(g);h=parseInt(h,10);isNaN(h)||(e.style[g]=h+_.If);_.ok()||c.removeAttribute(g)}e.appendChild(c)}e&&
(this.a.set(e),yq(this.a,"clpp-container"),yq(this.a,this.o),yq(this.f,_.wd),yq(this.f,"clpp-video"));d.webOSStartupPatch&&Cq(this,c,e)}};Cq=function(a,b,c){(_.pk()&&53===_.tl().major||_.pk()&&68===_.tl().major||_.ul())&&!b.hasAttribute(Rd)&&(b.style.opacity="0",b.setAttribute(Rd,""),a.j.one(b,he,function(){b.removeAttribute(Rd);b.style.opacity="1";c&&(c.style.opacity="1")}))};
Hq=function(a){var b=this;this.h=a;this.j=[];this.f=a.Fi;this.A=a.Fi.getSurface().getContainer();if(!this.A)throw Error("Primary player does not have a container");this.B=[];var c=Eq(this,this.A,this.h.Mk);this.o=new sq(c);this.a=null;this.w=!1;this.l=new Map;this.C=a.toggleVisible;this.g=new _.K("clpp.interstitial.MultiController");Fq(this).forEach(function(d){return Gq(b,d,!1)})};
Jq=function(a){var b;return _.I(function(c){if(1==c.a)return(b=a.a)?"loaded"===b.state?c.F(2):_.y(c,b.ed,2):c["return"]();if(4!=c.a)return _.y(c,b.player.play(),4);b.state=_.tf;Iq(b);_.A(c)})};Kq=function(a,b){a.g.info("Add items",b);a.j=a.j.concat(b.map(function(c){return Object.assign({},c,{state:"idle",disposers:[],preloadPromise:Promise.resolve(),ed:Promise.resolve()})}))};
Lq=function(a,b){0!==a.j.length&&(b?(a.g.info("Remove items",b),a.j=a.j.filter(function(c){return!b.includes(c.id)})):(a.g.info("Remove all items"),a.j=[]))};
Wq=function(a,b,c){var d,e,f,g,h;return _.I(function(l){switch(l.a){case 1:if(a.w)return a.g.warn("Cannot "+c+" item while busy (ID: "+b+")"),l["return"]();d=Mq(a,b);if(!d)return a.g.warn("Item not found (ID: "+b+")"),l["return"]();a.g.info(c+" item (ID: "+b+")");a.w=!0;if(e=a.a)e.player.isPaused()||e.player.pause(),e.player.setMuted(!0);(f=a.l.has(b))&&a.l["delete"](b);_.D(l,2,3);if(c===_.hf)return(g=e&&d.primary)?_.y(l,Nq(a,d),10):f?_.y(l,Oq(a,d),10):_.y(l,Pq(a,d),10);if(f){a.g.error("Loading preloaded items is not supported");
l.F(6);break}return _.y(l,Qq(a,d),6);case 10:Iq(d);case 6:Rq(a,d);d.player.setMuted(!1);d.bc&&Sq(a,d,d.bc);if(d.sb)d.player.one(_.me,d.sb);d.ni&&d.ni();case 3:_.ph(l);a.w=!1;e&&Tq(a,e);Uq(a);Vq(a,d.next);_.qh(l);break;case 2:throw h=_.E(l),a.g.error("Item failed to "+c+" (ID: "+b+")"),h;}})};Yq=function(a,b){var c=Xq(a);c?c.Ja=b:a.g.error("Failed to get primary item. Cannot configure resume position.")};Xq=function(a){return a.j.find(function(b){return!!b.primary})||null};
Mq=function(a,b){return a.j.find(function(c){return c.id===b})||null};Rq=function(a,b){var c=b.transition;if(c&&!c.tn){if(c.sb){var d=c.sb,e=function(){a.g.info("Transition onEnded to (ID: "+d+")");a.play(d)};b.player.one(_.me,e);b.disposers.push(function(){b.player.off(_.me,e)})}c.Zf&&Zq(a,b,function(){var f=a.a.bc;f&&(a.f.trigger(new _.L(_.Kc,{ad:f})),a.f.trigger(new _.L(_.yc,{ad:f})),f.a===f.f&&a.f.trigger(new _.L(_.vc)))});c.tn=!0}};
Zq=function(a,b,c){function d(){b.player.off(_.ng,f)}function e(){var l=b.player.getPosition();l>=g.position?(c(),a.g.info("Transition onPosition to (ID: "+g.itemId+"), playback position: "+(l.toFixed(3)+" s, transition point: ")+(g.position.toFixed(3)+" s. ")),a.play(g.itemId),l=!0):l=!1;l?h=null:h=requestAnimationFrame(e)}function f(){var l=b.player.getPosition();.5>=g.position-l&&(d(),e())}var g=b.transition.Zf,h=null;g.Ja&&Yq(a,g.Ja);b.player.on(_.ng,f);b.disposers.push(function(){null!=h&&(cancelAnimationFrame(h),
h=null)});b.disposers.push(d)};$q=function(a){a.a&&(a.a.disposers.forEach(function(b){return b()}),a.a.disposers=[],a.a.bc&&Sq(a,a.a,a.a.bc),Rq(a,a.a),Uq(a),Vq(a,a.a.next))};Fq=function(a){return[a.f].concat(_.ah(a.o.a.map(function(b){return b.player})))};Uq=function(a){return Promise.all(Array.from(a.l.keys()).map(function(b){return ar(a,b)}))};
ar=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.l.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (ID: "+b+")");return c.player?_.y(d,br(a,c.player),3):d.F(3)}a.l["delete"](b);_.A(d)})};
Tq=function(a,b){var c;return _.I(function(d){if(1==d.a){c=b.player;if(b.primary)return a.g.info("Pause primary playback"),Gq(a,c,!1),d.F(0);a.g.info("Stop previous playback (ID: "+b.id+")");b.disposers.forEach(function(e){return e()});b.disposers=[];b.player=null;b.videoEl=null;b.role=cr;return _.y(d,br(a,c),3)}Gq(a,c,!1);_.A(d)})};Pq=function(a,b){return _.I(function(c){if(1==c.a)return _.y(c,Qq(a,b),2);if(3!=c.a)return _.y(c,b.player.play(),3);b.state=_.tf;_.A(c)})};
Qq=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,dr(a,!!b.primary),2);if(3!=d.a)return c=d.f,a.a=b,b.role=er,a.a.player=c,a.a.videoEl=c.getSurface().getMedia(),Gq(a,c,!0),b.state="loading",b.ed=fr(c,b.config),_.y(d,b.ed,3);b.state="loaded";_.A(d)})};
Oq=function(a,b){var c;return _.I(function(d){switch(d.a){case 1:c=b.player;if(!c)return d["return"]();if(b.state!==Bf){d.F(2);break}a.g.info(lc);_.D(d,3);return _.y(d,b.preloadPromise,5);case 5:_.oh(d,2);break;case 3:_.E(d);case 2:a.a=b;b.role=er;Gq(a,c,!0);if(b.state===Af)return _.y(d,c.play(),7);if(b.state!==zf){d.F(7);break}return _.y(d,fr(c,b.config),7);case 7:b.state=_.tf,_.A(d)}})};
Sq=function(a,b,c){function d(){a.f.trigger(new _.L(_.Kc,{ad:c}));a.f.trigger(new _.L(_.yc,{ad:c}));c.a===c.f&&a.f.trigger(new _.L(_.vc))}function e(){a.f.trigger(new _.L(_.wc,{ad:c}))}function f(){a.f.trigger(new _.L(_.Hc,{ad:c}))}function g(){l.isEnded()||a.f.trigger(new _.L(_.Fc,{ad:c}))}function h(){var m=l.getPosition(),n=c.getDuration();c.j=m;a.f.trigger(new _.L(_.Gc,{ad:c}));!c.l&&m>=n/4&&(c.l=!0,a.f.trigger(new _.L(_.zc,{ad:c})));!c.o&&m>=n/2&&(c.o=!0,a.f.trigger(new _.L(_.Ec,{ad:c})));!c.w&&
m>=3*n/4&&(c.w=!0,a.f.trigger(new _.L(_.Lc,{ad:c})))}var l=b.player;l.on(_.ng,h);l.on(_.df,g);l.on(_.tf,f);l.on(_.kd,e);l.one(_.me,d);b.disposers.push(function(){l.off(_.ng,h);l.off(_.df,g);l.off(_.tf,f);l.off(_.kd,e);l.off(_.me,d)});1===c.a&&a.f.trigger(new _.L(_.uc));a.f.trigger(new _.L(_.Cc,{ad:c}));a.f.trigger(new _.L(_.Jc,{ad:c}))};
Nq=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Bf){c.F(2);break}a.g.info("Wait for seek to finish");_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.oh(c,2);break;case 3:_.E(c);case 2:return a.a=b,b.role=er,Gq(a,b.player,!0),b.state="loading",_.y(c,b.player.play(),6);case 6:b.state=_.tf,_.A(c)}})};br=function(a,b){return _.I(function(c){return b===a.f?c.F(0):_.y(c,a.o.release(b),0)})};
dr=function(a,b){var c;return _.I(function(d){if(1==d.a)return b?d["return"](a.f):_.y(d,a.o.get(),2);c=d.f;if(!c)throw Error("No player available");return d["return"](c)})};Vq=function(a,b){var c;_.I(function(d){if(0===b.length)return d["return"]();a.g.info("Preload items (IDs: "+b+")");c=a.j.filter(function(e){return b.includes(e.id)})||[];return _.y(d,Promise.all(c.map(function(e){return gr(a,e)})),0)})};
gr=function(a,b){var c,d,e,f;return _.I(function(g){switch(g.a){case 1:if(!b.primary){g.F(2);break}b.state=Bf;a.l.set(b.id,b);c=b.player;if(!b.Ja){g.F(3);break}a.g.info("Preparing to resume at",b.Ja);c.setMuted(!0);return _.y(g,c.seek(b.Ja),3);case 3:return b.state=Af,g["return"]();case 2:return d=b.id,_.y(g,dr(a,!1),5);case 5:return e=g.f,b.player=e,b.videoEl=e.getSurface().getMedia(),b.role=cr,b.state=Bf,_.D(g,6),a.l.set(d,b),b.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (ID: "+
(d+")")),b.config.autoplay=!1),b.preloadPromise=fr(e,b.config),_.y(g,b.preloadPromise,8);case 8:b.state=Af;_.oh(g,0);break;case 6:f=_.E(g),7001===f.code?(a.g.info("Preload aborted (ID: "+d+")"),b.state=yf):(a.g.warn("Preload failed (ID: "+d+")",f),b.state=zf),_.A(g)}})};
Gq=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.debug(Zb+b),d.classList.add(zd),d.classList.remove("clpp-hide")):(a.g.debug(jb+b),d.classList.remove(zd),d.classList.add("clpp-hide")),a.C&&a.C(d,c))};
Eq=function(a,b,c){return Array.from({length:2}).map(function(){var d=document.createElement(_.r);b.appendChild(d);var e=a.h.Ba.create();d=new Dq(d);e.init(d,c);e.setSourceIndex(0);d=d.getContainer();if(!d)throw Error("Failed to create player surface container element");d.classList.add("secondary");a.B.push(d);return e})};hr=function(a){a.B.forEach(function(b){return a.A.removeChild(b)});a.B=[];Gq(a,a.f,!0)};
fr=function(a,b){return _.I(function(c){return 1==c.a?_.y(c,a.release(),2):_.y(c,a.load(b),0)})};Iq=function(a){if(a.bc&&0===a.bc.getDuration()){var b=a.player.getDuration();a.bc.h=b}a.Re&&a.Re()};
nr=function(a){_.nm.call(this);var b=this;this.h=_.M.pa({dn:.5},a);this.g=new _.K("clpp.interstitial.Player");this.j=a.player;this.j.setSeekInterceptor(function(c){var d=ir(b,c);return d&&[jr,kr].includes(d.state)?(b.g.info("Seeking into an interstitial",d.wa),lr(b,d)["catch"](function(){b.j.seek(c)}),!1):!0});this.a=new Hq({Mk:this.h.config,Fi:a.player,preloadMedia:!0,Ba:a.Ba});this.l=[];this.f=[];this.o=!1;mr(this,a.player)};or=function(a){return(a=a.a.getCurrentItem())&&!a.primary?a.player:null};
qr=function(a){var b,c,d;_.I(function(e){var f=a.a;Kq(f,[{id:Gf,primary:!0,config:f.f.getConfiguration(),next:[]}]);var g=Xq(f);if(!g)throw Error("Failed to find primary item");f.a=g;g.role=er;g.player=f.f;g.videoEl=g.player.getSurface().getMedia();Gq(f,g.player,!0);b=a.j;c=b.getConfiguration();d=!c.autoplay;a.o=pr(a,d,b.isLive(),!1);if(a.o){f=a.a;g=f.o;if(g=g.a[0]?g.a[0].player:null)Gq(f,f.f,!1),Gq(f,g,!0);return e.F(0)}return c.autoplay?_.y(e,Jq(a.a),0):e.F(0)})};
pr=function(a,b,c,d){var e=rr(a);a.g.info("Interstitial cues found",e);var f=e;if(d){f=Ai(a.f.map(function(n){return n.wa}),e.map(function(n){return n.id}));sr(a,f.ln);var g=new Set(f.gj);f=e.filter(function(n){return g.has(n.id)})}if(!tr(a,f))return!1;var h=[],l=[],m=[];f.forEach(function(n){var p=n.customAttributes.CUE||[];p.includes(_.Ib)?l.push(n):!d&&p.includes("PRE")?h.push(n):!c&&n.startTime<a.h.dn?h.push(n):m.push(n)});1<h.length?a.g.warn("Multiple preroll interstitials not supported. Will display only the 1st one."):
h[0]&&ur(a,h[0],b);m.forEach(function(n){return vr(a,n,1)});1<l.length?a.g.warn("Multiple postroll interstitials not supported. Will display only the 1st one."):l[0]&&vr(a,l[0],2);a.g.info("Interstitials changed",a.f);return 0<h.length};sr=function(a,b){var c=new Set(b);a.f.forEach(function(d){c.has(d.wa)&&![jr,kr].includes(d.state)&&a.g.warn("Removing an interstitial in active state",d)});a.f=a.f.filter(function(d){return!c.has(d.wa)})};
rr=function(a){return a.j.getTimelineCues().filter(function(b){return b.schemeIdUri===Ld&&b.customAttributes})};lr=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,wr(a,b),2);c=d.f;if(!c)throw Error("Failed to bind");return _.y(d,xr(a,b,1,!1),0)})};
vr=function(a,b,c){var d=b.customAttributes[tc];b={wa:b.id,startTime:b.startTime,endTime:b.endTime,state:jr,Jg:b.customAttributes[pc],Kg:b.customAttributes[rc],Ma:null,Ja:null==d?null:b.startTime+d,rn:d,Di:b.customAttributes[sc],gg:c};a.f.push(b);return b};
ur=function(a,b,c){var d,e,f;_.I(function(g){if(1==g.a)return d=vr(a,b,0),_.y(g,wr(a,d),2);e=g.f;f=d.Ma?d.Ma.length:0;if(e&&0<f)return xr(a,d,0,c),a.g.info("Preroll interstitial "+d.wa+" scheduled"),g.F(0);e?a.g.warn("Preroll interstitial has no assets, skipping"):a.g.error("Preroll interstitial failed, skipping");return c?g.F(0):_.y(g,Jq(a.a),0)})};yr=function(a){a.l.forEach(function(b){return b()});a.l=[]};
mr=function(a,b){function c(){pr(a,!1,!0,!0)}function d(){var e,f,g,h,l;return _.I(function(m){switch(m.a){case 1:e=b.getPosition();f=zr(a,e);if(!f){m.F(2);break}a.g.info(kb+f.wa+" coming up at "+(f.startTime+" s"));return _.y(m,wr(a,f),3);case 3:(g=m.f)&&Ar(a,f,b);case 2:h=Br(a);if(!(h&&h.state===jr&&b.getDuration()-e<a.h.resolutionOffsetSec)){m.F(0);break}return _.y(m,wr(a,h),5);case 5:if(l=m.f)if(h.Ma&&0!==h.Ma.length){var n=a.a.getCurrentItem();if(n){var p=Cr(a,h,2),q=p[0].id;n.next=[q];n.transition=
{sb:q};Dr(a,h,p);a.g.info("Postroll interstitial "+h.wa+" scheduled")}}else a.g.warn("Postroll interstitial has no assets, ignoring.");_.A(m)}})}b.addEventListener(_.ng,d);a.l.push(function(){b.removeEventListener(_.ng,d)});b.addEventListener(_.ei,c);a.l.push(function(){b.removeEventListener(_.ei,c)})};Br=function(a){return a.f.find(function(b){return 2===b.gg})||null};
tr=function(a,b){for(var c=b.sort(function(m,n){return m.startTime-n.startTime}),d=a.h.resolutionOffsetSec,e=[],f=0;f<c.length-1;f++){var g=c[f],h=c[f+1];h&&h.startTime-g.endTime<d&&e.push(mb+g.id+" and "+h.id+" are too close to each other (less than "+(d+" s)."));h&&h.startTime<=g.endTime&&e.push(mb+g.id+" and "+h.id+" overlap.")}var l=[];b.forEach(function(m){var n=m.customAttributes[rc],p=m.customAttributes[sc];m.customAttributes[pc]||n?null!=p&&1>p&&a.g.warn(lb+m.id+" is invalid X-PLAYOUT-LIMIT is less than 1 s.",
m):l.push(lb+m.id+" is invalid it contains neither X-ASSET-LIST nor X-ASSET-URI.")});0<l.length?a.g.error("Invalid interstitials, all interstitials will be skipped. "+l.join(" ")):0<e.length&&a.g.warn("Unsupported format of interstitials, playback may not behave correctly. "+e.join(" "));return 0===l.length};zr=function(a,b){return a.f.find(function(c){var d=c.startTime-b;return 1===c.gg&&[jr,kr].includes(c.state)&&0<d&&d<=a.h.resolutionOffsetSec})||null};
ir=function(a,b){return a.f.find(function(c){return 1===c.gg&&b>c.startTime&&b<c.endTime})||null};
wr=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:b.state=Er;if(!b.Jg){b.Kg?(b.Ma=[{URI:b.Kg,DURATION:b.endTime-b.startTime}],b.state=Fr):b.state=Gr;f.F(2);break}_.D(f,3);a.g.info("Load X-ASSET-LIST for "+b.wa);a.ib(new _.L(Ac));c=b;return _.y(f,Hr(a,b.Jg),5);case 5:c.Ma=f.f;b.Ma&&0!==b.Ma.length||a.g.info(kb+b.wa+" has no assets, will be smoothly skipped");null==b.Ja&&(d=uj(b.Ma.map(function(g){return g.DURATION})),b.Ja=b.startTime+d);b.state=Fr;a.ib(new _.L(Bc));_.oh(f,2);break;
case 3:e=_.E(f),a.g.error("Failed to load X-ASSET-LIST",e),b.state=Gr;case 2:return f["return"](b.state===Fr)}})};Ir=function(a,b){var c=a.h.bn;if(c){var d=new URL(b);d.searchParams.set("_HLS_primary_id",c);return d.toString()}return b};xr=function(a,b,c,d){var e,f;return _.I(function(g){e=a.a.getCurrentItem();if(!e)return g["return"]();f=Cr(a,b,c);Dr(a,b,f);Yq(a.a,b.Ja);return d?_.y(g,a.a.load(f[0].id),0):_.y(g,a.a.play(f[0].id),0)})};
Ar=function(a,b,c){if(b.Ma)if(0===b.Ma.length){var d=function(){c.isLive()?a.g.info("Skipping empty live interstitial "+b.wa):null!=b.Ja&&0!==b.rn?c.seek(b.Ja):a.g.info("Empty VOD interstitial "+b.wa+", continuing to next segment")};c.one(_.fi,d);a.l.push(function(){c.off(_.fi,d)});a.g.info(kb+b.wa+" scheduled to be skipped")}else{var e=a.a.getCurrentItem();if(e){var f=Cr(a,b,1),g=f[0].id;Yq(a.a,b.Ja);e.next=[g];e.transition={Zf:{position:b.startTime,itemId:g,Ja:b.Ja}};Dr(a,b,f);a.g.info(kb+b.wa+
" scheduled for "+(b.startTime+" s"))}}};Dr=function(a,b,c){Kq(a.a,c);$q(a.a);b.state=Jr;a.ib(new _.L(_.Dc,{detail:null}))};
Cr=function(a,b,c){var d=0,e=b.Ma.map(function(m,n){var p=b.wa+"-"+n;d+=m.DURATION;return{id:p,config:{source:{url:Ir(a,m.URI),type:_.Yl}},duration:m.DURATION,Bd:d,Cl:b.wa,next:[],bc:new rq(c,n+1,b.Ma.length,m.DURATION)}});e.forEach(function(m,n){var p=n===e.length-1;p&&2===c||(p?(m.next=[Gf],m.transition={sb:Gf}):(p=p?Gf:m.Cl+"-"+(n+1),m.next=[p],m.transition={sb:p}))});e.forEach(function(m){m.Re=function(){a.g.info("Playing interstitial asset "+m.id,m)}});if(null!=b.Di){var f=b.Di;a.g.info("Playout limit for "+
b.wa+" is "+(f+" s"));var g=e[e.length-1],h=f-(g.Bd-g.duration);0>=f?e=[]:f<g.Bd?(e=e.filter(function(m){return m.Bd-m.duration<=f}),.1>Math.abs(h-g.duration)?g.transition.sb=Gf:g.transition.Zf={position:h,itemId:Gf}):f>g.Bd&&a.g.info("Playout limit ("+f+") islarger than total duration: ("+(g.Bd+")"))}var l=e[0].Re;e[0].Re=function(){a.g.info("Playing interstitial "+c+" "+b.wa+" with "+(b.Ma.length+" assets and will resume primary content at ")+(b.Ja.toFixed(1)+" s."),e);l()};e[0].ni=function(){b.state=
Kr};e[e.length-1].sb=function(){b.state=kr;Lq(a.a,e.map(function(m){return m.id}))};return e};Hr=function(a,b){var c,d,e,f,g,h;return _.I(function(l){if(1==l.a){c=a.a.Ae();if(!c)throw Error("No player found");d=c.getNetworkEngine();e=_.Yj(Ir(a,b));return _.y(l,vk(d,e),2)}f=l.f;g=Lr(f);if(!g)throw new _.Oi("Invalid X-ASSET-LIST list response");h=f;return l["return"](Promise.resolve(h.ASSETS))})};
Lr=function(a){return a&&a.ASSETS&&Array.isArray(a.ASSETS)?a.ASSETS.every(function(b){return typeof b.URI===_.fg&&typeof b.DURATION===_.k}):!1};Mr=function(){this.a=null};Nr=function(){try{var a=URL.createObjectURL(new Blob);URL.revokeObjectURL(a);return a.slice(a.lastIndexOf("/")+1)}catch(c){var b=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var e=(b+16*Math.random())%16|0;b=Math.floor(b/16);return("x"===d?e:e&3|8).toString(16)})}};
Pr=function(a){this.m=a;this.j=this.m.getNetworkEngine();this.a=new _.Sh;this.h=null;this.f=!0;Or(this)};Or=function(a){a.a.on(window,"offline",function(){Qr(a,!1)});a.a.on(window,"online",function(){a.f||Rr(a)});a.a.on(a.m,ag,function(){return Sr(a)});a.a.on(a.m,"suspend",function(){return Sr(a)});a.a.on(a.m,_.Lg,function(){return Sr(a)});a.a.on(a.m,_.tf,function(){a.f||Rr(a)});a.a.on(a.m,_.Hf,function(){a.f||Rr(a)});a.a.on(a.m,_.cg,function(){switch(a.m.getState()){case _.Lp:Sr(a);break;default:Sr(a)}})};
Rr=function(a){a.m.getConfiguration().connectivityCheck&&(Tr(a),a.h=(new _.pl(function(){return Ur(a)})).ea(5))};Sr=function(a){a.f&&Rr(a)};Tr=function(a){a.h&&(a.h.stop(),a.h=null)};Ur=function(a){var b,c;return _.I(function(d){if(1==d.a)return(b=a.m.getConfiguration().connectivityCheck)&&a.m?_.y(d,wk(a.j,b.url,b.attemptParameters,b.method),2):d["return"]();c=d.f;Qr(a,c);_.A(d)})};Qr=function(a,b){Tr(a);a.f!==b&&(a.f=b,a.m&&a.m.getConfiguration().connectivityCheck&&a.m.trigger(new _.L($e,{online:a.f})))};
Wr=function(){for(var a=0;a<Vr.length;++a)Vr[a].Rc()};_.Xr=function(a,b){b=b||0;for(var c={priority:b,Rc:a},d=0;d<Vr.length;d++)if(Vr[d].priority<b){Vr.splice(d,0,c);return}Vr.push(c)};Yr=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};Zr=function(a,b,c){var d=_.R.aa;this.h=a;this.f=b;JSON.parse(d(_.Lj(a)));this.a=JSON.parse(d(_.Lj(b)));this.j=c};
as=function(a){var b=$r,c=_.R.$a,d={kty:"RSA",n:b.n,e:b.e},e=a.h+"."+a.f,f=a.j;return new Promise(function(g,h){try{var l=window&&window.crypto&&window.crypto.subtle}catch(n){}if(l){var m={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};l.importKey("jwk",d,m,!1,["verify"]).then(function(n){var p=c(e),q=_.Lj(f);return l.verify(m,n,q.buffer,p.buffer)}).then(function(n){n?g():h(new _.Oi("Signature Verification failed",qg))})["catch"](h)}else g()})};bs=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.utils.LicenseKey")};
cs=function(a){if(!a.a){var b=a.f.split(".");if(3!==b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new Zr(b[0],b[1],b[2]);a.a=b}return a.a};
ds=function(a){var b,c,d;return _.I(function(e){if(1==e.a)return b=cs(a),_.D(e,2),_.y(e,as(b),4);if(2!=e.a)return _.oh(e,0);if((c=_.E(e))&&c.code===qg)throw c;var f=window.location.href,g=new _.Ti(f);d=g.ub||g.Ua?g:new _.Ti("//"+f);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(d.Ua))return e["return"]();throw c;})};
es=function(a){switch((a.$[0]||{src:"",type:""}).type){case _.Tc:a="dash";break;case _.Yc:a="ss";break;case _.Yl:a="hls";break;case _.Eg:a="mp4";break;default:a=""}return a};fs=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};gs=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};hs=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};
js=function(a){var b=a.configuration,c="no";b.drm&&!_.M.ma(b.drm,{})&&(c="custom",b.drm.env&&b.drm.env.toLowerCase().startsWith(ge)||is(a).endsWith("drmtoday.com"))&&(c=ge);return c};ks=function(a){a=a.drmInfo;var b="";if(a)switch(a.keySystem){case _.Pd:b="wv";break;case _.Nd:b="pr";break;case _.Kd:b="fps"}return b};ls=function(a){a=a.drmInfo;var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};
ms=function(a){a=a.drmInfo;var b="";if(a)switch(a.videoRobustness){case hb:case eb:b="L1";break;case gb:b="L2";break;case _.Wb:case _.Vb:b="L3"}return b};is=function(a){a=a.drmInfo;return(new _.Ti(a&&a.licenseServerUri||"")).Ua};
ps=function(a,b){var c="ie"===_.qk().browser,d=b.configuration,e=_.ah(Array.from(_.ym.keys())).concat(_.ah(b.Ei));d={"CL-KEY":a.f,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":_.ja,"CL-USER-ID":fs(d),"CL-ASSET-ID":gs(d),"CL-SESSION-ID":hs(d),"CL-PLAYBACK-TYPE":b.isLive?ns:os,"CL-CONTENT-TYPE":es(b),"CL-PLUGINS":e.join(" "),"CL-DRM":js(b),"CL-DRM-CDM":ks(b),"CL-DRM-SEC-LEVEL":ms(b),"CL-DRM-OFFLINE":ls(b),"CL-DRM-IP":is(b)};c&&(e=window.localStorage.getItem("cl_et"))&&(d["CL-ETAG"]=e);e=_.Yj(["https://downloads.castlabs.com/r/register/"]);
e.method="GET";e.headers=d;return(new _.tk).fetch(e).U.then(function(f){200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a:{var g=cs(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";if(403===h){h=l;l="";try{l=JSON.parse(decodeURIComponent(f.responseText)).message}catch(m){}f=h+(": "+l)}else f=l+"!";l=f;break;case 412:g=7103;l="License requires a viewer ID. It should be supplied either via the `viewerId` config or in case of DRMtoday via the `drm.customData.userID` config.";
break;default:f=Promise.resolve();break a}a.g.error(rb+l);f=Promise.reject(new _.N(_.P,7,g,l))}}return f})};rs=function(a){this.m=a;this.f=a.getNetworkEngine();this.h=qs(this);this.f.Oc(this.h);this.a=null};
qs=function(a){return function(b){var c=b.headers,d=b=null,e=_.M.Ih(c,"cmsd-dynamic");c=_.M.Ih(c,"cmsd-static");e&&(b=ss(e),a.a=b);if(c)try{e={};var f=c.split(",");for(c=0;c<f.length;c++){var g=ts(f[c]),h=g.key,l=g.value;Object.keys(us).includes(h)&&(e[us[h]]=l)}d=_.M.vc(e)?e:null}catch(m){vs.error("CmsdManager parseCmsdStaticHeader_ failed:",m),d=null}(b||d)&&a.m.trigger(new _.L("cmsd-event",{to:b,Go:d}))}};
ss=function(a){try{var b=a.split(",").map(function(c){var d={};c=c.split(";");for(var e=0;e<c.length;e++){var f=ts(c[e]),g=f.key;f=f.value;Object.keys(ws).includes(g)&&(d[ws[g]]=f)}return d}).filter(function(c){return _.M.vc(c)});return 0<b.length?b:null}catch(c){return vs.error("CmsdManager parseCmsdDynamicHeader_ failed:",c),null}};
ts=function(a){var b=a.split("\x3d"),c=b[0];b=b[1];if(!c)throw new _.Oi("Parsing CMSD, missing parameter or wrong format");if(c&&!b)return{key:c,value:!0};var d=b[0];if('"'===d&&'"'===b[b.length-1])return{key:c,value:b.replaceAll(/(^")|("$)/g,"")};if(/^[-0-9]/.test(d))return{key:c,value:parseInt(b,10)};if(/^[a-zA-Z*]/.test(d))return{key:c,value:b};throw new _.Oi("Parsing CMSD, not recognized value type of "+a);};
X=function(a,b,c){_.nm.call(this);var d=this;Wr();this.g=new _.K("clpp.Player");if(!a)throw new _.N(_.P,7,7102);this.ta=new _.Sh;this.f=this.C=b||_.tm();this.l=null;void 0===this.f.license&&(this.f.license=rm,this.g.warn("You are using the embedded demo license!"));if(!this.f.license)throw this.g.error("You provided null or empty string as your license. Please check your license configuration."),new _.N(_.P,7,7101,"No license provided in configuration!");this.j=new Dq(a,c);this.H=this.A=this.a=this.G=
null;this.J=new _.tk;this.h=null;this.fa=[];this.ga=!0;this.L={};this.za=null;this.Z=!0;this.ba=this.V=!1;this.N=this.Yc=null;this.Cf=!1;this.Nb=new Pr(this);this.B=null;this.on(_.cg,function(){d.getState()===_.Rp&&(d.a?d.a.unload():Promise.resolve())});this.on(_.Pc,this.hi.bind(this));this.on(_.Oc,this.hi.bind(this));this.on(_.ei,function(){return xs(d)});ys(this,this.f.license);this.j.getMedia()&&(a=this.j.getMedia(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.f.autoplay&&(this.f.autoplay=!0,this.g.debug("Setting autoplay in configuration since it was specified in the video element"))));a=[];b=_.w(zs);for(c=b.next();!c.done;c=b.next()){c=c.value;try{var e=c.create(this.f);e&&a.push(e)}catch(f){this.g.error("Error while creating player plugin",f)}}As(this,a);this.P=_.pa;Em(this)};
_.Bs=function(a,b,c){c=void 0===c?null:c;null!=b&&b===a.a?a.a.forwardEventsTo(a):(a.a&&(a.a.stopForwardingEventsTo(a),a.a.destroy(),a.a=null,a.A=null),b&&(b.init(a.j,a.C),b.setNetworkEngine(a.getNetworkEngine()),b.forwardEventsTo(a),a.a=b,a.A=c))};ys=function(a,b){a.G=new bs(b);ds(a.G)["catch"](function(c){setTimeout(function(){a.g.error(rb+c);a.trigger(new _.L(_.ne,{detail:new _.N(_.P,7,7101)}));a.destroy()},1E3)})};
Cs=function(a,b){var c,d;_.I(function(e){if(1==e.a)return a.j.getMedia()||a.j.getCastElement(),a.G||(a.G=new bs(a.f.license)),_.D(e,2),a.g.debug("Verifying license remotely"),_.y(e,ps(a.G,b),4);if(2!=e.a)return a.g.debug("License verified remotely"),_.oh(e,0);c=_.E(e);a.g.debug("License rejected by remote",c);d={release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)};setTimeout(Yr,1E3,d,c);_.A(e)})};
As=function(a,b){a.fa=b;for(var c=_.w(a.fa),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.id();e&&(a.L[e]=d)}a.zc("onPlayerCreated")};
Ds=function(a){var b,c;return _.I(function(d){switch(d.a){case 1:if(a.Z)return a.g.debug("The player is already released. No-op"),d["return"](new Promise(function(e){return e()}));a.ta.off(document,Jg);a.trigger(new _.L(_.Lf));a.j&&a.j.release();if(!a.h){d.F(2);break}return _.y(d,a.h.pc(),3);case 3:a.h=null;case 2:if(!a.B){d.F(4);break}return _.y(d,a.B.release(),5);case 5:a.B=null;case 4:if(a.a)return b=null,c=a.a.on(_.cg,function(e){b=e}),d["return"](a.zc(_.Ye).then(function(){a.a.stopForwardingEventsTo(a);
return Promise.all([a.a.release(),a.J.release()])}).then(function(){a.g.debug("Releasing player completed");b&&(a.g.debug("Re-post state change event after release"),a.trigger(b))})["finally"](function(){a.a.off(_.cg,c);a.trigger(new _.L(Kf))}));a.trigger(new _.L(Kf));return d["return"](new Promise(function(e){return e()}))}})};
Fs=function(a,b,c){if(a.P===_.Hb)b=Es(b,c);else if(2!==(a.a?a.a.canPlay(b[0],c):0)||a.ba){a.ba=!1;if(b){for(var d=a=null,e=0;e<b.length;e++);e=Object.values(_.Lh);for(var f=0;f<b.length;f++)for(var g=0;g<e.length;g++){var h={Ba:e[g],confidence:e[g].canPlay(b[f],c)};if(null===a||a.confidence<h.confidence)a=h,d=f}a&&typeof d===_.k&&0<a.confidence?(_.Mh.debug("Player Factory '"+a.Ba.a()+"' can play",b[d]),b=new Kh(a.Ba,d)):(_.Mh.debug("No compatible Player Factory found for sources:",b),b=null)}else b=
null;if(!b)throw new _.N(_.P,7,7003,"No player factory compatible with given sources found!");c=b.Ba;a=c.create();b={Ba:c,player:a,sourceIndex:b.sourceIndex}}else b={Ba:a.A,player:a.a,sourceIndex:0};return b};Es=function(a,b){var c=Oh(function(d){return d.f(_.Hb)&&a.every(function(e){return 2===d.canPlay(e,b)})});if(!c)throw new _.N(_.P,7,7003,"No compatible player implementing playlist mode found!");return{Ba:c,player:c.create(),sourceIndex:0}};
Hs=function(a){var b;return _.I(function(c){if(1==c.a){if(!a.a)return a.g.warn(Lb),c["return"]();b=a.a;if(!b.Xg)return a.g.warn(Pb),c["return"]();a.trigger(new _.L(He));return _.y(c,b.Xg(),2)}return _.y(c,_.Gs(a),0)})};
_.Ls=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a){if(a.V)throw new _.N(_.P,7,7E3,"Player is already destroyed.");if(!a.j)throw new _.N(_.P,7,7E3,"No surface associated with this player!");_.ko(of);return _.y(f,a.release(),2)}if(3!=f.a){d=c||_.Yp(b);if(!b||0===d.length)throw new _.N(_.P,7,7003,Bb);a.za=d;a.f=_.vm(a.C,b,{source:d});a.Z=!1;e=Fs(a,d,a.f);_.Bs(a,e.player,e.Ba);Is(a,a.a);a.a&&a.a.setSourceIndex(e.sourceIndex);Js(a);a.a&&a.a.setCdnErrorCallback(a.N);Ks(a,a.f);a.B=new rs(a);
a.a.setCmsdManager(a.B);if(a.f.pauseWhenInBackground)a.ta.on(document,Jg,function(){document.hidden?(a.g.debug("Player is hidden: pausing..."),a.pause()):(a.g.debug("Player is visible: resuming..."),a.play())});Fm(a);return _.y(f,a.zc("onContentWillLoad",a.f.source[e.sourceIndex]),3)}_.ko(nf);_.so("player.beforeLoad",of,nf);_.A(f)})};
_.Ms=function(a){return _.I(function(b){a.j.getMedia()||a.j.getCastElement();a.trigger(new _.L(He));return _.y(b,Promise.all([a.a.load(a.f),a.h?a.h.load():Promise.resolve()]),0)})};Is=function(a,b){try{var c=crypto.randomUUID()}catch(d){c=Nr()}a.g.info("Playback session started, ID:",c);b.setPlaybackSessionId(c);a.H=c};Ns=function(a){a.H&&(a.g.info("Playback session ended, ID:",a.H),a.H=null,a.a&&a.a.setPlaybackSessionId(null))};
Ps=function(a){var b,c,d,e;_.I(function(f){if(1==f.a){b=[];if(a.f.remoteTextTracks)for(c=_.w(a.f.remoteTextTracks),d=c.next();!d.done;d=c.next())e=d.value,b.push(a.getTrackManager().addTextTrack(e));return _.y(f,Promise.all(b),2)}Os(a);_.A(f)})};
Os=function(a){var b=_.vi(a.f.preferredTextLanguage).filter(function(f){return f}),c=a.f.preferForcedSubtitles,d=a.getTrackManager().ia().filter(function(f){return c?f.kind===_.pe:f.kind!==_.pe});if(0===d.length)c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles are available.");else{if(c&&0===b.length){var e=a.getTrackManager().na();e&&e.language?(e=_.qj(e.language||""),b.push(e)):(e=a.getTrackManager().Ga())&&e.language&&(e=_.qj(e.language||""),b.push(e));0===
b.length&&a.g.warn("Forced subtitles are configured to be preferred, but neither the preferred text language is set, nor the audio or video track language is available to determine which forced subtitles language to select.")}b.some(function(f){var g=_.qj(f);if(f=d.find(function(h){h=_.qj(h.language||"");return _.rj(h,g)}))return a.getTrackManager().Ta(f),!0;c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles match the preferred languages: ",b);return!1})}};
_.Gs=function(a){var b;return _.I(function(c){if(1==c.a)return _.ko(kf),Cs(a,{configuration:a.getConfiguration(),$:a.Mh(),drmInfo:a.getDrmInfo(),Ei:Object.keys(a.L),isLive:a.isLive()}),Ps(a),Gm(),_.y(c,a.zc("onContentLoaded"),2);if(3!=c.a)return a.f.autoplay?(b=a.h?a.h.Pc():!0)?_.y(c,a.play(),3):c.F(3):c.F(3);_.ko(jf);_.so("player.afterLoad",kf,jf);_.A(c)})};Ks=function(a,b){var c=oq(a,b);c&&(a.h=c.create(a))};
xs=function(a){if(!a.h&&a.A&&a.a&&a.f.ads.hls.enable&&a.getTimelineCues().some(function(c){return c.schemeIdUri===Ld})){var b=a.f.mse.sendPlaybackSessionIdHeader?a.H:null;a.h=new Mr;a.h.Tc(a.a,a.A,b)}};Js=function(a){a.a&&a.a.setDrmCustomDataModifier(function(b){return _.I(function(c){if(!a.Yc||!a.Cf)return c.F(0);a.Cf=!1;return _.y(c,a.Yc(b),0)})})};_.Qs=function(a){a&&(0<=zs.indexOf(a)||zs.push(a))};
Rs=function(a,b,c){X.call(this,a,b,c);a={manifest:{timeline:{version:2},keepTimelineLive:!0},streaming:{preferNativeHlsOnSafari:!1,enableLiveEdgeChasing:!1,startAtSegmentBoundary:!1}};this.C=_.M.pa(this.C,a);this.f=_.M.pa(this.f,a);this.I=0;this.o=[];this.ca=!1;this.w=null;this.K=[]};Ss=function(a){a.K.forEach(function(b){return b()});a.K=[]};
Ts=function(a,b){function c(f){a.I=a.o.findIndex(function(g){return g.id===f.id})}a.addEventListener(_.Rf,c);a.K.push(function(){a.removeEventListener(_.Rf,c)});if(b.endTime){var d=b.endTime,e=function(){a.getPosition()>=d&&(a.removeEventListener(_.ng,e),a.g.info("Playlist end time reached. Stopping playback."),a.trigger(new _.L(_.Qf)),a.pause())};a.addEventListener(_.ng,e);a.K.push(function(){a.removeEventListener(_.ng,e)})}};
Ws=function(a,b){var c,d;return _.I(function(e){switch(e.a){case 1:return _.D(e,2),_.ko(sf),a.P=_.Hb,a.ga=!1,c=b.slice(1).map(function(f){return{config:f,$:_.Yp(f)}}),_.y(e,_.Ls(a,b[0]),4);case 4:return c.forEach(function(f){Us(a,f.config,f.$)}),a.trigger(new _.L(He)),_.y(e,a.a.setupPlaylist(b),5);case 5:return _.y(e,_.Gs(a),6);case 6:c.forEach(function(f){Vs(a,f.config,f.$)});_.ko(rf);_.so("player.setupPlaylist",sf,rf);_.oh(e,0);break;case 2:d=_.E(e);if(a.l)throw a.g.info(sb),new _.N(_.P,7,7E3);
throw d;}})};Xs=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.D(e,2),_.ko(mf),c=_.Yp(b),Us(a,b,c),_.y(e,a.a.appendLoad(b),4);if(2!=e.a)return Vs(a,b,c),_.ko(lf),_.so("player.appendLoad",mf,lf),_.oh(e,0);d=_.E(e);if(a.l)throw a.g.info(sb),new _.N(_.P,7,7E3,{id:b.id});throw d;})};Vs=function(a,b,c){Cs(a,{configuration:b,$:c,drmInfo:a.getDrmInfo(),Ei:Object.keys(a.L),isLive:c[0].isLive})};
Us=function(a,b,c){if(0===c.length)throw new _.N(_.P,7,7003,{message:Bb,id:b.id});if(1<c.length)throw new _.N(_.P,7,7003,{message:"Multiple sources not supported!",id:b.id,source:c});if(2!==(a.a?a.a.canPlay(c[0],a.f):0))throw new _.N(_.P,7,7003,{message:"Source not supported by the current player!",id:b.id,source:c[0]});};
$s=function(a){_.nm.call(this);var b=this;this.h=_.M.pa({transition:_.df,preloadMedia:!1},a);this.j=[];this.a=0;var c=Ys(a.anchorId,this.h.config);this.w=new sq(c);this.f=null;this.l=!1;this.o=new Map;this.A=a.toggleVisible;this.g=new _.K(Ed);this.w.a.forEach(function(d){return Zs(b,d.player,!1)})};bt=function(a){return Promise.all(Array.from(a.o.keys()).map(function(b){return at(a,b)}))};
at=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.o.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (index: "+b+")");return c.player?_.y(d,ct(a,c),3):d.F(3)}a.o["delete"](b);_.A(d)})};et=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Stop current playback (index: "+b.index+")"),b.player.pause(),Zs(a,b.player,!1),_.y(c,ct(a,b),2);b.player=null;b.videoEl=null;b.role=dt;_.A(c)})};
ct=function(a,b){return _.I(function(c){b.disposers.forEach(function(d){return d()});b.disposers=[];return b.player?_.y(c,a.w.release(b.player),0):c.F(0)})};ht=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,a.w.get(),2);if(3!=d.a)return c=d.f,a.f=b,b.role=ft,a.f.player=c,a.f.videoEl=c.getSurface().getMedia(),Zs(a,c,!0),_.y(d,c.load(b.config),3);gt(a,b);return b.config.autoplay?d.F(0):_.y(d,c.play(),0)})};
it=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Bf){c.F(2);break}a.g.info(lc);_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.oh(c,2);break;case 3:_.E(c);case 2:a.f=b;b.role=ft;Zs(a,b.player,!0);if(b.state===Af)return _.ko(xf),a.h.preloadMedia?_.y(c,b.player.play(),11):_.y(c,Hs(b.player),11);if(b.state!==zf){c.F(7);break}return _.y(c,b.player.load(b.config),7);case 11:_.ko(wf),_.so("playlist.next",xf,wf);case 7:if(gt(a,b),b.config.autoplay)c.F(0);
else return _.y(c,b.player.play(),0)}})};gt=function(a,b){if(a.h.autoplayNext){var c=function(){a.g.info("Automatically transition to next item");a.Ci()};b.player.on(_.me,c);var d=b.player;b.disposers.push(function(){d.off(_.me,c)})}};kt=function(a){var b;return _.I(function(c){b=a.a+1;a.g.info("Preload following item (index: "+b+")");return _.y(c,jt(a,b),0)})};lt=function(a){var b;return _.I(function(c){b=a.a-1;a.g.info("Preload preceding item (index: "+b+")");return _.y(c,jt(a,b),0)})};
mt=function(a){var b;_.I(function(c){if(0===a.a)return _.y(c,kt(a),0);if(a.a===a.j.length-1)return _.y(c,lt(a),0);b=[a.a-1,a.a+1];a.g.info("Preload items (indices: "+b+")");return _.y(c,Promise.all(b.map(function(d){return jt(a,d)})),0)})};
jt=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:return _.y(f,a.w.get(),2);case 2:return c=f.f,d=a.j[b],d.player=c,d.videoEl=c.getSurface().getMedia(),d.role=dt,d.state=Bf,a.trigger(new _.L(tg)),_.D(f,3),a.o.set(b,d),a.h.preloadMedia?(d.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (index: "+(b+")")),d.config.autoplay=!1),d.preloadPromise=c.load(d.config)):d.preloadPromise=c.preload(d.config),_.y(f,d.preloadPromise,5);case 5:d.state=
Af;a.trigger(new _.L(tg));_.oh(f,0);break;case 3:e=_.E(f),7001===e.code?(a.g.info("Preload aborted (index: "+b+")"),d.state=yf):(a.g.warn("Preload failed (index: "+b+")",e),a.trigger(new _.L(_.ne,{detail:e})),d.state=zf),a.trigger(new _.L(tg)),_.A(f)}})};Zs=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(Zb+b),d.classList.add(zd)):(a.g.info(jb+b),d.classList.remove(zd)),a.A&&a.A(d,c))};
nt=function(a){var b;return _.I(function(c){if(1==c.a)return _.y(c,a.w.destroy(),2);b=document.getElementById(a.h.anchorId);if(!b)return c["return"]();b.classList.remove(yd);b.innerHTML="";_.A(c)})};
Ys=function(a,b){var c=document.getElementById(a);if(!c)throw Error("Anchor element not found");c.classList.add(yd);return Array.from({length:3}).map(function(){var d=document.createElement(_.r);d.classList.add("clpp-mc-playlist-video-el");var e=document.createElement(_.Wd);e.classList.add("clpp-mc-playlist-item");e.appendChild(d);c.appendChild(e);return new X(d,b)})};
_.pt=function(a){if(ot.has(a))return ot.get(a);if(window.ManagedMediaSource){var b=ManagedMediaSource.isTypeSupported(a);ot.set(a,b);return b}return window.MediaSource?(b=MediaSource.isTypeSupported(a),ot.set(a,b),b):!1};qt=function(a){this.h=a;this.f={keepOriginalTimestamps:!0,remux:!1};this.a=new muxjs.mp4.Transmuxer(this.f)};
rt=function(a,b){var c=b.replace(/mp2t/i,"mp4");a===_.$c&&(c=c.replace(_.r,_.$c));var d=/avc1\.(66|77|100)\.(\d+)/.exec(c);if(d){var e="avc1.",f=d[1],g=Number(d[2]);e=("66"===f?e+"4200":"77"===f?e+"4d00":e+"6400")+(g>>4).toString(16);e+=(g&15).toString(16);c=c.replace(d[0],e)}return c};st=function(){};_.tt=function(){};ut=function(){this.a=null;this.g=new _.K("clpp.drm.eme.StandardEmeManager")};vt=function(){};wt=function(){this.size=0;this.a=void 0;this.g=new _.K("clpp.drm.eme.MediaKeyStatusMap")};
xt=function(a,b){a.size=void 0===b?0:1;a.g.debug("Setting key status to",b);a.a=b};yt=function(){};zt=function(){};At=function(){this.a=this.f=null};
Bt=function(a,b){this.keySystem=a;if(a.startsWith(_.Kd))for(var c=_.w(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState===_.Nf)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.af,distinctiveIdentifier:_.af,initDataTypes:e.initDataTypes,sessionTypes:[kg],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.w(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&
(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.w(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.Eg));d=g?d:null}if(d){this.a=d;return}}c=Error(hc);c.name=Gb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
Ct=function(a){this.f=null;this.h=new WebKitMediaKeys(a);this.a=new _.Sh;this.j=0;this.g=new _.K(Cd);this.g.info("Created Media Keys for "+a)};
Dt=function(a,b){a.f=b;_.Vh(a.a);if(!b)return Promise.resolve();a.a.on(b,ke,function(c){_.Ih("AppleEmeManager.cancelNativeMediaEncryptedEvent_",c);"MediaEncryptedEvent"in window&&c instanceof MediaEncryptedEvent&&(a.g.info("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),c.stopImmediatePropagation())});a.a.on(b,Rg,function(c){a.g.debug("Handle webkitNeedKey event");c=_.zj(c.initData);if(_.Gj(c).getUint32(0,!0)+4!==c.byteLength)throw new RangeError("Malformed FairPlay init data");
c=_.R.tc(c.subarray(4),!0);c=_.R.$a(c);var d=new Event(ke);d.initDataType="skd";d.initData=Hj(c);a.f.dispatchEvent(d)});Fp(b,HTMLMediaElement.HAVE_METADATA,a.a,function(){return b.webkitSetMediaKeys(a.h)});return Promise.resolve()};Et=function(a,b){_.nm.call(this);this.a=null;this.o=a;this.f=this.h=null;this.j=new _.Sh;this.sessionId=b;this.expiration=NaN;this.closed=new _.gk;this.l=!1;this.keyStatuses=new wt;this.g=new _.K(Cd)};Ft=function(a,b){xt(a.keyStatuses,b);a.dispatchEvent(new _.L(xe))};
Gt=function(){};Ht=function(){this.f=this.a=null;this.h="";HTMLMediaElement.prototype.webkitGenerateKeyRequest&&(this.h="webkit")};
It=function(a,b,c,d){this.h=a;this.a=this.keySystem=c;a=!1;c===_.bf&&(this.a=Ng,a=!1);var e=!1;d=_.w(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=[],h=[],l=!1;if(f.audioCapabilities)for(var m=_.w(f.audioCapabilities),n=m.next();!n.done;n=m.next())n=n.value,n.contentType&&(l=!0,b.canPlayType(n.contentType.split(";")[0],this.a)&&(g.push(n),e=!0));if(f.videoCapabilities)for(g=_.w(f.videoCapabilities),n=g.next();!n.done;n=g.next())m=n.value,m.contentType&&(l=!0,b.canPlayType(m.contentType,
this.a)&&(h.push(m),e=!0));l||(e=b.canPlayType(_.Eg,this.a)||b.canPlayType("video/webm",this.a));f.persistentState!==_.Nf||a||(e=!1);if(e){this.f=f;return}}b=hc;if(c===_.bf||c===_.Pd)b="None of the requested configurations were supported.";c=Error(b);c.name=Gb;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};Jt=function(a,b){this.h=a;this.o=b;this.a=null;this.f=new _.Sh;this.j=[];this.l=new Map};
Mt=function(a,b){a.a=b;_.Vh(a.f);b&&(a.f.on(b,a.h+"needkey",function(c){var d=new Event(ke);d.initDataType=_.rd;d.initData=Hj(c.initData);a.a.dispatchEvent(d)}),a.f.on(b,a.h+"keymessage",function(c){var d=Kt(a,c.sessionId);if(d){var e=void 0===d.keyStatuses.getStatus();c=new _.L(_.Me,{messageType:e?Ae:ze,message:c.message});_.Ih("WebkitEmeManager.MediaKeySession.generated");d.f&&(d.f.resolve(),d.f=null);d.dispatchEvent(c)}else _.Jh("Session not found",c.sessionId)}),a.f.on(b,a.h+"keyadded",function(c){(c=
Kt(a,c.sessionId))&&c.ready()}),a.f.on(b,a.h+"keyerror",function(c){var d=Kt(a,c.sessionId);if(d){var e=Error("EME v0.1b key error"),f=c.errorCode;f.systemCode=c.systemCode;e.errorCode=f;!c.sessionId&&d.f?(45===c.systemCode&&(e.message="Unsupported session type."),d.f.reject(e),d.f=null):c.sessionId&&d.a?(d.a.reject(e),d.a=null):(e=c.systemCode,c.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?Lt(d,_.cf):1===e?Lt(d,"expired"):Lt(d,_.we))}}))};
Kt=function(a,b){var c=a.l.get(b);return c?c:(c=a.j.shift())?(c.sessionId=b,a.l.set(b,c),c):null};Nt=function(a,b,c,d){_.nm.call(this);this.w=a;this.j=b;this.o=!1;this.a=this.f=null;this.h=c;this.l=d;this.sessionId="";this.expiration=NaN;this.closed=new _.gk;this.keyStatuses=new wt};
Pt=function(a,b,c){if(a.o)return Promise.reject(Error("The session is already initialized."));a.o=!0;try{if(a.l===_.ff)if(c)var d=_.zj(_.R.$a("LOAD_SESSION|"+c));else{var e=_.R.$a("PERSISTENT|"),f=new Uint8Array(e.byteLength+b.byteLength);f.set(e,0);f.set(_.zj(b),e.byteLength);d=f}else d=_.zj(b)}catch(h){return Promise.reject(h)}a.f=new _.gk;var g=Ot(a,"generateKeyRequest");try{a.j[g](a.h,d)}catch(h){if(h.name!==ob)return a.f=null,Promise.reject(h);(new _.pl(function(){try{a.j[g](a.h,d)}catch(l){a.f.reject(l),
a.f=null}})).ea(.01)}return a.f};Qt=function(a,b,c){if(a.a)a.a.then(function(){return Qt(a,b,c)})["catch"](function(){return Qt(a,b,c)});else{a.a=b;if(a.h===Ng){var d=_.R.aa(c);var e=JSON.parse(d);"oct"!==e.keys[0].kty&&(a.a.reject(Error("Response is not a valid JSON Web Key Set.")),a.a=null);d=_.Lj(e.keys[0].k);e=_.Lj(e.keys[0].kid)}else d=_.zj(c),e=null;var f=Ot(a,"addKey");try{a.j[f](a.h,d,e,a.sessionId)}catch(g){a.a.reject(g),a.a=null}}};Lt=function(a,b){xt(a.keyStatuses,b);a.dispatchEvent(new _.L(xe))};
Ot=function(a,b){return a.w?a.w+b.charAt(0).toUpperCase()+b.slice(1):b};Rt=function(){};
St=function(a,b,c,d,e){_.Um.call(this,ib);this.l=a;this.j=b;this.h=c;this.a=d;this.o=e;this.g=new _.K(Bd);_.R.empty(this.l)?this.g.warn(_.nc):this.Ya(_.Pd,{licenseUrl:this.l,videoRobustness:[_.Wb,void 0],audioRobustness:[_.Vb,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:this.$d.bind(this)}});_.R.empty(this.j)?this.g.warn(_.Kb):this.Ya(_.Nd,{licenseUrl:this.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:this.$d.bind(this)}});
_.R.empty(this.h)?this.g.warn(_.cb):_.R.empty(this.a)?this.g.warn(_.bb):this.Ya(_.Kd,{licenseUrl:this.h,certificateUrl:this.a,modifiers:{licenseRequest:this.ki.bind(this),licenseResponse:this.li.bind(this),certificateRequest:this.$d.bind(this),extractContentId:this.wh.bind(this)}})};Tt=function(){};Ut=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.re)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};
Vt=function(a){a=a.target;if(a.webkitPresentationMode===gf){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};Wt=function(){return this.webkitSupportsPresentationMode(gf)?(this.webkitSetPresentationMode(gf),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};
Xt=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};Yt=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};Zt=function(a,b,c){return new window.TextTrackCue(a,b,c)};
$t=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};bu=function(a,b,c){if("input"===a)switch(this.type){case "range":a=ud}au.call(this,a,b,c)};du=function(){this.a=cu()};eu=function(a){return cu()-a.a};fu=function(a){var b=new du;b.a=a.a;return b};cu=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()};_.gu=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=_.w(c.value.variants);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};
hu=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.h=b;this.f=0};iu=function(a,b){var c=a.f+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.h),c));a.a.set(d)}a.a.set(b,a.f);a.f+=b.byteLength};_.ju=function(a,b,c){this.h=a;this.j=b;this.f=c||this.h.getMedia();this.a=null};_.lu=function(){this.a=new Blob([ku],{type:_.Eg})};_.mu=function(a,b,c,d){this.id=a;this.f=b;this.a=c;this.h=d};_.nu=function(){this.a=[];this.f=-1;this.h=null};
_.pu=function(a,b,c,d){var e,f;return _.I(function(g){if(1==g.a)return _.D(g,2),_.y(g,ou(a,b,c,d),4);if(2!=g.a)return e=g.f,g["return"](new e);f=_.E(g);f.a(_.P);throw f;})};
ou=function(a,b,c,d){var e,f,g,h;return _.I(function(l){if(1==l.a){if(d){if(e=_.qu[d.toLowerCase()])return l["return"](e);_.Dh("Could not determine manifest type using MIME type ",d)}if(f=_.ru(a)){if(g=_.su[f])return l["return"](g);_.Dh("Could not determine manifest type for extension ",f)}else _.Dh("Could not find extension for ",a);return d?l.F(2):_.y(l,tu(a,b,c),3)}if(2!=l.a&&(d=l.f)){if(h=_.qu[d])return l["return"](h);_.Dh("Could not determine manifest type using MIME type",d)}throw new _.N(_.P,
4,4E3,{url:a});})};tu=function(a,b,c){var d,e,f;return _.I(function(g){if(1==g.a)return d=_.Yj(a),Vj(d,c),d.type=1,d.method="HEAD",_.y(g,b.fetch(d).U,2);e=g.f;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.ru=function(a){a=(new _.Ti(a)).Ha.split("/").pop().split(".");return 1===a.length?"":a.pop().toLowerCase()};uu=function(a){this.a=new Uint8Array(a||65536);this.f=0;this.h=new du};
wu=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;null!=d&&(vu(a,d),ek(c,d.byteLength,eu(a.h)),a.h.a=cu());return e?(e=a.a.buffer,a.a.byteLength!==a.f&&(e=e.slice(0,a.f)),Promise.resolve(e)):Promise.resolve().then(function(){return wu(a,b,c)})})};vu=function(a,b){var c=a.f+b.byteLength;if(a.a.byteLength<c){for(var d=a.a.byteLength;d<c;)d*=2;c=new Uint8Array(d);c.set(a.a);a.a=c}a.a.set(b,a.f);a.f+=b.byteLength};
rk=function(a){var b=a.uris[a.uriIndex],c=new xu,d=new du,e=fu(d),f=0,g,h=new _.gk;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var l=!1,m=!1;c.onreadystatechange=function(p){p=p.target;p.readyState>=XMLHttpRequest.LOADING&&0===f&&(g=eu(e));p.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!l&&(p=p.getResponseHeader(xa),dk(a,p),l=!0)};c.onload=function(p){p=p.target;var q=(p.getAllResponseHeaders()||"").trim().split("\r\n"),t={};
q=_.w(q);for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ");try{var z=eu(e);m||ek(a,p.response?p.response.length:0,z);var C=_.ck(t,p.response,p.status,b,p.responseURL,a,z,g);a.rateLimitBps?fk(a.rateLimitBps,eu(e),a.bytesLoaded).then(function(){h.resolve(C)}):h.resolve(C)}catch(F){h.reject(F)}};c.onerror=function(p){p=p.target;if(0>=p.status)h.reject(new _.N(1,1,1002,{url:b,request:a,status:p.status}));else{var q=p.getAllResponseHeaders(),t={};if(q){q=
_.w(q.trim().split("\r\n"));for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ")}p=_.ck(t,p.response,p.status,b,p.responseURL,a,eu(e),g);h.resolve(p)}};c.ontimeout=function(){h.reject(new _.N(1,1,1003,{url:b,request:a}))};c.onprogress=function(p){var q=eu(d);d.a=cu();if(100<q||p.lengthComputable&&p.loaded===p.total)ek(a,p.loaded-f,q),f=p.loaded,m=!0};for(var n in a.headers)c.setRequestHeader(n.toLowerCase(),a.headers[n]);c.send(a.body);return{U:h,
request:a,abort:function(){c.abort();h.reject(new _.N(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};yu=function(a,b){a=void 0===a?1E6:a;b=void 0===b?!0:b;this.j=new hu(a);this.length=a;this.A=b;this.f=this.a=this.h=0;this.l=null;this.o=-1;this.w=new du};
Bu=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;d&&e&&(d(e.byteLength,eu(a.w)),a.w.a=cu());if(f)return f=zu(a),(f=c(!0,f))?f.then(function(){return a.j.a.buffer}):Promise.resolve(a.j.a.buffer);var g=Promise.resolve();if(null!=e){iu(a.j,e);a.a=a.h;a.f=a.j.f;a.l=new DataView(a.j.a.buffer,0,a.j.f);e=Au(a);for(f=[];e;)f.push(e),e=Au(a);if(!a.A)f.forEach(function(m){g=g.then(function(){return c(!1,m)})});else if(0<f.length){e=f[0];if(1<f.length){e=f[0];var h=f[f.length-1],
l=h.end-e.start;e={start:e.start,end:h.end,length:l,data:new DataView(a.j.a.buffer,e.start,l),count:f.length}}(f=c(!1,e))&&(g=f)}}return g.then(function(){return Bu(a,b,c,d)})})};Au=function(a){if(0<=a.o&&a.f<a.o)return null;for(var b=Cu(a);null!==b;){if(b.name===_.Je){var c={start:a.h,end:b.end,length:b.end-a.h,data:new DataView(a.j.a.buffer,a.h,b.end-a.h),count:1};a.h=b.end;return c}b=Cu(a)}return null};
Cu=function(a){var b=a.a;if(a.a+4>=a.f)return a.a=a.f,null;var c=Du(a);if(a.a+4>=a.f)return a.a=a.f,null;var d=Du(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.f-b;break;case 1:if(a.a+8>=a.f)return a.a=a.f,null;try{var e=a.l.getUint32(a.a,!1);var f=a.l.getUint32(a.a+4,!1)}catch(g){throw new _.N(_.P,3,3E3);}if(2097151<e)throw new _.N(_.P,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.o=c;return a.f>=c?(a.a=c,{name:d,start:b,end:c}):null};
Du=function(a){var b=a.l.getUint32(a.a,!1);a.a+=4;return b};zu=function(a){var b=null;a.h!==a.f&&(b={start:a.h,end:a.f,length:a.f-a.h,data:new DataView(a.j.a.buffer,a.h,a.f-a.h),count:-1});return b};Fu=function(a){_.hk.call(this,new _.gk,function(){return Promise.resolve()});this.B=a;this.h=null;this.w=this.U;this.f=-1;this.j=this.l=this.o=null;Eu(this)};Gu=function(a,b,c){a.o=setTimeout(b,c)};
Eu=function(a){a.h=a.B.then(function(e){a.j=e.request;e.request.uriIndex=e.request.currentAttempt%e.request.uris.length;if(0<e.request.currentAttempt){-1===a.f&&(a.f=Hu(e.request.baseDelay,1E3));var f=a.f*(1+(2*Math.random()-1)*Hu(e.request.fuzzFactor,.5));a.f*=Hu(e.request.backoffFactor,2);if(0<f)return(new Promise(function(g,h){a.l=h;Gu(a,function(){g(e.plugin(e.request))},f)}))["catch"](function(g){if(!a.a)throw g;})}if(a.a)throw new _.N(1,1,7001,{url:e.request.uris[e.request.uriIndex],request:e.request});
return e.plugin(e.request)});var b=0,c=0,d=0;return a.h.then(function(e){var f=e.request;f.currentAttempt+=1;b=f.currentAttempt;c=f.maxAttempts;d=f.uris.length;return e.U}).then(function(e){a.w.resolve(e)})["catch"](function(e){if(e instanceof _.N){var f=b<d,g=7001!==e.code,h=b<c;if((1===e.severity||f)&&g&&h)return Eu(a);g&&e.a(_.P);a.w.reject(e)}else a.w.reject(e)})};Hu=function(a,b){return null===a||void 0===a?b:a};
sk=function(a){var b=new Iu,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new Ju,e={ud:!1,Pi:!1};b={U:Ku(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.ud||(e.ud=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.Pi=!0;d.abort()},a);b.U=b.U["finally"](function(){window.clearTimeout(f)})}return b};
Ku=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,t,v,z,C,F,G,B,H;return _.I(function(O){switch(O.a){case 1:return e=Tu,f=new du,g=fu(f),_.D(O,2),_.y(O,e(a,c),4);case 4:h=O.f;l=Wj(h.headers);m={uri:h.url,data:null,headers:l,status:h.status,timeMs:0,responseStartMs:eu(g),request:b};if(Zj(h.status)){O.F(5);break}n=m;return _.y(O,h.arrayBuffer(),6);case 6:throw n.data=O.f,m.timeMs=eu(f),bk(m);case 5:p=h.headers.get(xa);dk(b,p);q=p?parseInt(p,10):0;if(b.onFragment&&!b.disableFragmentSupport&&2===b.type)return C=
h.body.getReader(),F=new yu(q,!b.disableMergedFragments),G=function(T,da){if(d.ud)return null;da&&da.data&&(ek(b,da.data.byteLength,eu(g)),g.a=cu());return b.onFragment&&da?b.rateLimitBps?fk(b.rateLimitBps,eu(f),b.bytesLoaded).then(function(){return b.onFragment(da)}):b.onFragment(da):null},B=m,_.y(O,Bu(F,C,G,b.onProgress),12);t=h.body.getReader();v=new uu(q);return _.y(O,wu(v,t,b),9);case 9:z=O.f;if(!b.rateLimitBps){O.F(10);break}return _.y(O,fk(b.rateLimitBps,eu(f),z.byteLength),10);case 10:m.data=
z;O.F(8);break;case 12:B.data=O.f;case 8:if(d.ud)throw Error("Request was aborted");m.timeMs=eu(f);return O["return"](ak(m));case 2:H=_.E(O);if(d.ud)throw new _.N(1,1,7001,{url:a,request:b});if(d.Pi)throw new _.N(1,1,1003,{url:a,request:b});if(H&&1001===H.code)throw H;_.Jh("Error while fetching data:",H);throw new _.N(1,1,1002,{url:a,error:H,request:b,status:-1},H);}})};
lk=function(a){try{var b=a.uris[a.uriIndex],c=_.av(b);return{U:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{U:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};
_.av=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.Jh("Bad data URI, failed to parse scheme"),new _.N(_.P,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.Jh("Bad data URI, failed to extract encoding and MIME type"),new _.N(_.P,1,1004,{uri:a});var c=b[0];a=window.decodeURIComponent(b.slice(1).join(","));b=c.split(";");c=b[0];var d=!1;1<b.length&&"base64"===b[b.length-1]&&(d=!0,b.pop());return{data:d?_.Lj(a).buffer:_.R.$a(a).buffer,contentType:c}};
_.cv=function(a,b){var c=_.kl(_.ll(a),_.ml(a));_.bv[c]=b};_.dv=function(a){a=_.kl(_.ll(a),_.ml(a));return _.bv[a]||null};_.ev=function(a){a=_.kl(_.ll(a),_.ml(a));delete _.bv[a]};
_.fv=function(a){a=a.getConfiguration();a=_.M.bb(a.textStyle||a.textstyle||{});this.K=typeof a.backgroundColor===_.fg?a.backgroundColor:null;this.V=typeof a.windowColor===_.fg?a.windowColor:null;this.N=typeof a.fontColor===_.fg?a.fontColor:null;this.P=typeof a.fontFamily===_.fg?a.fontFamily:null;this.I=typeof a.fontSize===_.fg?a.fontSize:null;this.B=typeof a.fontSizePercent===_.k?a.fontSizePercent:null;this.H=typeof a.edgeColor===_.fg?a.edgeColor:"rgba(0, 0, 0, 1)";this.o=null;typeof a.edgeType===
_.fg&&(this.o=a.edgeType)};_.kv=function(a){if(!a.o)return null;var b=a.H;switch(a.o){case gv:return"-2px -2px 0 "+b+", -1px -1px 0 "+b;case hv:return"2px 2px 0 "+b+", 1px 1px 0 "+b;case iv:return"-1px 0 "+b+", 0 1px "+b+", 1px 0 "+b+", 0 -1px "+b;case jv:return"2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b;default:return _.Te}};lv=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.text.Mp4TextParser")};
_.nv=function(a){_.fv.call(this,a);this.l=a.getSurface().getMedia();this.f="clpp-video-"+mv++;this.h=document.createElement(_.hg);this.j=this.w=!1;_.uq(this.l,this.f);document.head.appendChild(this.h);this.Mb()};ov=function(){};_.pv=function(){};_.Yg=[];bh=typeof Object.create==_.re?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.re)qv=Object.setPrototypeOf;else{var rv;a:{var sv={ej:!0},uv={};try{uv.__proto__=sv;rv=uv.ej;break a}catch(a){}rv=!1}qv=rv?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ch=qv,gh=typeof Object.defineProperties==_.re?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},eh="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;hh.prototype.toString=function(){return this.a};var fh=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new hh("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
kh.prototype.A=function(a){this.f=a};kh.prototype["return"]=function(a){this.h={"return":a};this.a=this.j};kh.prototype.F=function(a){this.a=a};
xh("Promise",function(a){function b(g){this.f=0;this.l=void 0;this.a=[];var h=this.j();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.f=function(g){if(null==this.a){this.a=[];var h=this;this.h(function(){h.l()})}this.a.push(g)};var e=eh.setTimeout;c.prototype.h=function(g){e(g,0)};c.prototype.l=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.j(m)}}}this.a=null};c.prototype.j=function(g){this.h(function(){throw g;})};b.prototype.j=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.C),reject:g(this.h)}};b.prototype.C=function(g){if(g===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.G(g);else{a:switch(typeof g){case _.Ue:var h=null!=g;break a;case _.re:h=!0;break a;default:h=!1}h?this.B(g):this.o(g)}};
b.prototype.B=function(g){var h=void 0;try{h=g.then}catch(l){this.h(l);return}typeof h==_.re?this.H(h,g):this.o(g)};b.prototype.h=function(g){this.w(2,g)};b.prototype.o=function(g){this.w(1,g)};b.prototype.w=function(g,h){if(0!=this.f)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.f);this.f=g;this.l=h;this.A()};b.prototype.A=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.f(this.a[g]);this.a=null}};var f=new c;b.prototype.G=function(g){var h=this.j();
g.qe(h.resolve,h.reject)};b.prototype.H=function(g,h){var l=this.j();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,t){return typeof q==_.re?function(v){try{m(q(v))}catch(z){n(z)}}:t}var m,n,p=new b(function(q,t){m=q;n=t});this.qe(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.qe=function(g,h){function l(){switch(m.f){case 1:g(m.l);break;case 2:h(m.l);break;default:throw Error("Unexpected state: "+
m.f);}}var m=this;null==this.a?f.f(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.w(g),n=m.next();!n.done;n=m.next())d(n.value).qe(h,l)})};b.all=function(g){var h=_.w(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(v){return function(z){q[v]=z;t--;0==t&&m(q)}}var q=[],t=0;do q.push(void 0),t++,d(l.value).qe(p(q.length-1),n),l=h.next();while(!l.done)})};return b});var zh=this||self;
zh.a=!0;_.M={bj:20,bb:function(a){var b=_.M.R,c=_.M.Yh,d=_.M.pa;return b(a)||c(a)?a:d(a)}};_.J("clpp.utils.obj.cloneItem",_.M.bb);_.M.pa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];c={};for(var d=0;d<b.length;d++)null!=b[d]&&(c=_.M.di(c,{merging:b[d]},1));return c.merging||null};_.J("clpp.utils.obj.merge",_.M.pa);_.M.vc=function(a){for(var b in a)if(void 0!==a[b])return!0;return!1};
_.M.di=function(a,b,c){var d=_.M.R,e=_.M.Yh,f=_.M.di,g=_.M.Ib,h=_.M.Il,l=_.M.Nf,m=_.M.El,n=_.M.dd;c+=1;if(d(a)||!n(a))a={};for(var p in b)n=b[p],e(n)||d(n)||g(n)||m(n)?a[p]=n:h(n)?a[p]=n.subarray(0):n instanceof Array?a[p]=f([],n,c):!d(n)&&l(n)&&c<_.M.bj&&(a[p]=f(a[p],n,c));return a};_.M.Yh=function(a){a=typeof a;return a===_.fg||a===_.k||a===_.id};_.M.El=function(a){return a instanceof Element};_.M.R=function(a){return null===a||"undefined"===typeof a};_.M.dd=function(a){return typeof a===_.Ue};
_.M.Ib=function(a){return typeof a===_.re};_.M.da=function(a){return typeof a===_.fg};_.M.sa=function(a){return typeof a===_.k};_.M.Th=function(a){return typeof a===_.id};_.M.Nf=function(a){var b=_.M.dd,c=_.M.R;if(c(a)||!b(a))return!1;a=Object.getPrototypeOf(a);return a===Object.prototype||null===a};_.M.Il=function(a){var b=_.M.dd,c=_.M.Ib;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};
_.M.ma=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.M.dd(a)||!_.M.dd(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.M.R(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.M.R(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.M.R(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.M.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.M.Fl=function(a,b,c){return a>=b&&a<=c};_.M.Hg=function(a){for(var b=new Map,c=_.w(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,a[d]);return b};_.M.Ig=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};
_.M.Ih=function(a,b){for(var c=b.toLowerCase(),d=_.w(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=_.w(e.value);e=f.next().value;f=f.next().value;if(e.toLowerCase()===c)return f}return null};_.M.$h=function(a,b){for(var c in a){if(!(c in b))return!1;var d=a[c],e=b[c];if(d&&typeof d===_.Ue&&e&&typeof e===_.Ue){if(!_.M.$h(d,e))return!1}else if(void 0!==d&&void 0!==e&&d!==e)return!1}return!0};
_.M.ai=function(a,b){if(!_.M.$h(a,b))return!1;for(var c in b){if(!(c in a))return!0;var d=a[c],e=b[c];if(!d&&e||d&&typeof d===_.Ue&&e&&typeof e===_.Ue&&_.M.ai(d,e))return!0}return!1};var Eh={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.J("clpp.log.Level",Eh);var Bh=3,Ah={},vv=[];_.J("clpp.log.getLoggers",function(){return _.M.bb(Ah)});_.J("clpp.log.addInterceptor",function(a){a&&vv.push(a)});_.J("clpp.log.removeInterceptor",function(a){a&&(a=vv.indexOf(a),0<=a&&vv.splice(a,1))});_.J("clpp.log.getTagLevel",Ch);_.J("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=Ah[a]});_.J("clpp.log.setTagLevel",function(a,b){a&&(_.M.da(b)&&(b=Fh(b)),Ah[a]=b)});
_.J("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.M.da(a)&&(a=Fh(a));Bh=a});_.J("clpp.log.getLogLevel",function(){return Bh});_.u=_.K.prototype;
_.u.log=function(a,b){if(window.console){if(1<arguments.length){var c=arguments[0];Array.prototype.shift.call(arguments)}else c=3;var d=Ch(this.tag);if(0<=d){if(d<c)return}else if(Bh<c)return;this.tag&&Array.prototype.unshift.call(arguments,"["+this.tag+"]");d=new Date;d.toISOString&&(d=d.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,d));4===c?console.log.apply(console,arguments):3===c?console.info.apply(console,arguments):2===c?console.warn.apply(console,arguments):
1===c?console.error.apply(console,arguments):console.log.apply(console,arguments);d=_.w(vv);for(var e=d.next();!e.done;e=d.next())e=e.value,e.call(e,c,arguments)}};_.u.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.u.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.u.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};
_.u.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.u.Gk=function(a){return a?this.tag?new _.K(this.tag+"."+a):new _.K(a):this};_.J("clpp.log.Logger",_.K);_.K.prototype.createChild=_.K.prototype.Gk;_.K.prototype.error=_.K.prototype.error;_.K.prototype.warn=_.K.prototype.warn;_.K.prototype.debug=_.K.prototype.debug;_.K.prototype.info=_.K.prototype.info;_.K.prototype.log=_.K.prototype.log;var Gh=new _.K("clpp");_.J("clpp.log.info",_.Hh);
_.J("clpp.log.debug",_.Ih);_.J("clpp.log.warn",_.Dh);_.J("clpp.log.error",_.Jh);(function(){var a=console.assert;a?a.bind||(console.assert=function(){a.apply(console,arguments)}):console.assert=function(){}})();_.Mh=new _.K("clpp.players");_.Lh={};_.Ph.prototype.push=function(a,b){a in this.a?this.a[a].push(b):this.a[a]=[b]};_.Ph.prototype.get=function(a){return(a=this.a[a])?a.slice():[]};_.Ph.prototype.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]===b&&(c.splice(e,1),--e,d=!0);return d};_.Ph.prototype.clear=function(){this.a={}};Qh.prototype.ib=function(a){try{this.Rc.handleEvent?this.Rc.handleEvent(a):this.Rc.call(this.a,a)}catch(b){_.Jh("clpp","Uncaught exception in event handler for event '"+this.f+"'",b,b?b.message:null,b?b.stack:null)}};_.L.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.L.prototype.stopImmediatePropagation=function(){this.f=!0};_.L.prototype.stopPropagation=function(){};_.u=Rh.prototype;
_.u.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.f,a.currentTarget=this.f,b[c].ib(a),b[c].kn&&this.a.remove(a.type,b[c]),!a||!a.f);c++);};_.u.on=function(a,b,c){this.a.push(a,new Qh(a,b,c||this.f));return b};_.u.one=function(a,b,c){this.a.push(a,new Qh(a,b,c||this.f,!0));return b};_.u.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].Rc===b&&(d=this.a.remove(a,c[e])||d);return d};_.u.clear=function(){this.a.clear()};_.Sh.prototype.release=function(){_.Vh(this)};_.Sh.prototype.on=function(a,b,c,d){a=new Wh(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.Sh.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);return c(f)}var e=this;this.on(a,b,d)};_.Sh.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!==a||c!==f.a&&c||(Uh(f),this.a.remove(b,f))}};Xh.prototype.release=function(){this.j.release();this.a=new Set;this.f.clear();null!=this.h&&(clearInterval(this.h),this.h=null)};Xh.prototype.destroy=function(){var a=this;return _.I(function(b){a.release();_.A(b)})};Xh.prototype.getTimelineCues=function(){return Array.from(this.a.values()).sort(function(a,b){return a.startTime-b.startTime})};_.Hi.prototype.ma=function(a){return this.payload===a.payload&&this.startTime===a.startTime&&this.endTime===a.endTime&&this.payloadType===a.payloadType};_.J("clpp.text.Cue",_.Hi);_.Hi.positionAlign={LEFT:_.Be,RIGHT:_.Ce,CENTER:_.sd,AUTO:"auto"};_.Bi="text";_.Hi.payloadType={TEXT:_.Bi,VTT_XML:_.Kg,TTML_XML:_.pg};_.Ci=_.sd;_.wv={LEFT:_.ye,RIGHT:_.Pf,CENTER:_.Ci,START:_.ye,END:_.Pf};_.Hi.textAlign=_.wv;var Gi="ltr";_.Hi.direction={HORIZONTAL_LEFT_TO_RIGHT:Gi,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};_.Di="horizontal-tb";
_.Hi.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Di,VERTICAL_LEFT_TO_RIGHT:_.Ag,VERTICAL_RIGHT_TO_LEFT:_.Bg};_.Ei=0;_.Hi.lineInterpretation={LINE_NUMBER:_.Ei,PERCENTAGE:1};_.Fi=_.bg;_.xv={CENTER:_.sd,START:_.Fi,END:_.le};_.Hi.lineAlign=_.xv;_.J("clpp.text.CueRegion",_.Ki);_.Ii=1;_.Ki.units={PX:0,PERCENTAGE:_.Ii,LINES:2};var Ji="";_.Ki.scrollMode={NONE:Ji,UP:"up"};_.Ki.displayAlign={BEFORE:"flex-end",CENTER:_.sd,AFTER:"flex-start"};
_.Ki.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Hd,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"};Li.prototype.destroy=function(){this.a.release();this.j=!1;this.l=this.a=this.h=this.f=null;return Promise.resolve()};Li.prototype.start=function(a){var b=this;this.j?this.g.warn("Already started. Ignoring request..."):(this.j=!0,this.h=a,this.f=this.h.textTracks,this.a.on(this.f,_.Mc,function(c){return Mi(b,c)}),this.a.on(this.f,ud,function(){for(var c=b.f,d=0;d<c.length;d++){var e=c[d];e.mode===_.Wf&&(e.mode=_.te)}}))};
Li.prototype.o=function(a){var b=new _.Hi(a.startTime,a.endTime,a.text,_.Kg);if(_.M.da(a.vertical))switch(a.vertical){case "lr":b.writingMode=_.Ag;break;case "rl":b.writingMode=_.Bg}_.M.sa(a.size)&&(b.size=a.size);if(_.M.da(a.align))switch(a.align){case _.ye:case _.bg:b.textAlign=_.ye;break;case _.sd:b.textAlign=_.Ci;break;case _.Pf:case _.le:b.textAlign=_.Pf}_.M.sa(a.position)&&(b.position=a.position);if(_.M.da(a.positionAlign))switch(a.positionAlign){case _.Be:b.positionAlign=_.Be;break;case _.sd:b.positionAlign=
_.sd;break;case _.Ce:b.positionAlign=_.Ce}_.M.sa(a.line)&&(b.line=a.line);if(_.M.da(a.lineAlign))switch(a.lineAlign){case _.bg:b.lineAlign=_.Fi;break;case _.sd:b.lineAlign=_.sd;break;case _.le:b.lineAlign=_.le}_.M.Th(a.snapToLines)&&(b.lineInterpretation=a.snapToLines?_.Ei:1);return b};_.x(_.N,Error);_.N.prototype.a=function(a){this.severity!==a&&(this.severity=a,this.message=Ni(this.severity,this.category,this.code,this.data))};_.N.prototype.toString=function(){var a=this.message;this.cause&&(a+="\n Caused by "+this.cause);return a};_.J("clpp.Error",_.N);_.P=2;_.N.Severity={RECOVERABLE:1,FATAL:_.P};_.N.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.N.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,
TEXT_PARSER_MISSING:2012,THUMBNAILS_FAILED_TO_LOAD:2013,THUMBNAIL_ERROR:2014,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,
MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,PAUSE_FAILED:3201,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,
DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,
DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,HLS_MSE_ENCRYPTED_TS_NOT_SUPPORTED:4041,HLS_PLAYLIST_NOT_UTF8:4042,HLS_PLAYLIST_EMPTY:4043,
HLS_INVALID_VALUE:4044,HLS_DISCONTINUITY_NOT_SUPPORTED:4045,HLS_UNSUPPORTED_FEATURE:4046,HLS_INCOMPATIBLE_PLAYLIST_UPDATE:4047,INVALID_STREAMS_CHOSEN:5005,STREAMING_ERROR:5006,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,
NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,MEDIA_ELEMENT_NOT_FOUND:7004,INVALID_MEDIA_ELEMENT:7005,
INVALID_CONTAINER_ELEMENT:7006,INVALID_ARGUMENT:7007,WRONG_ORDER_OF_OPERATIONS:7008,NOT_SUPPORTED:7009,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,GL_CONTEXT_ERROR:9003,GL_SHADER_ERROR:9004,
YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,YOUBORA_SDK_VERSION_NOT_SUPPORTED:9102,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,SIMID_CONTAINER_MISSING:10100,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12E3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14E3,
SESSIONS_INVALID_CONFIGURATION:15E3};_.x(_.Oi,Error);var Yi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.u=_.Ti.prototype;_.u.ub="";_.u.Bc="";_.u.Ua="";_.u.jd=null;_.u.Ha="";_.u.sc="";_.u.toString=function(){var a=[],b=this.ub;b&&a.push(aj(b,yv,!0),":");if(b=this.Ua){a.push("//");var c=this.Bc;c&&a.push(aj(c,yv,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.jd;null!=b&&a.push(":",String(b))}if(b=this.Ha)this.Ua&&"/"!=b.charAt(0)&&a.push("/"),a.push(aj(b,"/"==b.charAt(0)?zv:Av,!0));(b=this.a.toString())&&a.push("?",b);(b=this.sc)&&a.push("#",aj(b,Bv));return a.join("")};
_.u.resolve=function(a){var b=new _.Ti(this);"data"===b.ub&&(b=new _.Ti);var c=!!a.ub;c?Ui(b,a.ub):c=!!a.Bc;c?b.Bc=a.Bc:c=!!a.Ua;c?b.Ua=a.Ua:c=null!=a.jd;var d=a.Ha;if(c)Vi(b,a.jd);else if(c=!!a.Ha){if("/"!=d.charAt(0))if(this.Ua&&!this.Ha)d="/"+d;else{var e=b.Ha.lastIndexOf("/");-1!=e&&(d=b.Ha.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.Ha=d:c=""!==a.a.toString();c?_.Wi(b,Xi(a.a)):c=!!a.sc;c&&(b.sc=a.sc);return b};var yv=/[#\/\?@]/g,Av=/[#\?:]/g,zv=/[#\?]/g,bj=/[#\?@]/g,Bv=/#/g;_.$i.prototype.a=null;_.$i.prototype.h=null;
_.$i.prototype.add=function(a,b){if(!this.a&&(this.a={},this.h=0,this.f))for(var c=this.f.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null;if(0<=e){var g=c[d].substring(0,e);f=c[d].substring(e+1)}else g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));f=f||"";this.add(g,decodeURIComponent(f.replace(/\+/g," ")))}this.f=null;(c=this.a.hasOwnProperty(a)&&this.a[a])||(this.a[a]=c=[]);c.push(b);null!==this.h&&this.h++;return this};
_.$i.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.f=a.join("\x26")};var dj;_.Q="text";_.eq={VIDEO:_.r,AUDIO:_.$c,TEXT:_.Q,Tn:_.Rc,IMAGE:_.ve,dj:_.ig};_.Cv=1/15;dj={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]};dj[_.Q]=[/^vtt$/,/^wvtt/,/^stpp/];var fj={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av0?1/],text:[/^vtt$/,/^wvtt/,/^stpp/]};_.ij={text:{mp4:Uc,m4s:Uc,m4i:Uc,cmft:Uc,vtt:_.lg,ttml:_.Xc},video:{mp4:_.Eg,m4s:_.Eg,m4i:_.Eg,m4v:_.Eg,cmfv:_.Eg,ts:_.Dg},audio:{mp4:_.dd,m4s:_.dd,m4i:_.dd,m4a:_.dd,cmfa:_.dd,ts:_.Dg,aac:_.ad,ec3:_.cd,ac3:_.bd},image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}};_.kj.prototype.toString=function(){function a(d){return d.name+"\x3d"+(isNaN(Number(d.value))?'"'+d.value+'"':d.value)}var b="#"+this.name,c=this.attributes?this.attributes.map(a):[];this.value&&c.unshift(this.value);0<c.length&&(b+=":"+c.join(","));return b};_.kj.prototype.getAttribute=function(a){var b=this.attributes.filter(function(c){return c.name===a});return b.length?b[0]:null};_.oj.prototype.getPosition=function(){return this.position};_.oj.prototype.Od=function(){return this.la?this.la-this.ya+1:null};_.oj.prototype.f=Zg(0);_.x(_.pj,_.oj);var sj=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],[_.Wd,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);var Aj=function Dv(a){var c;return _.wh(Dv,function(d){1==d.a&&(c=0);if(3!=d.a)return c<a?_.y(d,c,3):d.F(0);c++;return d.F(2)})};_.J("clpp.utils.BufferUtils",xj);xj.toArrayBuffer=Hj;xj.toDataView=_.Gj;xj.toInt32Array=_.Fj;xj.toUint32Array=Ej;xj.toUint16Array=Dj;xj.toUint8Array=_.zj;xj.equal=Bj;_.R={};_.R.fd=new _.K("clpp.utils.strings");_.R.aj=16E3;_.R.fromCharCode=function(a){for(var b=_.R.aj,c="",d=0;d<a.length;d+=b)c+=String.fromCharCode.apply(null,a.subarray(d,d+b));return c};_.R.aa=function(a){if(!a)return"";a=_.zj(a);239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3));if("TextDecoder"in window){a=(new TextDecoder).decode(a);if(a.includes("\ufffd"))throw Error($a);return a}a=escape(_.R.fromCharCode(a));try{return decodeURIComponent(a)}catch(b){throw Error($a);}};
_.J("clpp.utils.strings.fromUtf8",_.R.aa);
_.R.tc=function(a,b,c){if(!a)return"";var d=_.R.fd;if(!c&&0!==a.byteLength%2)throw d.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.zj(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);a instanceof ArrayBuffer?d=a:(c=new Uint8Array(a.byteLength),c.set(_.zj(a)),d=c.buffer);a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return _.R.fromCharCode(c)};
_.R.Kd=function(a,b){if(_.M.da(a))return a;var c="",d=!!b,e=_.zj(a);239===e[0]&&187===e[1]&&191===e[2]?c=_.R.aa(e):254===e[0]&&255===e[1]?c=_.R.tc(e.subarray(2),!1):255===e[0]&&254===e[1]&&(c=_.R.tc(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);_.R.fd.debug("Unable to find byte-order-mark, making an educated guess.");0===e[0]&&0===e[2]?c=_.R.tc(a,!1):0===e[1]&&0===e[3]?c=_.R.tc(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.R.aa(a));if(c)return d&&(c=escape(c)),
c;throw Error("Unable to detect text encoding");};_.J("clpp.utils.strings.fromBytesAutoDetect",_.R.Kd);_.R.$a=function(a){if("TextEncoder"in window)return(new TextEncoder).encode(a);a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.J("clpp.utils.strings.toUtf8",_.R.$a);_.R.We=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};
_.J("clpp.utils.strings.toUtf16",_.R.We);_.R.ld=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c),f;4===c?f=Ej(e):2===c?f=Dj(e):f=_.zj(e);for(c=0;c<d;c++)f[c]=a.charCodeAt(c);return e};_.J("clpp.utils.strings.toByteArray",_.R.ld);_.R.startsWith=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.J("clpp.utils.strings.startsWith",_.R.startsWith);
_.R.endsWith=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};_.J("clpp.utils.strings.endsWith",_.R.endsWith);_.R.Me=function(a){return!!(a&&0<a.length)};_.R.empty=function(a){return!a||0===a.length};_.R.no=function(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()};_.R.qo=function(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})};
_.R.qf=function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.M.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}};_.J("clpp.utils.strings.bitrateToString",_.R.qf);
_.R.Ok=function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))};_.J("clpp.utils.strings.durationToString",_.R.Ok);
_.R.Qk=function(a,b){for(var c in b)if(b[c]===a)return c;return""};_.R.wl=function(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return b};_.J("clpp.utils.strings.hashCode",_.R.wl);_.R.Mn=function(a){_.R.Mi.innerHTML=a;return _.R.Mi.textContent};_.R.Mi=document.createElement("span");_.R.vg=function(a){a=a.replace(/<[^>]+>/gi,"");a=_.R.Mn(a);return a=a.replace(/<[^>]+>/gi,"")};_.R.fi=function(a){return a.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")};_.J("clpp.utils.Uint8ArrayUtils",Ij);Ij.toStandardBase64=_.Jj;Ij.concat=Pj;Ij.equal=_.Oj;Ij.toHex=_.Nj;Ij.fromHex=_.Mj;Ij.fromBase64=_.Lj;Ij.toBase64Url=_.Kj;_.Y={Pb:function(a,b){return a.filter(function(c){return c.name===b})},Qi:function(a){var b=/^[a-zA-Z0-9_-]+$/,c=new Set;a.forEach(function(d){var e=_.lj(d,"VALUE"),f=_.lj(d,"NAME"),g=_.lj(d,"IMPORT"),h=_.lj(d,"QUERYPARAM");if(1!==[f,g,h].filter(Boolean).length||f&&null==e)throw new _.N(_.P,4,4044,{message:"Invalid tag.",text:d.toString()});d=f||g||h;if(c.has(d))throw new _.N(_.P,4,4044,'EXT-X-DEFINE redefined variable "'+d+'".');if(!b.test(d))throw new _.N(_.P,4,4044,'EXT-X-DEFINE invalid variable name "'+
d+'".');c.add(d)})},Gf:function(a,b){var c=Array.isArray(b)?b:[b];return a.filter(function(d){d=_.mj(d,_.bc);return c.includes(d)})},cd:function(a,b){return a.some(function(c){return c.name===b})},Wa:function(a,b,c){c=void 0===c?{}:c;a=a.find(function(d){return d.name===b})||null;if(!a&&c.required)throw new _.N(_.P,4,4024,{missingTag:b});return a},Kh:function(a,b){return _.Y.Wa(a,b,{required:!0})},il:function(a,b,c){c=void 0===c?0:c;return(a=_.Y.Wa(a,b))?Number(a.value):c},vo:function(a,b,c){return a.filter(function(d){var e=
d.getAttribute(_.bc);d=d.getAttribute(_.db);return e.value===b&&d.value===c})},Xm:function(a){var b=_.Y.Wa(a,"EXT-X-TILES");if(!b)return{Pd:1,fe:1,durationPerTile:null};a=_.lj(b,"LAYOUT")||"1x1";b=_.lj(b,_.Fa);a=_.vj(a);return{Pd:a.Pd,fe:a.fe,durationPerTile:b?Number(b):null}},zd:function(a,b,c){c=void 0===c?!0:c;a=new _.Ti(a);b=new _.Ti(b);b=a.resolve(b).toString();return c?b:decodeURI(b)},Uh:function(a){return/^#(?!EXT)/m.test(a)},Kl:function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(c){for(var d=
_.w(_.Y.Ue(c)),e=d.next();!e.done;e=d.next())b(e.value,c)})},Ue:function(a){var b=new Set;a.variants.forEach(function(c){c.audio&&b.add(c.audio);c.video&&b.add(c.video)});a.textStreams.forEach(function(c){return b.add(c)});a.thumbStreams.forEach(function(c){return b.add(c)});return Array.from(b)},xl:function(a){return a.some(function(b){return _.Y.cd(b.X,Na)})},mj:function(a){return _.Y.Ue(a).filter(_.Y.Sh)},Wm:function(a){if(_.Y.Wa(a,Na))return _.kc;a=_.Y.Wa(a,Sa);if(!a)return"LIVE";if(a.value===
_.kc)return _.kc;if("EVENT"===a.value)return"EVENT";throw new _.N(_.P,4,4044,"Invalid EXT-X-PLAYLIST-TYPE value: "+a.value);},nh:function(a){a={AUDIO:_.$c,VIDEO:_.r,SUBTITLES:_.Q,"CLOSED-CAPTIONS":_.Q}[a.toUpperCase()];if(!a)throw new _.N(_.P,4,4044,"EXT-X-MEDIA tag has an invalid TYPE attribute.");return a},Fk:function(a){var b=_.mj(a,_.bc).toUpperCase();if(_.Y.nh(b)!==_.Q)return null;a=a.getAttribute("FORCED");a=!(!a||!a.value||"YES"!==a.value.toUpperCase());var c=_.ig;b===_.ra&&(c=_.nd);a&&(c=
_.pe);return c},xi:function(a,b,c){c=void 0===c?!1:c;var d=0,e=null;if(a){d=a.split("@");a=Number(d[0]);if(0>=a)throw new _.N(_.P,4,4044,"Byte range length must be positive.");if(d[1]){if(d=Number(d[1]),0>d)throw new _.N(_.P,4,4044,"Byte range start byte must not be negative.");}else{if(c)throw new _.N(_.P,4,4044,"Invalid byte range, offset is required but missing.");if(null==b)throw new _.N(_.P,4,4044,"Invalid byte range, cannot calculate offset based on previous byte ranges.");d=b+1}e=d+a-1}return{ya:d,
la:e}},zi:function(a,b){var c=_.Y.Wa(a,Ia);return _.Y.xi(c?c.value:null,b)},Rm:function(a){a=_.Y.Kh(a,"EXTINF").value.split(",");return{duration:Number(a[0]),title:a[1]||null}},Ai:function(a,b){function c(f){return null==f?null:Number(f)}b=void 0===b?{}:b;var d={Rg:!1,qj:!1,rj:null,yl:null,Bi:null},e=_.Y.Wa(a,Xa,{required:b.Ii});if(!e)return d;d.Rg="YES"===_.lj(e,"CAN-BLOCK-RELOAD");d.qj="YES"===_.lj(e,"CAN-SKIP-DATERANGES");d.rj=c(_.lj(e,"CAN-SKIP-UNTIL"));d.yl=c(_.lj(e,"HOLD-BACK"));d.Bi=c(_.lj(e,
"PART-HOLD-BACK",void 0,{required:b.Ii}));return d},yi:function(a,b,c){c=void 0===c?!1:c;a=_.lj(a,"BYTERANGE");return _.Y.xi(a,b,c)},Um:function(a){var b=_.Y.Pb(a,"EXT-X-MEDIA"),c=_.Y.Pb(a,_.Ya);a=_.Y.Pb(a,"EXT-X-IMAGE-STREAM-INF");return{gd:{kj:_.Y.Gf(b,["AUDIO",_.jc]),closedCaptions:_.Y.Gf(b,_.ra),Fn:_.Y.Gf(b,_.Ub)},ge:c,Lf:a}},Hk:function(a,b){var c=_.Y.zi(a.X,null);return new _.pj(0,0,0,function(){return[a.a]},c.ya,c.la,0,b)},If:function(a,b){if(null==a)return null;var c=Object.assign({},a);null==
c.iv&&(c.iv=Pj(new Uint8Array(12),new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255])));return c},pl:function(a){var b=a.T;a=b[0].startTime;b=b[b.length-1].endTime;return{ec:a,Je:b,duration:b-a}},ml:function(a){var b=Infinity,c=Infinity;_.Y.mj(a).forEach(function(d){d=_.Y.pl(d);b=Math.min(b,d.ec);c=Math.min(c,d.duration)});return{ec:b,duration:c}},Sh:function(a){return a.type===_.$c||a.type===_.r},Rk:function(a){return a.filter(_.Y.Sh)},ll:function(a){return a.map(function(b){return _.Y.ml(b).duration}).reduce(function(b,
c){return b+c},0)},el:function(a,b){return a&&b?_.pp(a.drmInfos,b.drmInfos)?_.op(a.drmInfos,b.drmInfos):null:a?a.drmInfos:b?b.drmInfos:null},Jk:function(a,b){return(b?b.Sb():"")+" - "+(a?a.Sb():"")},ph:function(a){return(a.video?a.video.kc:"")+" - "+(a.audio?a.audio.kc:"")},Tm:function(a,b,c,d){if(b===_.kc)return{delay:0,ee:0};b=_.Y.Wa(a,Ra);if(c&&b)return c=Number(_.mj(b,"PART-TARGET")),null!=d?{delay:d,ee:c}:{delay:_.Y.Ai(a,{Ii:!0}).Bi,ee:c};a=_.Y.Kh(a,Za);a=Number(a.value);return null!=d?{delay:d,
ee:a}:{delay:3*a,ee:a}},we:function(a,b){return a+":"+b},Jn:function(a){var b=_.Y.we,c=new Map;a.forEach(function(d){var e=b(d.xd(),d.jl());c.has(e)?(e=c.get(e),e.includes(d)||e.push(d)):c.set(e,[d])});return c},Fh:function(a){return _.qj(a||_.rg)},Nm:function(a){var b=new Map;a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=_.lj(c,_.qb);d=_.Y.Fh(d);var e=_.mj(c,_.db);c=_.mj(c,"INSTREAM-ID");b.has(e)||b.set(e,new Map);b.get(e).set(c,d)}return b},Nk:function(a){a=_.w(a.audio.concat(a.video));
for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=b.dl().filter(function(d){return"mp4a.40.34"!==d});b.vn(c)}},Ym:function(a){if(null==a.getAttribute("FRAME-RATE")&&null==a.getAttribute(_.Rb))return null;var b=_.lj(a,"FRAME-RATE");a=_.lj(a,_.Rb);var c=_.w(a?a.split("x"):[null,null]);a=c.next().value;c=c.next().value;return{frameRate:tj(b),width:tj(a),height:tj(c)}},Jl:function(a){return"EXT-X-MEDIA"!==a.name?!0:_.lj(a,_.bc)===_.Ub},Om:function(a,b,c,d){var e=_.lj(a,"ID"),f=_.lj(a,"START-DATE");
if(null===e||null===f)return _.Y.g.warn("Invalid  EXT-X-DATERANGE missing mandatory ID or START-DATE attribute, ignoring the EXT-X-DATERANGE tag.",a),null;b=d?c-b:-b;var g=new Date(f);f=g.getTime()/1E3+b;e={id:e,startTime:f,startDate:g};c=tj(_.lj(a,_.Fa));void 0!==c&&0<=c&&(e.duration=c);d=tj(_.lj(a,"PLANNED-DURATION"));void 0!==d&&0<=d&&(e.plannedDuration=d);var h=_.lj(a,"CLASS");null!==h&&(e.schemeIdUri=h);var l=_.lj(a,"END-DATE");l=l?new Date(l):null;null!==l&&l.getTime()>=g.getTime()&&(e.endDate=
l);g=_.Y.Mm(a)||{};var m=_.lj(a,"CUE");m&&(g.Wn=m.split(","));if(h===Ld){h=_.Y.Sm(a);if(null===h)return _.Y.g.warn("Invalid interstitial attributes, ignoring the EXT-X-DATERANGE tag.",a),null;g=Object.assign(g,h)}_.M.vc(g)&&(e.customAttributes=g);e.endTime=l?l.getTime()/1E3+b:c?f+c:d?f+d:f;e.type=_.qi;return e},Mm:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c.name.trim().startsWith("X-")&&(a[c.name]=c.value);return _.M.vc(a)?
a:null},Sm:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())switch(c=c.value,c.name){case rc:a[rc]=c.value;break;case pc:a[pc]=c.value;break;case tc:a[tc]=tj(c.value);break;case sc:a[sc]=tj(c.value);break;case "X-SNAP":a["X-SNAP"]=c.value.split(",");break;case "X-RESTRICT":a["X-RESTRICT"]=c.value.split(",")}return a[rc]&&a[pc]||!a[rc]&&!a[pc]?(_.Y.g.warn("Invalid EXT-X-DATERANGE Interstitial attributes X-ASSET-URI, X-ASSET-LIST"),null):_.M.vc(a)?
a:null},yh:function(a,b){if(!a)return null;var c=a.kc;return b.find(function(d){return d.Sb()===c})||null}};_.Y.g=new _.K("clpp.hls.Utils");_.Ev=new Set([_.Ma,Na,"EXT-X-I-FRAMES-ONLY",_.Qa,Ra,Sa,Xa,Za]);_.Fv=new Set(["EXTINF",Ia,_.Ka,_.Oa,_.Pa,_.Ua]);_.Gv=new Set(["EXT-X-PART",_.Ta]);_.Hv=new Set([_.Ja]);var Tj=[403,401];_.J("clpp.net.DEFAULT_FATAL_STATUS_CODES",Tj);_.J("clpp.net.makeRequest",_.Yj);_.Xj=6;_.J("clpp.net.RequestType",{MANIFEST:1,SEGMENT:2,LICENSE:3,APP:4,TIMING:5,OTHER:_.Xj});_.gk.prototype.resolve=function(){};_.gk.prototype.reject=function(){};_.hk.prototype.abort=function(){this.a=!0;return this.A()};_.jk.prototype.destroy=function(){for(var a=[],b=_.w(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.U["catch"](function(){}),a.push(c.abort());this.a=[];return Promise.all(a)};_.u=_.tk.prototype;_.u.An=function(a){0<a?_.Dh("Rate limit set to "+a+"bps"):_.Dh("Rate limit disabled");this.l=a};_.u.release=function(){return this.o.destroy()};_.u.destroy=function(){this.w=!0;this.f=[];this.h=[];return this.o.destroy()};_.u.nf=function(a){this.f.push(a)};_.u.Oc=function(a){this.h.push(a)};_.u.mg=function(a){this.f=this.f.filter(function(b){return b!==a})};_.u.ae=function(a){this.h=this.h.filter(function(b){return b!==a})};
_.u.fetch=function(a){var b=this;if(this.w)return new Fu(Promise.reject(new _.N(1,1,7001,{url:a.uris[a.uriIndex],request:a})));this.l&&0<this.l&&(a.rateLimitBps=this.l);for(var c=[],d=_.w(this.f),e=d.next();!e.done;e=d.next())c.push(e.value);if(a.requestModifiers)for(d=_.w(a.requestModifiers),e=d.next();!e.done;e=d.next())c.push(e.value);a.requestModifiers=c;xk(this,a);c=[];d=_.w(this.h);for(e=d.next();!e.done;e=d.next())c.push(e.value);if(a.responseModifiers)for(d=_.w(a.responseModifiers),e=d.next();!e.done;e=
d.next())c.push(e.value);a.responseModifiers=c;d=c=new _.gk;try{var f={},g=_.w(a.requestModifiers);for(e=g.next();!e.done;f={df:f.df},e=g.next())f.df=e.value,d=d.then(function(n){return function(p){if(h.a)throw new _.N(_.P,1,7001,p?{url:p.uris[p.uriIndex],request:p}:null);return n.df(p)||p}}(f))["catch"](function(n){if(n instanceof _.N)throw n;throw new _.N(_.P,1,1006,null,n);});d=d.then(function(n){return{request:n,plugin:yk(b,n)}});var h=new Fu(d);g={};var l=_.w(a.responseModifiers);for(e=l.next();!e.done;g=
{le:g.le},e=l.next())g.le=e.value,h.then(function(n){return function(p){function q(){if(h.a)throw new _.N(_.P,1,7001,p?{url:p.request.uris[p.request.uriIndex],request:p.request}:null);}q();var t=n.le(p)||p;q();return t}}(g))["catch"](function(n){return function(p){if(p instanceof _.N&&p.data&&p.data.response){var q=n.le(p.data.response);if(q&&q.then)return q.then(function(){return Promise.reject(p)})}return Promise.reject(p)}}(g))["catch"](function(n){if(n instanceof _.N)throw n;throw new _.N(_.P,
1,1007,null,n);});l={};var m=_.w(this.j);for(e=m.next();!e.done;l={ef:l.ef},e=m.next())l.ef=e.value,h["catch"](function(n){return function(p){p instanceof _.N&&p.data&&p.data.response||n.ef({uri:a.uris[a.uriIndex],data:(new Uint8Array(0)).buffer,status:-1,timeMs:0,headers:{},request:a});return Promise.reject(p)}}(l))["catch"](function(n){if(n instanceof _.N)throw n;throw new _.N(_.P,1,1007,null,n);});_.kk(this.o,h);c.resolve(a);return h}catch(n){return new Fu(Promise.reject(n))}};
_.J("clpp.net.NetworkEngine",_.tk);_.tk.prototype.fetch=_.tk.prototype.fetch;_.tk.prototype.removeResponseModifier=_.tk.prototype.ae;_.tk.prototype.removeRequestModifier=_.tk.prototype.mg;_.tk.prototype.addResponseModifier=_.tk.prototype.Oc;_.tk.prototype.addRequestModifier=_.tk.prototype.nf;_.tk.prototype.setRateLimit=_.tk.prototype.An;var Dk;_.zk.prototype.ma=function(a){return this.type===a.type&&this.channelsCount===a.channelsCount&&this.frameRate===a.frameRate&&this.trickPlay===a.trickPlay&&this.kind===a.kind&&this.label===a.label&&this.language===a.language&&this.mimeType===a.mimeType&&yi(this.roles,a.roles)&&yi(this.accessibility,a.accessibility,Hk)};_.zk.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.J("clpp.Track",_.zk);
_.zk.prototype.toString=_.zk.prototype.toString;_.J("clpp.Rendition",_.Ik);_.Fk=1;_.Ck=_.r;_.Bk=_.$c;_.S="text";Dk=_.Ne;_.Iv={VIDEO:_.Ck,AUDIO:_.Bk,TEXT:_.S,METADATA:Dk};_.zk.Type=_.Iv;_.J("clpp.utils.url.queryString",_.Lk);Ok.prototype.h=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){switch(n.a){case 1:return d=null,_.D(n,2),_.y(n,Uk(c,a),4);case 4:d=n.f;_.oh(n,3);break;case 2:return e=_.E(n),c.g.warn("Failed to fetch playlist in order metadata from HLS playlist.",e.message),n["return"](Promise.resolve({}));case 3:f={};_.D(n,5);if(!b.enableHlsVideoTrackInfo){n.F(7);break}return _.y(n,Rk(c,d,a),8);case 8:g=n.f,f.renditions=g.renditions,f.mimeType=g.mimeType;case 7:_.oh(n,6);break;case 5:h=_.E(n),c.g.warn("Failed to parse video metadata from HLS playlist.",
h.message);case 6:return _.D(n,9),_.y(n,Tk(d),11);case 11:l=n.f;f.gd=l;_.oh(n,10);break;case 9:m=_.E(n),c.g.warn("Failed to parse metadata from HLS playlist.",m.message);case 10:return n["return"](f)}})};_.$k=[];_.u=_.U.prototype;_.u.uf=function(){return!0};_.u.Xk=function(a){return this.getVideoTracks().find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};_.u.Tk=function(a){return this.getAudioTracks().find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};_.u.Vk=function(a){return this.ia().find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};_.u.Wk=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};
_.u.Sk=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};_.u.Uk=function(a){return this.ia().flatMap(function(b){return b.renditions}).find(function(b){return _.M.ma(b,a,a&&Object.keys(a))})};_.J("clpp.TrackManager",_.U);_.U.prototype.isAbrEnabled=_.U.prototype.ra;_.U.prototype.addTextTrack=_.U.prototype.addTextTrack;_.U.prototype.findTextRendition=_.U.prototype.Uk;_.U.prototype.findAudioRendition=_.U.prototype.Sk;
_.U.prototype.findVideoRendition=_.U.prototype.Wk;_.U.prototype.findTextTrack=_.U.prototype.Vk;_.U.prototype.findAudioTrack=_.U.prototype.Tk;_.U.prototype.findVideoTrack=_.U.prototype.Xk;_.U.prototype.setTextRendition=_.U.prototype.wb;_.U.prototype.setAudioRendition=_.U.prototype.vb;_.U.prototype.setVideoRendition=_.U.prototype.hb;_.U.prototype.setTextTrack=_.U.prototype.Ta;_.U.prototype.setAudioTrack=_.U.prototype.Ea;_.U.prototype.setVideoTrack=_.U.prototype.xb;_.U.prototype.getTextTrack=_.U.prototype.xa;
_.U.prototype.getAudioTrack=_.U.prototype.na;_.U.prototype.getVideoTrack=_.U.prototype.Ga;_.U.prototype.getLoadingTextRendition=_.U.prototype.Bb;_.U.prototype.getLoadingAudioRendition=_.U.prototype.Ab;_.U.prototype.getLoadingVideoRendition=_.U.prototype.qb;_.U.prototype.getTextRendition=_.U.prototype.Ra;_.U.prototype.getAudioRendition=_.U.prototype.Va;_.U.prototype.getVideoRendition=_.U.prototype.ja;_.U.prototype.getTextTracks=_.U.prototype.ia;_.U.prototype.getAudioTracks=_.U.prototype.getAudioTracks;
_.U.prototype.getVideoTracks=_.U.prototype.getVideoTracks;_.U.prototype.canSelectVideoTracks=_.U.prototype.uf;var el=new Map,dl=1,il=2,hl=3,gl=4;_.Jv=(new Map).set(_.Gd,_.Gd).set("frameRate","framerate").set("bandwidth","bitrate").set(_.Sg,_.Sg).set(_.se,_.se).set("channelsCount","channels");_.nl.prototype.ea=function(a){return ol(this,a,!1)};_.nl.prototype.yb=function(a){return ol(this,a,!0)};_.nl.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.pl.prototype.yg=function(){this.stop();this.f();return this};_.pl.prototype.ea=function(a){var b=this;this.stop();this.a=(new _.nl(function(){b.f()})).ea(a);return this};_.pl.prototype.yb=function(a){var b=this;this.stop();this.a=(new _.nl(function(){b.f()})).yb(a);return this};_.pl.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.J("clpp.utils.Timer",_.pl);_.pl.prototype.stop=_.pl.prototype.stop;_.pl.prototype.tickEvery=_.pl.prototype.yb;_.pl.prototype.tickAfter=_.pl.prototype.ea;
_.pl.prototype.tickNow=_.pl.prototype.yg;_.J(Fd,ql);ql.getInfo=_.qk;
var Al=null,zl=null,Cl=new _.K(Fd),Jl="android",Il="ios",Ol="linux",Kl="osx",Ll="windows",Ml="tizen",Nl="webos",Hl=_.sg,Rl=_.sg,Ql={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},
webos:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_.x(Sl,_.U);_.u=Sl.prototype;_.u.uf=function(){return!_.wl()};
_.u.ag=function(a,b){var c=this,d,e,f,g,h,l,m,n,p,q,t,v,z,C,F,G,B,H;return _.I(function(O){if(1==O.a){if(!b)return c.g.warn(zb),O["return"]();d=b.track;if(!d)return c.g.warn(Cb),O["return"]();e=a===_.Bk;f=a===_.Ck;g=a===_.S;h=e||f;l=b.target;if(m=c.h.find(function(T){return fm(T,d,a)}))return c.g.warn("Track from event already exists",d,m),O["return"]();n=Gk(a,d);p=jm(d);if(g){if(d.kind===_.Ne)return O["return"]();void 0!==d.id?q=c.o[d.id]:(t=Object.values(c.o),q=t.find(function(T){return fm(n,T,
a)}));n.kind&&"captions"===n.kind&&(n.mimeType=_.Sc);q&&(n.src=q.url,n.mimeType=q.mimeType)}else if(m=c.h.find(function(T){return T.type===a&&_.M.ma(T,n,["kind","label","language"])}))return m.id=d.id,p&&(c.g.debug(Yb+a+" track active"),c.a.set(a,m)),c.g.debug("Track from event seems to already exists, flipped native track to",d),O["return"]();_.D(O,2);v=new _.Ik(n.id,n);n.renditions.push(v);c.h.push(n);z=c.m.getConfiguration().safari;return Wl(c,a,z)?_.y(O,Zl(c,n,z),5):Xl(c,a,z)?_.y(O,$l(c,n,z),
5):O.F(5)}if(2!=O.a)return c.g.debug(a+" Track added",n),c.m.trigger(new _.L(_.Kv)),C=cm(c,a).length,F=!(!l||!l.length),G=l&&l.length||0,B=function(){c.g.debug(Yb+a+" track active. Native track active: "+(p+". Number of tracks: ")+C,d);c.a.set(a,n)},p?B():1===C&&h&&(f?B():F&&1!==G||B()),_.oh(O,0);H=_.E(O);c.g.error("Error while converting track data",H);_.A(O)})};
_.u.cg=function(a,b){if(b){var c=b.track;if(!c)this.g.warn(Cb);else if(a===_.S&&c.kind!==_.Ne){var d=this.h.find(function(e){return fm(e,c,a)});d&&(this.h.splice(this.h.indexOf(d),1),(this.a.get(a)||null)===d&&(this.a.set(a,null),lm(this)),this.g.debug(a+" Track removed, id: ",d.id))}}else this.g.warn(zb)};
_.u.bg=function(a,b){this.g.debug(a+" Track changed",b);a===_.S&&lm(this);var c=bm(this,a);if(c)for(var d={Hc:0};d.Hc<c.length;d={Hc:d.Hc},++d.Hc)if(jm(c[d.Hc])){if(d=this.h.find(function(e){return function(f){return fm(f,c[e.Hc],a)}}(d)))this.a.set(a,d),this.g.debug("Track change detected, id:",d.id),d===this.l.get(a)&&this.l.set(a,null),a===_.Bk?this.m.trigger(new _.L(_.gm)):a===_.S&&this.m.trigger(new _.L(_.hm));break}};_.u.initialize=function(a){this.m=a;this.j=new Ok(a.getNetworkEngine())};
_.u.load=function(){this.A=!1;var a=am(this,_.S);a&&(this.f.on(a,_.Mc,this.J),this.f.on(a,Mf,this.L),this.f.on(a,ud,this.K));if(a=am(this,_.Bk))this.f.on(a,_.Mc,this.G),this.f.on(a,Mf,this.I),this.f.on(a,ud,this.H);if(a=am(this,_.Ck))this.f.on(a,_.Mc,this.N),this.f.on(a,Mf,this.V),this.f.on(a,ud,this.P);this.f.one(this.m,md,this.kk.bind(this))};_.u.release=function(){this.A=!0;this.h=[];this.o={};this.a.clear();this.l.clear();this.f.release()};_.u.destroy=function(){this.release();this.m=null};
_.u.getVideoTracks=function(){return cm(this,_.Ck)};_.u.getAudioTracks=function(){return cm(this,_.Bk)};_.u.ia=function(){return cm(this,_.S)};_.u.ja=function(){var a=this,b=this.a.get(_.Ck)||null;if(!b)return null;if(this.w){var c=b.renditions.find(function(d){return d.width===a.w.width&&d.height===a.w.height});if(c)return c}return b.renditions[0]||null};_.u.Va=function(){return dm(this,_.Bk)};_.u.Ra=function(){return dm(this,_.S)};_.u.qb=function(){return em(this,_.Ck)};
_.u.Ab=function(){return em(this,_.Bk)};_.u.Bb=function(){return em(this,_.S)};_.u.Ga=function(){return this.a.get(_.Ck)||null};_.u.na=function(){return this.a.get(_.Bk)||null};_.u.xa=function(){return this.a.get(_.S)||null};_.u.xb=function(a){im(this,_.Ck,a)};_.u.Ea=function(a){im(this,_.Bk,a)};_.u.Ta=function(a){im(this,_.S,a)};_.u.hb=function(a){im(this,_.Ck,a&&a.track)};_.u.vb=function(a){im(this,_.Bk,a&&a.track)};_.u.wb=function(a){im(this,_.S,a&&a.track)};
_.u.addTextTrack=function(a){var b=this,c;return _.I(function(d){return a.mimeType.match(/text\/vtt/)?(c="External_"+b.B++,b.o[c]=a,Tl(b,a,c),d.F(0)):_.y(d,Ul(b,a),0)})};_.u.ra=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};
_.u.kk=function(){var a=this,b,c,d;return _.I(function(e){if(1==e.a){b=a.m.getConfiguration();km(a,_.Bk,b.preferredAudioLanguage);c=bm(a,_.S);if(c.some(function(f){return jm(f)}))return e.F(2);d=am(a,_.S);return _.y(e,new Promise(function(f){a.f.one(d,ud,f);(new _.pl(f)).ea(1)}),2)}if(a.A)return e["return"]();km(a,_.S,b.preferredTextLanguage);_.A(e)})};Sl.prototype.isAbrEnabled=Sl.prototype.ra;Sl.prototype.addTextTrack=Sl.prototype.addTextTrack;Sl.prototype.setTextRendition=Sl.prototype.wb;
Sl.prototype.setAudioRendition=Sl.prototype.vb;Sl.prototype.setVideoRendition=Sl.prototype.hb;Sl.prototype.setTextTrack=Sl.prototype.Ta;Sl.prototype.setAudioTrack=Sl.prototype.Ea;Sl.prototype.setVideoTrack=Sl.prototype.xb;Sl.prototype.getTextTrack=Sl.prototype.xa;Sl.prototype.getAudioTrack=Sl.prototype.na;Sl.prototype.getVideoTrack=Sl.prototype.Ga;Sl.prototype.getLoadingTextRendition=Sl.prototype.Bb;Sl.prototype.getLoadingAudioRendition=Sl.prototype.Ab;Sl.prototype.getLoadingVideoRendition=Sl.prototype.qb;
Sl.prototype.getTextRendition=Sl.prototype.Ra;Sl.prototype.getAudioRendition=Sl.prototype.Va;Sl.prototype.getVideoRendition=Sl.prototype.ja;Sl.prototype.getTextTracks=Sl.prototype.ia;Sl.prototype.getAudioTracks=Sl.prototype.getAudioTracks;Sl.prototype.getVideoTracks=Sl.prototype.getVideoTracks;Sl.prototype.canSelectVideoTracks=Sl.prototype.uf;_.u=_.mm.prototype;_.u.start=function(a){if(this.f)return this.f.start(a);if(a<this.a.length)return this.a[a].start;throw Error(cc);};_.u.end=function(a){if(this.f)return this.f.end(a);if(a<this.a.length)return this.a[a].end;throw Error(cc);};_.u.Na=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};_.u.ha=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};
_.u.Gb=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.u.Aa=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.ha();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.u.toString=function(){for(var a="",b=0;b<this.length;b++)0<b&&(a+=" "),a+=this.start(b).toFixed(3)+"-"+this.end(b).toFixed(3);return a};_.J("clpp.BufferInfo",_.mm);_.mm.prototype.bufferedAheadOf=_.mm.prototype.Aa;
_.mm.prototype.isBuffered=_.mm.prototype.Gb;_.mm.prototype.bufferEnd=_.mm.prototype.ha;_.mm.prototype.bufferStart=_.mm.prototype.Na;_.mm.prototype.end=_.mm.prototype.end;_.mm.prototype.start=_.mm.prototype.start;_.u=_.nm.prototype;_.u.addEventListener=function(a,b){this.on(a,b)};_.u.removeEventListener=function(a,b){this.off(a,b)};_.u.on=function(a,b,c){return this.Hd.on(a,b,c)};_.u.one=function(a,b,c){return this.Hd.one(a,b,c)};_.u.off=function(a,b){return this.Hd.off(a,b)};_.u.forwardEventsTo=function(a){a&&(0<=this.Ed.indexOf(a)||this.Ed.push(a))};_.u.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};
_.u.stopForwardingEventsTo=function(a){a&&(a=this.Ed.indexOf(a),0<=a&&this.Ed.splice(a,1))};_.u.trigger=function(a){this.Hd.trigger(a);for(var b=_.w(this.Ed),c=b.next();!c.done;c=b.next())c.value.dispatchEvent(a)};_.nm.prototype.off=_.nm.prototype.off;_.nm.prototype.one=_.nm.prototype.one;_.nm.prototype.on=_.nm.prototype.on;_.nm.prototype.removeEventListener=_.nm.prototype.removeEventListener;_.nm.prototype.addEventListener=_.nm.prototype.addEventListener;_.J("clpp.events.ERROR",_.ne);_.J("clpp.events.LOADEDMETADATA",_.Ge);_.J("clpp.events.BUFFERING_ENDED",_.jd);_.J("clpp.events.BUFFERING_STARTED",_.kd);_.J("clpp.events.STATE_CHANGED",_.cg);_.gm="audiotrackchanged";_.J("clpp.events.AUDIO_TRACK_CHANGED",_.gm);_.hm="texttrackchanged";_.J("clpp.events.TEXT_TRACK_CHANGED",_.hm);_.J("clpp.events.VIDEO_TRACK_CHANGED",_.Hg);_.J("clpp.events.BITRATE_CHANGED",_.hd);_.Kv="tracksadded";_.J("clpp.events.TRACKS_ADDED",_.Kv);_.J("clpp.events.LOAD_START",He);
_.J("clpp.events.RELEASING",_.Lf);_.J("clpp.events.RELEASED",Kf);_.J("clpp.events.DESTROYING","destroying");_.J("clpp.events.DESTROYED","destroyed");_.J("clpp.events.VIDEO_BUFFER_CHANGED",_.Gg);_.J("clpp.events.AUDIO_BUFFER_CHANGED",_.fd);_.J("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.J("clpp.events.DRM_SESSION_UPDATE",_.fe);_.J("clpp.events.DRM_SESSION_PERSISTED",_.ee);_.J("clpp.events.DRM_RENEWAL_STARTED",de);_.J("clpp.events.DRM_EXPIRATION_UPDATE",_.ce);
_.J("clpp.events.AUTOPLAY_NOT_ALLOWED",_.gd);_.J("clpp.events.PLAY",_.hf);_.J("clpp.events.SEEKING",_.Vf);_.J("clpp.events.SEEKED",_.Uf);_.J("clpp.events.USER_SEEKING",_.xg);_.J("clpp.events.USER_SEEKED",_.wg);_.Op={SEEKING:1,NO_DATA:2};_.J("clpp.events.BufferingReasons",_.Op);_.J("clpp.events.ADS_TIMELINE_CHANGED",_.Nc);_.J("clpp.events.AD_LOADED",_.Dc);_.J("clpp.events.AD_BREAK_STARTED",_.uc);_.J("clpp.events.AD_STARTED",_.Jc);_.J("clpp.events.AD_BUFFERING",_.wc);_.J("clpp.events.AD_PROGRESS",_.Gc);
_.J("clpp.events.AD_FIRST_QUARTILE",_.zc);_.J("clpp.events.AD_MIDPOINT",_.Ec);_.J("clpp.events.AD_THIRD_QUARTILE",_.Lc);_.J("clpp.events.AD_PAUSED",_.Fc);_.J("clpp.events.AD_RESUMED",_.Hc);_.J("clpp.events.AD_SKIPPED",_.Ic);_.J("clpp.events.AD_CLICKED",_.xc);_.J("clpp.events.AD_IMPRESSION",_.Cc);_.J("clpp.events.AD_COMPLETED",_.yc);_.J("clpp.events.AD_STOPPED",_.Kc);_.J("clpp.events.AD_BREAK_STOPPED",_.vc);_.J("clpp.events.AD_HLS_ASSET_LIST_REQUEST",Ac);
_.J("clpp.events.AD_HLS_ASSET_LIST_RESPONSE",Bc);_.J("clpp.events.SIMID_CREATIVE_STARTED",_.Xf);_.J("clpp.events.SIMID_CREATIVE_STOPPED",_.Yf);_.J("clpp.events.CASTING_STARTED",_.od);_.J("clpp.events.CASTING_ENDED","castingended");_.J("clpp.events.CAST_STATUS_CHANGED",_.pd);_.J("clpp.events.AIRPLAY_STATUS_CHANGED",_.Qc);_.J("clpp.events.AIRPLAY_CASTING_STARTED",_.Pc);_.J("clpp.events.AIRPLAY_CASTING_ENDED",_.Oc);_.ki="timeline-cue-added";_.J("clpp.events.TIMELINE_CUE_ADDED",_.ki);_.fi="timeline-cue-enter";
_.J("clpp.events.TIMELINE_CUE_ENTER",_.fi);_.gi="timeline-cue-exit";_.J("clpp.events.TIMELINE_CUE_EXIT",_.gi);_.ei="timeline-cues-changed";_.J("clpp.events.TIMELINE_CUES_CHANGED",_.ei);_.J("clpp.events.MPD_TYPE_CHANGED",_.Re);_.J("clpp.events.LIVE_TURNED_STATIC",_.De);_.J("clpp.events.VIMOND_RESPONSE",_.Ig);_.J("clpp.events.PLAYLIST_ITEM_CHANGED",_.uf);_.J("clpp.events.PLAYLIST_MODIFIED",_.vf);_.J("clpp.events.SC_PLAYLIST_TIMELINE_CHANGED",_.Tf);_.J("clpp.events.SC_PLAYLIST_ITEM_CHANGED",_.Rf);
_.J("clpp.events.SC_PLAYLIST_ENDED",_.Qf);_.J("clpp.events.SC_PLAYLIST_LIVE_TURNED_STATIC",_.Sf);_.J("clpp.events.CDN_SWITCH_SUCCESS",_.qd);_.J("clpp.events.ONLINE_STATUS_CHANGED",$e);_.J("clpp.events.CMSD_EVENT","cmsd-event");_.J("clpp.events.YOSPACE_SESSION_STARTED",_.Xg);_.J("clpp.events.YOSPACE_SESSION_ENDED",_.Wg);var om=["play() failed because the user didn't interact","The play method is not allowed by the user agent","The request is not allowed by the user agent or the platform"];_.J("clpp.version",_.ja);_.J("clpp.name",_.va);_.Yl="application/x-mpegurl";_.J("clpp.Type",{DASH:_.Tc,HLS:_.Yl,SMOOTH_STREAMING:_.Yc,MP4:_.Eg,MP3:"audio/mp3"});_.ri="scte35";_.qi="hls-daterange";_.J("clpp.TimelineCueType",{SCTE35:_.ri,DASH_CALLBACK:_.Se,HLS_DATERANGE:_.qi,UNKNOWN:_.sg});_.J("clpp.SpeedUpMode",{DECODER:_.Td,SEEK:"seek"});_.J("clpp.CodecSwitchingStrategy",{PREVENT:_.Ff,SMOOTH:_.$f});_.J("clpp.utils.PlayerConfiguration",qm);qm.create=_.vm;var Lv=["abort",ld,md,he,"emptied",ke,_.me,_.ne,"interruptbegin","interruptend",_.Fe,_.Ge,He,"mozaudioavailable",_.df,_.hf,_.tf,_.Hf,_.Jf,_.Uf,_.Vf,ag,"suspend",_.ng,"volumechange",_.Lg,_.Mg,_.Of,Rg,Qg,Og,Pg];_.x(_.xm,_.nm);_.u=_.xm.prototype;_.u.init=function(a,b){this.configuration=this.Nb=b;this.C=a;this.log.info("Initializing Player surface");var c=this.C.getMedia();this.log.info("Attaching media element listeners");for(var d=_.w(Lv),e=d.next();!e.done;e=d.next())e=e.value,this.N.on(c,e,this.Vi,e!==_.ne);this.td||(this.td=this.qh());this.td.initialize(this);this.C.showMediaElement()};_.u.release=function(){this.V&&(this.V.destroy(),this.V=null);return Promise.resolve()};
_.u.destroy=function(){this.N.release();return this.jg.release()};_.u.canPlay=function(a,b){return _.Lh[this.namespace()].canPlay(a,b)};_.u.getTimeline=function(){return null};_.u.setupPlaylist=function(){return Promise.reject(_.Eb)};_.u.appendLoad=function(){return Promise.reject(_.Eb)};_.u.seekWith=function(){return Promise.reject(_.Eb)};_.u.detach=function(){return Promise.resolve()};_.u.setSeekInterceptor=function(){};_.u.setPlaybackSessionId=function(){};
_.u.play=function(){var a=this;if(!this.$)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.C.getMedia().play();return Promise.resolve(b)["catch"](function(c){a.log.info("Caught play promise exception",c);var d={name:c.name||"",message:c.message||"",stack:c.stack||""};pm(d)?(a.trigger(new _.L(_.gd)),a.log.warn(_.na)):d.name===Fb&&a.log.warn('Unrecognized "NotAllowedError" on play(). '+(c.name+": "+c.message));throw c;})};
_.u.pause=function(){var a=this;return this.$?new Promise(function(b,c){var d=a.getState();if(d!==_.Lp&&d!==_.Np&&d!==_.Up&&d!==_.Tp)c(new _.N(_.P,7,3201,"The player state does not allow pause."));else if(a.C.getMedia().pause(),a.getState()===_.Up)a.N.one(a,_.cg,function(){b()});else b()}):Promise.reject(new _.N(_.P,7,3201,"No sources specified yet. You need to load content before calling pause."))};_.u.isPaused=function(){return this.C.getMedia().paused};_.u.isEnded=function(){return this.C.getMedia().ended};
_.u.getConfiguration=function(){return this.configuration};_.u.setDrmCustomDataModifier=function(a){this.Yc=a};_.u.setCdnErrorCallback=function(a){this.Kc=a};_.u.$c=function(){return this.Yc};_.u.getSurface=function(){return this.C};_.u.getBufferInfo=function(a){var b=this.getSurface().getMedia();return new _.mm(b?b.buffered:void 0,a)};_.u.getPosition=function(){return this.getMediaPosition()};
_.u.getMediaPosition=function(){var a=this.C.getMedia();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.u.seek=function(a){var b=this,c=this.getMediaPosition();if(void 0===a||null===a||typeof a!==_.k||a===c)return Promise.resolve();var d=this.C.getMedia();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.N.one(d,_.Ge,m)}function l(n){var p=b.getMediaPosition(),
q=.1>=Math.abs(a-p),t=.25<p-a,v=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,z=n.type===_.Uf,C=n.type===_.Hf,F=n.type===_.ng,G=C&&v;t=z||q&&G||F&&t;b.log.debug("Checking seeking state after "+n.type+" event. Seek completed:",t,"Current Time:",p,"Target Time:",a,"Native Event:",z,"Time reached",q,"Timeupdate:",F,"Progress:",C,"ReadyState:",v,"Progress Ready:",G);t?(b.kg=!1,b.Td=!1,b.N.off(d,_.Uf,l),b.N.off(d,_.ng,l),b.N.off(d,_.Hf,l),b.vi(),b.trigger(new _.L(_.wg)),f()):C&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),
d.currentTime=a)}function m(){b.trigger(new _.L(_.xg));b.N.on(d,_.Uf,l);b.N.on(d,_.ng,l);b.N.on(d,_.Hf,l);b.log.info("Seeking to "+a+". Delta "+e);b.kg=!0;b.Td=!0;d.currentTime=a}b.getState()===_.Gp?(b.log.debug("Player is in IDLE state. Postpone seek."),b.N.one(b,_.cg,function(){switch(b.getState()){case _.Lp:case _.Up:case _.Tp:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};
_.u.getVolume=function(){var a=this.C.getMedia();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};_.u.setVolume=function(a){var b=this.C.getMedia();b?_.M.sa(a)?0>a||1<a?this.log.warn(ta+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ta+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.u.isMuted=function(){return this.C.getMedia().muted};
_.u.setMuted=function(a){var b=this.C.getMedia();typeof a===_.id&&(b.muted=a)};_.u.getDuration=function(){return this.getMediaDuration()};_.u.getMediaDuration=function(){return this.$?this.C.getMedia().duration:-1};_.u.getTrackManager=function(){return this.td};_.u.getPlaybackRate=function(){var a=this.C.getMedia();return a&&a.playbackRate||1};_.u.setPlaybackRate=function(a){var b=this.C.getMedia();void 0!==a&&b&&(b.playbackRate=a)};_.u.setSourceIndex=function(a){this.Fe=a};_.u.getSourceIndex=function(){return this.Fe};
_.u.getLoadedSource=function(){return this.$&&-1!==this.Fe?this.$[this.Fe]:null};_.u.getPeriods=function(){return[]};_.u.getNetworkEngine=function(){return this.jg};_.u.setNetworkEngine=function(a){this.jg=a};_.u.setCmsdManager=function(a){this.dg=a};_.u.getTextDisplayer=function(){return this.V};_.u.getTimelineCues=function(){return[]};_.u.getCueTimeline=function(){return null};_.u.resetAbr=function(){};
_.u.jn=function(a){var b=this.getSurface().getMedia(),c=this.getPosition(),d="Received Video Element Event: '"+a.type+"' with playhead at: "+c;if(a.type===_.ng||a.type===_.Hf)this.Gg.debug(d);else{var e="";switch(a.type){case _.Jf:e="Rate: "+this.getPlaybackRate();break;case he:e="Duration: "+this.getDuration();break;case "volumechange":e="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case _.hf:case _.tf:case "suspend":case _.Lg:case ag:case _.Vf:case _.Uf:case _.ng:case _.Hf:case ld:case md:b=
this.getBufferInfo().Aa(c);e="State "+this.getSurface().getMedia().readyState+" Buffer: "+b;break;case _.Of:null!=b&&(e="Size: "+b.videoWidth+"x"+b.videoHeight)}e&&(d+=". "+e);this.Gg.info(d)}a.type!==_.ne&&this.trigger(new _.L(a.type,{detail:a}))};_.u.vi=function(){};var Am;Am=new _.K("clpp.Components");_.ym=new Map;_.J("clpp.install",function(a){Im(a)});_.J("clpp.uninstall",function(a){Jm(a)});Km.prototype.release=function(){this.a=this.f=null};_.J("clpp.drm.WidevineRobustnessLevel",{SW_SECURE_CRYPTO:_.Vb,SW_SECURE_DECODE:_.Wb,HW_SECURE_CRYPTO:gb,HW_SECURE_DECODE:hb,HW_SECURE_ALL:eb});_.J("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"});_.J("clpp.drm.KeySystem",{NONE:_.Te,CLEAR_KEY:_.bf,WIDEVINE:_.Pd,PLAYREADY:_.Nd,FAIRPLAY:_.Kd,PRIMETIME:_.Id});_.Om={};_.J("clpp.drm.registerDrmEnvironment",_.Pm);var Sm={V1_STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,
96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,
134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,
185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,
48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,
153,20],V1_PROD:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,
224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,
211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,
28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,
73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244],V2:[10,187,2,8,3,18,16,160,220,209,96,48,44,4,19,213,32,118,162,12,129,36,76,24,191,132,241,238,5,34,142,2,48,130,1,10,2,130,1,1,0,188,93,207,198,77,28,25,14,217,103,5,56,106,241,93,252,216,61,104,36,3,52,23,246,32,9,11,77,12,188,251,189,53,137,249,11,36,52,104,185,13,221,170,204,238,44,227,192,167,199,144,75,188,190,7,211,16,145,75,13,132,119,167,164,29,39,107,69,76,50,161,131,132,248,207,237,214,130,27,113,204,37,77,14,232,248,26,85,213,126,147,7,183,241,23,44,117,142,192,109,70,192,86,166,
21,58,231,13,118,215,58,166,74,44,51,103,50,120,198,197,213,64,34,105,66,115,72,235,88,51,28,238,54,93,147,140,187,28,173,50,109,5,234,155,141,29,52,234,135,38,55,103,111,116,98,171,210,13,211,129,249,70,57,64,155,151,38,8,225,188,229,3,247,234,26,46,91,211,250,252,38,87,111,205,37,108,74,168,112,74,116,191,73,170,243,167,54,36,20,23,72,67,35,181,159,241,102,250,221,22,18,92,161,54,236,172,183,214,18,160,199,92,46,171,180,211,90,64,62,144,121,201,77,74,211,17,244,49,124,244,120,116,148,234,184,79,
136,12,176,34,231,39,149,87,28,219,2,3,1,0,1,58,12,99,97,115,116,108,97,98,115,46,99,111,109,64,1,18,128,3,50,97,151,165,120,63,210,172,84,187,10,36,166,202,149,32,118,107,37,251,186,217,170,254,4,95,20,85,66,157,43,154,24,66,136,147,101,223,78,204,173,228,175,111,100,168,97,164,222,84,160,51,79,233,227,223,105,252,85,11,242,129,199,206,11,9,236,118,163,118,204,179,159,69,108,223,229,114,176,8,26,36,9,23,103,233,62,55,162,154,209,96,98,102,80,173,114,233,213,36,56,135,65,188,245,176,95,70,189,199,
143,81,72,182,124,207,225,238,28,172,144,110,89,44,12,137,51,52,239,130,117,119,15,207,200,229,142,166,8,80,79,111,255,191,70,47,189,108,75,234,184,241,119,21,255,98,167,124,132,30,239,102,113,7,132,96,39,134,123,220,209,255,110,222,35,147,0,77,125,253,129,139,66,158,126,221,13,117,113,163,143,235,9,130,180,3,133,94,152,45,199,69,168,182,95,122,82,25,203,10,99,191,186,193,238,225,224,140,156,142,171,110,26,214,32,240,6,218,138,10,47,114,133,17,1,151,43,213,223,198,210,186,81,18,50,221,84,177,180,
26,58,164,235,113,177,235,207,22,230,8,119,76,167,166,176,173,209,214,53,116,116,231,227,221,238,174,87,249,19,166,195,81,47,210,172,15,75,251,202,192,80,85,213,23,17,178,104,181,193,115,239,91,72,230,167,55,143,10,250,26,54,8,60,13,213,206,235,3,215,179,205,232,1,144,158,35,48,196,149,117,219,63,196,130,117,40,165,193,65,215,122,44,201,218,67,216,6,131,178,5,168,229,21,137,112,215,254,127,48,160,181,68,49,255,64,46,247,236,85,155,146,208,5,219,252,37,174,31,218,136,135,55,119,112]};_.Um.prototype.Ya=function(a,b){this.f[a]=b};_.J("clpp.drm.DrmEnvironment",_.Um);_.Um.prototype.setDrmSystem=_.Um.prototype.Ya;_.Vm.prototype.getPosition=function(){return this.a};_.Vm.prototype.Oa=function(){return this.f.byteLength};_.Vm.prototype.seek=function(a){(0>a||a>=this.f.byteLength)&&_.Wm();this.a=a};_.Ym.prototype.getPosition=function(){return this.a};_.Ym.prototype.Oa=function(){return this.f.byteLength};_.Ym.prototype.skip=function(a){this.a+a>this.f.byteLength&&_.$m();this.a+=a};_.Ym.prototype.seek=function(a){if(0>a||a>=this.f.byteLength)throw _.$m();this.a=a};_.J("clpp.utils.dataview.DataViewReader",_.Ym);_.u=_.gn.prototype;_.u.M=function(a,b){var c=ln(a);this.h[c]=Mv;this.f[c]=b;return this};_.u.Y=function(a,b){var c=ln(a);this.h[c]=Nv;this.f[c]=b;return this};_.u.stop=function(){this.a=!0};_.u.parse=function(a,b){var c=_.zj(a);c=new _.Ym(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.Zm(c)&&!this.a;)this.Se(0,c,b)};
_.u.Se=function(a,b,c){var d=b.getPosition(),e=_.W(b),f=_.W(b),g=!1;this.g.debug("Parsing MP4 box",_.mn(f));switch(e){case 0:e=b.Oa()-d;break;case 1:e=_.dn(b),g=!0}var h=this.f[f];if(h){var l=null,m=null;this.h[f]===Nv&&(m=_.W(b),l=m>>>24,m&=16777215);f=b.getPosition()-d;var n=d+e;c&&n>b.Oa()&&(n=b.Oa());n-=b.getPosition();b=0<n?_.fn(b,n):new Uint8Array(0);b=new _.Ym(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);h({parser:this,partialOkay:c||!1,version:l,flags:m,reader:b,size:e,start:d+a,headerSize:f,
has64BitSize:g})}else a=Math.min(d+e-b.getPosition(),b.Oa()-b.getPosition()),b.skip(a)};_.J("clpp.utils.Mp4Parser",_.gn);_.gn.typeToString=_.mn;_.gn.allData=_.kn;_.gn.sampleDescription=_.jn;_.gn.children=_.hn;_.gn.prototype.parseNext=_.gn.prototype.Se;_.gn.prototype.parse=_.gn.prototype.parse;_.gn.prototype.stop=_.gn.prototype.stop;_.gn.prototype.fullBox=_.gn.prototype.Y;_.gn.prototype.box=_.gn.prototype.M;_.gn.headerSize=_.nn;var Mv=0,Nv=1;_.J("clpp.utils.FairplayUtils",on);on.parseFairPlayResponse=_.un;on.formatFairPlayRequest=_.tn;on.createFairplayPayload=sn;on.extractContentId=_.qn;on.extractExtXKeyUri=pn;var Fn=new _.K("clpp.drm.DrmToday"),wn="PRODUCTION",xn="STAGING",yn="TEST",Ov={PRODUCTION:wn,STAGING:xn,TEST:yn};_.J("clpp.drm.DrmToday.Environment",Ov);_.J("clpp.drm.DrmToday.WidevineCertificates",{V1_PROD:"V1_PROD",V1_STAGING:"V1_STAGING",V2:"V2"});
for(var An="/license-proxy-widevine/cenc/",Bn="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Cn="/license-server-fairplay/",On={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",10001:"Bad Request",3E4:"General DRM error",4E4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41E3:"General Widevine Classic error",
42E3:"General Playready error",43E3:"General Fairplay error",44E3:"General OMA error",44001:"OMA Device registration failed",45E3:"General CDRM error",45001:"CDRM Device registration failed",6E4:"CSL",60001:"CSL - INVALID",60100:"CSL - Denied by Stream Limiting",7E4:"General Output Protection",70001:"All keys filtered by EOP settings",8E4:"TAKE DOWN",80001:"TAKE DOWN - Denied by Take Down",9E4:"General GBL error",90001:"License delivery prohibited in your region"},Pv={video:[eb,hb,gb,_.Wb,_.Vb],audio:[eb,
hb,gb,_.Wb,_.Vb]},Qv={video:["3000","2000","150"],audio:["2000","150"]},Rv=_.w(Object.keys(Ov)),Sv=Rv.next();!Sv.done;Sv=Rv.next()){var vn=Sv.value,Tv=Da;vn!==wn&&(Tv+="_"+vn);var Uv=new _.Um(Tv),Vv=null;switch(vn){case wn:case xn:Vv=Tm("V2");break;case yn:Vv=null}Uv.Ya(_.Pd,{licenseUrl:Dn(_.Pd),videoRobustness:Pv.video,audioRobustness:Pv.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:Vv,modifiers:{licenseRequest:_.In,licenseResponse:_.Nn}});Uv.Ya(_.Kd,{licenseUrl:Dn(_.Kd),
certificateUrl:zn()+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.Kn,licenseResponse:_.Ln,extractContentId:_.Gn,certificateRequest:_.Mn}});Uv.Ya(_.Nd,{licenseUrl:Dn(_.Nd),videoRobustness:Qv.video,audioRobustness:Qv.audio,modifiers:{licenseRequest:Jn}});_.Pm(Uv)};_.J("clpp.drm.eme.EmeFactory",Qn);var Rn=[];Qn.Apis={STANDARD:Tb,APPLE:"APPLE",WEBKIT:"WEBKIT",NOP:"NOP"};var $n;_.ho=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];$n=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];_.x(Zn,Yn);_.x(_.co,Yn);var jo=!!(performance&&performance.mark&&performance.measure);to.prototype.j=function(a){if(1<a.version)_.Dh("Unrecognized PSSH version found!");else{var b=_.Nj(_.fn(a.reader,16)),c=[];if(0<a.version)for(var d=_.W(a.reader),e=0;e<d;++e){var f=_.Nj(_.fn(a.reader,16));c.push(f)}d=_.W(a.reader);a.reader.skip(d);this.h.push.apply(this.h,c);this.f.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.reader.getPosition()!==a.reader.Oa()&&_.Dh("Mismatch between box size and data size!")}};_.u=_.xo.prototype;_.u.destroy=function(){var a=this;return _.I(function(b){if(1==b.a){if(a.j)return _.y(b,a.ta,0);a.j=!0;return _.y(b,zo(a),4)}a.ta.resolve();return b.F(0)})};_.u.keySystem=function(){return this.a?_.cp(this.a.keySystem):""};_.u.getDrmInfo=function(){return this.a};
_.u.si=function(a){var b=this,c,d,e;return _.I(function(f){if(1==f.a){if(b.G&&b.K===Ao)return f["return"]();c=Math.floor(a.timeStamp);d="drm.msg."+c+ia;e="drm.msg."+c+".end";_.ko(d);return!b.h.delayLicenseRequestUntilPlayed||b.B&&!b.B.paused||b.za?_.y(f,np(b,a),2):(b.ca.push(a),f.F(2))}_.ko(e);_.so("drm.sess.msg."+c,d,e);_.A(f)})};
_.u.mi=function(a){var b=this,c=a.target;this.g.info("Key status changed for session",c.sessionId);var d=this.f.get(c),e=!1;c.keyStatuses.forEach(function(g,h){if(typeof h===_.fg){var l=h;h=g;g=l}if(jp(b.a.keySystem)&&16===h.byteLength&&_.rl()){l=_.Gj(h);var m=l.getUint32(0,!0),n=l.getUint16(4,!0),p=l.getUint16(6,!0);l.setUint32(0,m,!1);l.setUint16(4,n,!1);l.setUint16(6,p,!1)}d&&g!==dg&&(d.loaded=!0);d&&d.Sa&&d.Sa.resolve();"expired"===g&&(e=!0);l=_.zj(h);var q=_.Nj(l);"00"===q&&d&&d.keyId?q=d.keyId:
b.a.keySystem.startsWith(_.Kd)&&16!==l.byteLength&&(q=_.R.fromCharCode(l));(l=q||"")?b.g.info(pb+q+"': "+g):b.g.info("Key status global keys: "+g);b.o.set(l,g);d&&!d.keyId&&b.f.forEach(function(t,v){v===c||t.keyId!==q||t.loaded||(t.loaded=!0)})});d&&d.loaded&&d.kb.forEach(function(g){b.o.get(g)===dg&&(b.g.warn(pb+g+fa),b.o.set(g,_.cf))});for(a=0;a<this.a.initData.length;a++){var f=this.a.initData[a];f.keyId&&this.o.get(f.keyId)===dg&&_.Oj(f.initData,d.initData)&&(this.g.warn(pb+f.keyId+fa),this.o.set(f.keyId,
_.cf))}a=c.expiration-Date.now();(0>a||e&&1E3>a)&&d&&!d.Lb&&(this.g.debug("Session has expired",c.sessionId),(a=this.f.get(c))&&a.Wc&&a.Wc.stop(),this.f["delete"](c),c.close()["catch"](function(){}));ep(this)&&(this.H.resolve(),1!==this.f.size||e?this.ba.ea(.5):vo(this))};var Ao=0,uo=3;_.rp=new Map;_.sp=new _.K("clpp.text");_.Bp.prototype.getStats=function(){return{width:this.w,height:this.h,streamBandwidth:this.o,decodedFrames:this.j,droppedFrames:this.l,corruptedFrames:this.C,estimatedBandwidth:this.f,loadLatency:this.A,playTime:xp(this.a,_.Up),pauseTime:xp(this.a,_.Tp),bufferingTime:xp(this.a,_.Lp),stateHistory:yp(this.a),switchHistory:Ap(this.B)}};_.Dp.prototype.value=function(){void 0===this.a&&(this.a=this.f());return this.a};var Ep=new _.Dp(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,_.Ge],[HTMLMediaElement.HAVE_CURRENT_DATA,_.Fe],[HTMLMediaElement.HAVE_FUTURE_DATA,ld],[HTMLMediaElement.HAVE_ENOUGH_DATA,md]])});Jp.prototype.ib=function(a,b){this.m&&this.m.trigger(new _.L(a,{detail:b}))};Jp.prototype.getState=function(){return Mp(this,"")};Jp.prototype.S=function(a){(a=a&&a.detail)&&a.severity&&a.severity===_.P&&Qp(this,_.Rp)};Jp.prototype.destroy=function(){this.g.debug("Stop watching for video events for "+this.m.namespace());this.a.release()};_.J("clpp.utils.media.detectType",Wp);var Zp=new _.K("clpp.sources");_.x($p,_.xm);_.u=$p.prototype;_.u.init=function(a,b){_.xm.prototype.init.call(this,a,b);this.j=new Jp(this);Qp(this.j,_.Gp)};_.u.namespace=function(){return Dd};
_.u.unload=function(){var a=this,b;return _.I(function(c){if(!a.$)return c.F(0);a.log.debug("Releasing player with source",a.$);a.B&&(a.B.stop(),a.B=null);(b=a.getTrackManager())&&b.release();a.A&&(a.A.destroy(),a.A=null);a.V&&(a.V.destroy(),a.V=null);a.l&&a.l.release();a.o&&(a.o.destroy(),a.o=null);_.Vh(a.h);a.f&&(a.f=new _.Bp);a.G=null;a.$=null;a.H=!1;a.a&&(a.a.removeAttribute("src"),a.a.load());return _.y(c,dq(a),0)})};
_.u.release=function(){var a=this;return _.xm.prototype.release.call(this).then(function(){return a.unload()}).then(function(){a.j&&Qp(a.j,_.Gp)})};
_.u.destroy=function(){var a=this;if(this.w)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.w=!0;return _.xm.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(Ga);var b=a.getTrackManager();b&&b.destroy();a.l&&(a.l.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.l=null);a.j&&(a.j.destroy(),a.j=null);a.f=null})};_.u.getDrmInfo=function(){return this.o?this.o.getDrmInfo():null};
_.u.getTrackManager=function(){return this.td};
_.u.load=function(a){var b=this,c,d,e,f,g;return _.I(function(h){switch(h.a){case 1:if(b.w)return h["return"](aq());if(!b.getSurface()||!b.getSurface().getMedia())return h["return"](Promise.reject("No surface or no media element in surface"));c=_.M;d=b.C.getMedia();b.I=Date.now()/1E3;b.f=new _.Bp;b.h.on(b,_.cg,function(){b.f&&_.wp(b.f.a,b.getState())});Qp(b.j,_.Sp);b.$=_.Yp(a);b.configuration=_.vm(b.Nb,a);b.log.debug(_.tb,b.configuration);b.log.debug(_.Mb,b.$);e=_.up(b.configuration,[_.ue,"native"]);
b.V=e.create(b);b.V.setTextVisibility(!0);b.configuration.enableHtmlCue&&_.zm(_.jg)&&!_.yl()&&(b.A=new Li(b),b.A.start(d));b.l?b.l.release():b.l=new Xh(b);d.textTracks&&$h(b.l,d.textTracks);f=b.getTrackManager();f.load();d.loop=!!b.configuration.loop;c.R(b.configuration.volume)||b.setVolume(b.configuration.volume);c.R(b.configuration.muted)||b.setMuted(b.configuration.muted);b.h.one(d,ld,function(){b.trigger(new _.L(_.Kv))});null==b.configuration.startTime&&iq(b,d);_.wl()&&jq(b,d);_.D(h,2);return _.y(h,
cq(b,d),4);case 4:return _.y(h,fq(b),5);case 5:return _.y(h,hq(b).U,6);case 6:_.oh(h,0);break;case 2:g=_.E(h),b.H=!1,b.onError(g),_.A(h)}})};_.u.onError=function(a){this.H||(a.severity===_.P&&null!==this.j&&Qp(this.j,_.Rp),this.trigger(new _.L(_.ne,{detail:a})))};_.u.qh=function(){return new Sl};_.u.getState=function(){return null!==this.j?this.j.getState().currentState:_.Hp};
_.u.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var a=this.a.getStartDate();return isNaN(a.getTime())?null:a.getTime()/1E3}return null};_.u.getSeekRange=function(){var a=this.getSurface().getMedia();if(a&&a.src){a=a.seekable;if(a.length)return this.G=a={start:a.start(0),end:a.end(a.length-1)};if(this.G)return this.G}return{start:0,end:0}};_.u.isLive=function(){return this.a&&this.a.src?Infinity===this.a.duration:!1};
_.u.getStats=function(){if(!this.f||!this.a)return _.Cp();this.f&&_.wp(this.f.a,this.getState());var a=this.a,b=this.f,c=a.videoHeight;b.w=a.videoWidth;b.h=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.f,c=Number(a.totalVideoFrames),b.l=Number(a.droppedVideoFrames),b.j=c,this.f.C=Number(a.corruptedVideoFrames));if(a=this.getTrackManager())if(a=a.ja())a.bandwidth&&(this.f.o=a.bandwidth),a.sd&&(this.f.f=a.sd);return this.f.getStats()};
_.u.getTimelineCues=function(){return this.l?this.l.getTimelineCues():[]};_.u.getCueTimeline=function(){return null};kq.prototype.a=function(){return Dd};kq.prototype.canPlay=function(a,b){var c=a.type||"",d=c===_.Tc,e=c===_.Yc,f=c===_.Yl;return _.vl()||d||e||f&&!_.wl()?0:""!==Bl().canPlayType(c)?f&&_.wl()&&(window.ManagedMediaSource||window.MediaSource&&MediaSource.isTypeSupported)&&!b.streaming.preferNativeHlsOnSafari?1:2:0};kq.prototype.f=function(a){return a===_.pa};kq.prototype.create=function(){return new $p};
_.Nh(new kq);_.J("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.J("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1,SERVER_GUIDED:2});_.J("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var mq=new _.K("clpp.ads"),lq=[];_.u=pq.prototype;_.u.load=function(){};_.u.start=function(){};_.u.Tc=function(){};_.u.resume=function(){};_.u.pause=function(){};_.u.skip=function(){};_.u.getVolume=function(){};_.u.setVolume=function(){};_.u.getPosition=function(){};_.u.pc=function(){};_.u.Pc=function(){};_.J("clpp.ads.IAdsManager",pq);pq.prototype.getPosition=pq.prototype.getPosition;pq.prototype.setVolume=pq.prototype.setVolume;pq.prototype.getVolume=pq.prototype.getVolume;pq.prototype.skip=pq.prototype.skip;
pq.prototype.pause=pq.prototype.pause;pq.prototype.resume=pq.prototype.resume;_.u=qq.prototype;_.u.nb=function(){};_.u.ob=function(){};_.u.rb=function(){};_.u.getId=function(){};_.u.getCreativeId=function(){};_.u.getApiFramework=function(){};_.u.getAdSystem=function(){};_.u.getAdvertiserName=function(){};_.u.getTitle=function(){};_.u.getDuration=function(){};_.u.getPosition=function(){};_.u.getSkipTimeOffset=function(){};_.u.Tb=function(){};_.u.pb=function(){};_.u.getMediaUrl=function(){};_.u.eb=function(){};_.u.cb=function(){};_.u.Pa=function(){};_.u.Qa=function(){};
_.u.getPodIndex=function(){};_.u.Cb=function(){};_.u.Db=function(){};_.u.fb=function(){};_.u.getWrapperAdIds=function(){};_.u.getWrapperAdSystems=function(){};_.u.getWrapperCreativeIds=function(){};_.J("clpp.ads.IAd",qq);qq.prototype.getWrapperCreativeIds=qq.prototype.getWrapperCreativeIds;qq.prototype.getWrapperAdSystems=qq.prototype.getWrapperAdSystems;qq.prototype.getWrapperAdIds=qq.prototype.getWrapperAdIds;qq.prototype.getSequenceLength=qq.prototype.fb;qq.prototype.getPositionInSequence=qq.prototype.Db;
qq.prototype.getPodTimeOffset=qq.prototype.Cb;qq.prototype.getPodIndex=qq.prototype.getPodIndex;qq.prototype.getPodType=qq.prototype.Qa;qq.prototype.getMediaBitrate=qq.prototype.Pa;qq.prototype.getMediaHeight=qq.prototype.cb;qq.prototype.getMediaWidth=qq.prototype.eb;qq.prototype.getMediaUrl=qq.prototype.getMediaUrl;qq.prototype.getClickThroughUrl=qq.prototype.pb;qq.prototype.isBumper=qq.prototype.Tb;qq.prototype.getSkipTimeOffset=qq.prototype.getSkipTimeOffset;qq.prototype.getPosition=qq.prototype.getPosition;
qq.prototype.getDuration=qq.prototype.getDuration;qq.prototype.getTitle=qq.prototype.getTitle;qq.prototype.getAdvertiserName=qq.prototype.getAdvertiserName;qq.prototype.getAdSystem=qq.prototype.getAdSystem;qq.prototype.getApiFramework=qq.prototype.getApiFramework;qq.prototype.getCreativeId=qq.prototype.getCreativeId;qq.prototype.getId=qq.prototype.getId;qq.prototype.getTechnology=qq.prototype.rb;qq.prototype.getAdManagerVersion=qq.prototype.ob;qq.prototype.getAdManagerName=qq.prototype.nb;_.u=rq.prototype;_.u.nb=function(){return""};_.u.ob=function(){return""};_.u.rb=function(){return 2};_.u.getId=function(){return""};_.u.getCreativeId=function(){return""};_.u.getApiFramework=function(){return null};_.u.getAdSystem=function(){return""};_.u.getAdvertiserName=function(){return""};_.u.getTitle=function(){return""};_.u.getDuration=function(){return this.h};_.u.getPosition=function(){return this.j};_.u.getSkipTimeOffset=function(){return-1};_.u.Tb=function(){return!1};_.u.pb=function(){return null};
_.u.getMediaUrl=function(){return null};_.u.eb=function(){return 0};_.u.cb=function(){return 0};_.u.Pa=function(){return 0};_.u.Qa=function(){return this.A};_.u.getPodIndex=function(){return 0};_.u.Cb=function(){return 0};_.u.Db=function(){return this.a};_.u.fb=function(){return this.f};_.u.getWrapperAdIds=function(){return[]};_.u.getWrapperAdSystems=function(){return[]};_.u.getWrapperCreativeIds=function(){return[]};rq.prototype.getWrapperCreativeIds=rq.prototype.getWrapperCreativeIds;
rq.prototype.getWrapperAdSystems=rq.prototype.getWrapperAdSystems;rq.prototype.getWrapperAdIds=rq.prototype.getWrapperAdIds;rq.prototype.getSequenceLength=rq.prototype.fb;rq.prototype.getPositionInSequence=rq.prototype.Db;rq.prototype.getPodTimeOffset=rq.prototype.Cb;rq.prototype.getPodIndex=rq.prototype.getPodIndex;rq.prototype.getPodType=rq.prototype.Qa;rq.prototype.getMediaBitrate=rq.prototype.Pa;rq.prototype.getMediaHeight=rq.prototype.cb;rq.prototype.getMediaWidth=rq.prototype.eb;
rq.prototype.getMediaUrl=rq.prototype.getMediaUrl;rq.prototype.getClickThroughUrl=rq.prototype.pb;rq.prototype.isBumper=rq.prototype.Tb;rq.prototype.getSkipTimeOffset=rq.prototype.getSkipTimeOffset;rq.prototype.getPosition=rq.prototype.getPosition;rq.prototype.getDuration=rq.prototype.getDuration;rq.prototype.getTitle=rq.prototype.getTitle;rq.prototype.getAdvertiserName=rq.prototype.getAdvertiserName;rq.prototype.getAdSystem=rq.prototype.getAdSystem;rq.prototype.getApiFramework=rq.prototype.getApiFramework;
rq.prototype.getCreativeId=rq.prototype.getCreativeId;rq.prototype.getId=rq.prototype.getId;rq.prototype.getTechnology=rq.prototype.rb;rq.prototype.getAdManagerVersion=rq.prototype.ob;rq.prototype.getAdManagerName=rq.prototype.nb;sq.prototype.has=function(){return this.a.some(function(a){return a.pe})};sq.prototype.get=function(){var a=this,b;return _.I(function(c){if(1==c.a){b=a.a.find(function(d){return d.pe});if(!b)throw Error("No available players in the pool");b.pe=!1;return _.y(c,b.ready,2)}return c["return"](b.player)})};
sq.prototype.release=function(a){var b=this,c=this.a.find(function(d){return d.player===a});if(!c)return Promise.resolve();c.pe=!0;c.ready=new Promise(function(d){a.release()["catch"](function(e){b.g.error("Failed to unload player",e)}).then(d)});return c.ready};sq.prototype.destroy=function(){var a=this;return _.I(function(b){return _.y(b,Promise.all(a.a.map(function(c){return c.player.destroy()})),0)})};_.J("clpp.utils.dom.createHTMLElement",_.wq);xq.prototype.set=function(a){this.h.clear();this.f&&(this.f.disconnect(),this.f=null);if(this.a=a)this.f=zq(this,a)};xq.prototype.get=function(){return this.a};_.u=Dq.prototype;_.u.getMedia=function(){return this.f.get()};_.u.getContainer=function(){return this.a.get()};_.u.getSafeContainer=function(){return this.a};_.u.getId=function(){return this.l};_.u.getUniqueCssClass=function(){return this.o};_.u.getCastElement=function(){return this.h};_.u.isFullscreen=function(){return!!document.fullscreenElement};_.u.hideMediaElement=function(){var a=this.getMedia();a?_.uq(a,xd):this.g.debug("No media element available that could be hidden")};
_.u.showMediaElement=function(){var a=this.getMedia();a?a.classList.remove(xd):this.g.debug("No media element available that could be shown")};_.u.addElementToContainer=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;var d=this.getContainer();if(!d)throw Error("No container is available. Unable to add element");b&&_.uq(a,_.wd);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};
_.u.removeElementFromContainer=function(a){var b=this.getContainer();if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};_.u.hide=function(a){_.uq(a,xd)};_.u.show=function(a){a.classList.remove(xd)};_.u.release=function(){this.j.release()};Dq.prototype.removeElementFromContainer=Dq.prototype.removeElementFromContainer;Dq.prototype.addElementToContainer=Dq.prototype.addElementToContainer;Dq.prototype.getCastElement=Dq.prototype.getCastElement;
Dq.prototype.getContainer=Dq.prototype.getContainer;Dq.prototype.getMedia=Dq.prototype.getMedia;var Aq={disableContainer:!1,webOSStartupPatch:!0,crossorigin:"anonymous",containerEl:null},Bq=1;_.u=Hq.prototype;_.u.getCurrentItem=function(){return this.a};_.u.Ae=function(){return this.a?this.a.player:null};_.u.Gh=function(){return Array.from(this.l.values())};_.u.Rd=function(){return 0<this.l.size};_.u.play=function(a){return Wq(this,a,_.hf)};_.u.load=function(a){return Wq(this,a,_.Ee)};_.u.release=function(){var a=this;return _.I(function(b){if(1==b.a)return _.y(b,Promise.all([Uq(a),a.a?Tq(a,a.a):Promise.resolve()]),2);a.a=null;a.w=!1;Lq(a);_.A(b)})};
_.u.destroy=function(){var a=this;return _.I(function(b){if(1==b.a)return a.g.info("Destroy"),_.y(b,a.release(),2);if(3!=b.a)return _.y(b,a.o.destroy(),3);hr(a);_.A(b)})};var cr="preload",er=_.Ie;_.x(nr,_.nm);nr.prototype.destroy=function(){var a=this;return _.I(function(b){yr(a);a.f=[];a.o=!1;a.j.setSeekInterceptor(null);return _.y(b,a.a.destroy(),0)})};nr.prototype.Fb=function(){return this.o};nr.prototype.isLive=function(){var a=this.a.Ae();return a?a.isLive():null};nr.prototype.ib=function(a){this.j.trigger(a)};var jr=0,Er=1,Fr=2,Gr=3,Jr=4,Kr=5,kr=6;_.u=Mr.prototype;_.u.load=function(){return Promise.resolve()};_.u.start=function(){return Promise.resolve()};_.u.Tc=function(a,b,c){var d=a.getConfiguration();a=Object.assign({},{config:d,player:a,Ba:b},d.ads.hls||{},{bn:c});this.a=new nr(a);qr(this.a)};_.u.resume=function(){var a=or(this.a);a&&a.play()};_.u.pause=function(){var a=or(this.a);a&&a.pause()};_.u.skip=function(){};_.u.getVolume=function(){var a=or(this.a);return a?a.getVolume()||0:0};_.u.setVolume=function(a){var b=or(this.a);if(b)return b.setVolume(a)};
_.u.getPosition=function(){var a=or(this.a);return a?a.getPosition():-1};_.u.Pc=function(){return!this.a.Fb()};_.u.pc=function(){return this.a.destroy()};Mr.prototype.getPosition=Mr.prototype.getPosition;Mr.prototype.setVolume=Mr.prototype.setVolume;Mr.prototype.getVolume=Mr.prototype.getVolume;Mr.prototype.skip=Mr.prototype.skip;Mr.prototype.pause=Mr.prototype.pause;Mr.prototype.resume=Mr.prototype.resume;Pr.prototype.release=function(){this.a.release();Tr(this);this.m=null};_.J("clpp.polyfill.installAll",Wr);var Vr=[];_.J("clpp.polyfill.register",_.Xr);var $r={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},rm="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g";var os="vod",ns="live";var ws,us,vs;rs.prototype.release=function(){this.a=null;this.f.ae(this.h)};_.Wv="maxSuggestedBitrateKbps";ws={du:"duress",etp:_.oe,mb:_.Wv,rd:"responseDelay",rtt:"roundTripTime"};us={at:"availabilityTime",br:"encodedBitrateKbps",ht:"heldTime",n:"intermediaryIdentifier",nor:"nextObjectResponse",nrr:"nextRangeResponse",d:"objectDuration",ot:"objectType",su:"startup",st:"streamType",sf:"streamingFormat",v:zg};vs=new _.K("clpp.net.CmsdManager");_.x(X,_.nm);_.u=X.prototype;_.u.on=function(a,b,c){return _.nm.prototype.on.call(this,a,b,c)};_.u.one=function(a,b,c){return _.nm.prototype.one.call(this,a,b,c)};_.u.off=function(a,b){return _.nm.prototype.off.call(this,a,b)};_.u.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.L(_.ne,{detail:a}))};_.u.Nd=function(a){a=this.L[a];void 0===a&&(a=null);return a};_.u.getSurface=function(){return this.j};_.u.getConfiguration=function(){return _.M.bb(this.f)};
_.u.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.u.detach=function(){return this.a?this.a.detach():Promise.resolve()};_.u.release=function(){var a=this;if(null!=this.l)return this.g.info("Player release already in progress"),this.l;this.g.debug("Releasing player");this.l=Ds(this);return this.l["finally"](function(){Ns(a);a.g.debug("Player released");a.l=null})};
_.u.destroy=function(){var a=this;if(this.V)return this.g.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.V=!0;return this.release().then(function(){a.g.debug(Ga);a.trigger(new _.L("destroying"));return a.zc(_.Xe)}).then(function(){a.a&&a.a.stopForwardingEventsTo(a);a.Hd.clear();a.Nb.release();if(a.a)return a.a.destroy()}).then(function(){return a.J.destroy()}).then(function(){Hm();a.a=null;a.A=null;a.trigger(new _.L("destroyed"))})};
_.u.load=function(a){var b=this,c,d,e;return _.I(function(f){switch(f.a){case 1:_.D(f,2);_.ko(qf);b.P=_.pa;b.ga=!0;c=_.Yp(a);d=wm(a)?a:{};if(d.license)throw new _.N(_.P,7,7100,"License cannot be passed into the load method.");return _.y(f,_.Ls(b,d,c),4);case 4:return _.y(f,_.Ms(b),5);case 5:return _.y(f,_.Gs(b),6);case 6:_.ko(pf);_.so("player.load",qf,pf);_.oh(f,0);break;case 2:e=_.E(f);Ns(b);if(b.l)throw b.g.info(sb),new _.N(_.P,7,7E3);throw e;}})};
_.u.preload=function(a){var b=this,c;return _.I(function(d){if(1==d.a)return _.y(d,_.Ls(b,a),2);if(!b.a)return b.g.warn(Lb),d["return"]();c=b.a;return c.preload?_.y(d,c.preload(b.f),0):(b.g.warn(Pb),d["return"]())})};_.u.zc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!this.ga)return Promise.resolve();var e=this;d=this.fa.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.ah(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};
_.u.use=function(a){(a=Im(a))&&a.o(this)};_.u.remove=function(a){return(this.getState()<=_.Gp||this.Z)&&null!==Cm(a)?(Jm(a),this.ba=!0):!1};_.u.play=function(){return this.a?!this.h||this.h instanceof Mr||this.a.namespace()===_.Ad?this.a.play():this.h.start(this.a):Promise.reject("No player initialized. You need to load content before calling play.")};_.u.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};
_.u.getTrackManager=function(){return this.a&&this.a.getTrackManager()};_.u.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.mm};_.u.getState=function(){return this.a?this.a.getState():_.Gp};_.u.getPeriods=function(){return this.a?this.a.getPeriods():[]};_.u.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.u.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.u.getPosition=function(){return this.a?this.a.getPosition():0};
_.u.seek=function(a){return this.getState()===_.Rp?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.u.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():null};_.u.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.u.uc=function(){var a=this.a;return a&&a.uc?a.uc():null};_.u.getVolume=function(){return this.a?this.a.getVolume():null};_.u.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.u.getDuration=function(){return this.a?this.a.getDuration():-1};_.u.getAdsManager=function(){return this.h};_.u.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.u.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.u.setPlaybackRate=function(a,b){this.a&&this.a.setPlaybackRate(a,b)};_.u.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.u.setMuted=function(a){this.a&&this.a.setMuted(a)};_.u.getNetworkEngine=function(){return this.J};
_.u.setNetworkEngine=function(a){this.J=a};_.u.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()};_.u.isLive=function(){return!!this.a&&this.a.isLive()};_.u.getStats=function(){return this.a?this.a.getStats():null};_.u.Mh=function(){return Object.freeze(this.za)};_.u.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};_.u.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.u.getCueTimeline=function(){return this.a?this.a.getCueTimeline():null};
_.u.resetAbr=function(){this.a&&this.a.resetAbr()};_.u.setDrmCustomDataModifier=function(a){this.Yc=a;Js(this)};_.u.setCdnErrorCallback=function(a){this.N=a;this.a&&this.a.setCdnErrorCallback(this.N)};_.u.hi=function(){this.Cf=!0};_.J("clpp.Player",X);X.registerPlugin=_.Qs;X.prototype.setCdnErrorCallback=X.prototype.setCdnErrorCallback;X.prototype.setDrmCustomDataModifier=X.prototype.setDrmCustomDataModifier;X.prototype.resetAbr=X.prototype.resetAbr;X.prototype.getTimelineCues=X.prototype.getTimelineCues;
X.prototype.getLoadedSource=X.prototype.getLoadedSource;X.prototype.getSources=X.prototype.Mh;X.prototype.getStats=X.prototype.getStats;X.prototype.isLive=X.prototype.isLive;X.prototype.getTextDisplayer=X.prototype.getTextDisplayer;X.prototype.setNetworkEngine=X.prototype.setNetworkEngine;X.prototype.getNetworkEngine=X.prototype.getNetworkEngine;X.prototype.setMuted=X.prototype.setMuted;X.prototype.isMuted=X.prototype.isMuted;X.prototype.setPlaybackRate=X.prototype.setPlaybackRate;
X.prototype.getPlaybackRate=X.prototype.getPlaybackRate;X.prototype.namespace=X.prototype.namespace;X.prototype.getAdsManager=X.prototype.getAdsManager;X.prototype.getDuration=X.prototype.getDuration;X.prototype.setVolume=X.prototype.setVolume;X.prototype.getVolume=X.prototype.getVolume;X.prototype.getTimelineOffset=X.prototype.uc;X.prototype.getSeekRange=X.prototype.getSeekRange;X.prototype.getPresentationStartTime=X.prototype.getPresentationStartTime;X.prototype.seek=X.prototype.seek;
X.prototype.getPosition=X.prototype.getPosition;X.prototype.isPaused=X.prototype.isPaused;X.prototype.isEnded=X.prototype.isEnded;X.prototype.getState=X.prototype.getState;X.prototype.getBufferInfo=X.prototype.getBufferInfo;X.prototype.getTrackManager=X.prototype.getTrackManager;X.prototype.pause=X.prototype.pause;X.prototype.play=X.prototype.play;X.prototype.remove=X.prototype.remove;X.prototype.use=X.prototype.use;X.prototype.load=X.prototype.load;X.prototype.destroy=X.prototype.destroy;
X.prototype.release=X.prototype.release;X.prototype.getDrmInfo=X.prototype.getDrmInfo;X.prototype.getConfiguration=X.prototype.getConfiguration;X.prototype.getSurface=X.prototype.getSurface;X.prototype.getPlugin=X.prototype.Nd;X.prototype.off=X.prototype.off;X.prototype.one=X.prototype.one;X.prototype.on=X.prototype.on;_.Gp=0;_.Sp=1;_.Lp=2;_.Up=3;_.Tp=4;_.Np=5;_.Rp=6;_.Hp=7;_.Pp={IDLE:_.Gp,PREPARING:_.Sp,BUFFERING:_.Lp,PLAYING:_.Up,PAUSED:_.Tp,ENDED:_.Np,ERROR:_.Rp,UNSET:_.Hp};X.State=_.Pp;
var zs=[];_.x(Rs,X);_.u=Rs.prototype;
_.u.open=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){if(c.w)throw new _.N(_.P,7,7008,"Cannot call open() while "+c.w+ha);if(0!==a)throw new _.N(_.P,7,7007,"The index parameter only supports the value of 0.");if(0===b.length)throw new _.N(_.P,7,7003,Bb);if(b.some(function(p){return!p.id||!p.source}))throw new _.N(_.P,7,7100,"Some config is missing required properties `id` or `source`!");d=new Set(b.map(function(p){return p.id}));if(d.size!==b.length)throw new _.N(_.P,7,
7100,"Some config contains a non-unique property `id`!");if(e=b[0].playlist){f=e.timeline;g=["flat","basic"];if(f&&!g.includes(f))throw new _.N(_.P,7,7100,"Unsupported `playlist.timeline` config value!");h=e.startTime;if(null!=h&&(typeof h!==_.k||0>h))throw new _.N(_.P,7,7100,"Invalid `playlist.startTime` config value!");l=e.endTime;if(null!=l&&(typeof l!==_.k||0>l||null!=h&&l<=h))throw new _.N(_.P,7,7100,"Invalid `playlist.endTime` config value!");m=e.content;if("DVR"===m&&!l)throw new _.N(_.P,7,
7100,"`playlist.endTime` config value is required for DVR content!");}_.nh(n);Ss(c);c.w="open";return _.y(n,Ws(c,b),4)}2!=n.a&&(c.I=0,c.o=b,c.ca=!0,Ts(c,b[0].playlist||{}));_.ph(n);c.w=null;return _.qh(n)})};
_.u.fj=function(a){var b=this,c;return _.I(function(d){if(1==d.a){if(b.w)throw new _.N(_.P,7,7008,"Cannot call addItem() while "+b.w+ha);if(!b.ca)throw new _.N(_.P,7,7008,"open() must be called before addItem()!");if(!a.id||!a.source)throw new _.N(_.P,7,7100,"The config is missing required properties `id` or `source`!");c=new Set(b.o.map(function(e){return e.id}));if(c.has(a.id))throw new _.N(_.P,7,7100,"A config with this `id` already exists in the playlist!");_.nh(d);b.w="addItem";b.o.push(a);return _.y(d,
Xs(b,a),2)}_.ph(d);b.w=null;return _.qh(d)})};_.u.getCurrentItem=function(){return this.o[this.I]||null};_.u.getCurrentItemIndex=function(){return this.I};_.u.nl=function(){return _.ah(this.o).concat()};_.u.Od=function(){return this.o.length};_.u.getTimeline=function(){return this.a?this.a.getTimeline():null};_.u.seekWith=function(a){return this.a?this.a.seekWith(a):Promise.resolve()};_.u.release=function(){this.o=[];this.I=0;this.ca=!1;return X.prototype.release.call(this)};
_.u.destroy=function(){Ss(this);return X.prototype.destroy.call(this)};_.u.setCdnErrorCallback=function(){throw new _.N(1,7,7009,"CDN switching is not supported!");};_.J("clpp.plist.ScPlaylist",Rs);Rs.prototype.setCdnErrorCallback=Rs.prototype.setCdnErrorCallback;Rs.prototype.destroy=Rs.prototype.destroy;Rs.prototype.release=Rs.prototype.release;Rs.prototype.seekWith=Rs.prototype.seekWith;Rs.prototype.getTimeline=Rs.prototype.getTimeline;Rs.prototype.getSize=Rs.prototype.Od;
Rs.prototype.getPlaylist=Rs.prototype.nl;Rs.prototype.getCurrentItemIndex=Rs.prototype.getCurrentItemIndex;Rs.prototype.getCurrentItem=Rs.prototype.getCurrentItem;Rs.prototype.addItem=Rs.prototype.fj;Rs.prototype.open=Rs.prototype.open;_.x($s,_.nm);_.u=$s.prototype;_.u.Md=function(){return this.f};_.u.Ae=function(){return this.f?this.f.player:null};_.u.Eh=function(){return this.o.get(this.a+1)||null};_.u.Hh=function(){return this.o.get(this.a-1)||null};_.u.Gh=function(){return[this.Hh(),this.Eh()].filter(Boolean)};_.u.xn=function(a){if(0<this.j.length)throw Error("Cannot re-set items in the playlist");this.g.info("Set items",a);this.j=a.map(function(b,c){return{config:b,index:c,preloadPromise:Promise.resolve(),disposers:[]}})};
_.u.wn=function(a){if(0===this.j.length)throw Error(Ab);if(0>a||a>this.j.length-1)throw Error("Index out of bounds");this.a=a};_.u.Rd=function(){return this.a<this.j.length-1};_.u.Oh=function(){return 0<this.a};
_.u.$m=function(){var a=this,b,c;return _.I(function(d){switch(d.a){case 1:if(a.l)return a.g.warn("Cannot play first item while busy"),d["return"]();if(0===a.j.length)return a.g.warn(Ab),d["return"]();a.l=!0;a.g.info("First (index: "+a.a+")");b=a.j[a.a];_.D(d,2,3);a.g.info("First loading (index: "+a.a+")");return _.y(d,ht(a,b),5);case 5:a.g.info("First playing (index: "+a.a+")");case 3:_.ph(d);a.l=!1;mt(a);_.qh(d);break;case 2:throw c=_.E(d),a.g.error("First failed (index: "+a.a+")"),c;}})};
_.u.Ci=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play next item while busy"),e["return"]();if(!a.Rd())return a.g.warn("There are no more items in the playlist"),e["return"]();a.l=!0;a.a+=1;a.g.info("Next (index: "+a.a+")");b=a.f;a.h.transition===_.df&&b.player.pause();at(a,a.a+-2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Next loading (index: "+a.a+")");return _.y(e,it(a,c),5);case 5:a.g.info("Next playing (index: "+a.a+")");case 3:_.ph(e);
a.l=!1;b&&et(a,b);mt(a);_.qh(e);break;case 2:throw d=_.E(e),a.g.error("Next failed (index: "+a.a+")"),d;}})};
_.u.an=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play previous item while busy"),e["return"]();if(!a.Oh())return a.g.warn("There are no more previous items in the playlist"),e["return"]();a.l=!0;--a.a;a.g.info("Previous (index: "+a.a+")");b=a.f;a.h.transition===_.df&&b.player.pause();at(a,a.a+2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Previous loading (index: "+a.a+")");return _.y(e,it(a,c),5);case 5:a.g.info("Previous playing (index: "+
a.a+")");case 3:_.ph(e);a.l=!1;b&&et(a,b);mt(a);_.qh(e);break;case 2:throw d=_.E(e),a.g.error("Previous failed (index: "+a.a+")"),d;}})};_.u.destroy=function(){var a=this;return _.I(function(b){return 1==b.a?(a.g.info("Destroy"),_.y(b,Promise.all([bt(a),a.f?et(a,a.f):Promise.resolve()]),2)):_.y(b,nt(a),0)})};_.J(Ed,$s);$s.prototype.destroy=$s.prototype.destroy;$s.prototype.playPrev=$s.prototype.an;$s.prototype.playNext=$s.prototype.Ci;$s.prototype.playFirst=$s.prototype.$m;$s.prototype.hasPrev=$s.prototype.Oh;
$s.prototype.hasNext=$s.prototype.Rd;$s.prototype.setIndex=$s.prototype.wn;$s.prototype.setItems=$s.prototype.xn;$s.prototype.getPreloading=$s.prototype.Gh;$s.prototype.getPrev=$s.prototype.Hh;$s.prototype.getNext=$s.prototype.Eh;$s.prototype.getCurrentPlayer=$s.prototype.Ae;$s.prototype.getCurrent=$s.prototype.Md;var dt="preload",ft=_.Ie;var ot=new Map;_.u=qt.prototype;_.u.destroy=function(){this.a.dispose();this.a=null};_.u.reset=function(){this.a=new muxjs.mp4.Transmuxer(this.f)};_.u.isSupported=function(a,b){var c="mp2t"===a.toLowerCase().split(";")[0].split("/")[1],d=a.toLowerCase().split(";")[0]===_.ad;if(!window.muxjs||!c&&!d)return!1;if(d)return _.pt(ed);if(b)return _.pt(rt(b,a));c=rt(_.$c,a);d=rt(_.r,a);return _.pt(c)||_.pt(d)};_.u.isMuxed=function(a,b){return 1<this.demuxMimeTypes(a,b).size};
_.u.demuxMimeTypes=function(a,b){var c=new Map;c.set(a,b);try{var d=_.ll(b),e=_.ml(b).split(","),f=new Map,g=ej(_.$c,e),h=ej(_.r,e);g&&f.set(_.$c,this.convertCodecs(_.$c,_.kl(d,g)));h&&f.set(_.r,this.convertCodecs(_.r,_.kl(d,h)));return f}catch(l){return c}};_.u.convertCodecs=function(a,b){return b.toLowerCase().split(";")[0]===_.ad?ed:"mp2t"===b.toLowerCase().split(";")[0].split("/")[1]?rt(a,b):b};_.u.getOriginalMimeType=function(){return this.h};
_.u.transmux=function(a){function b(){g={video:Pj.apply(Ij,_.ah(d)),captions:f,audio:Pj.apply(Ij,_.ah(e))}}function c(h){f=h.captions;var l=new Uint8Array(h.data.byteLength+h.initSegment.byteLength);l.set(h.initSegment,0);l.set(h.data,h.initSegment.byteLength);h.type===Xv?d.push(l):h.type===Yv&&e.push(l)}var d=[],e=[],f=[],g=null;a=_.zj(a);this.a.on("data",c);this.a.on("done",b);this.a.push(a);this.a.flush();this.a.off("data",c);this.a.off("done",b);if(!g)throw new _.N(_.P,3,3018);return g};
fl(_.ad,function(){return new qt(_.ad)});fl(_.Dg,function(){return new qt(_.Dg)});var Yv=_.$c,Xv=_.r;st.prototype.getCuePoints=function(){};st.prototype.Fb=function(){};st.prototype.Eb=function(){};_.J("clpp.ads.IAdsTimeline",st);st.prototype.hasPostroll=st.prototype.Eb;st.prototype.hasPreroll=st.prototype.Fb;st.prototype.getCuePoints=st.prototype.getCuePoints;_.tt.prototype.f=function(){};_.tt.prototype.a=function(){};_.tt.prototype.h=function(){};_.tt.prototype.o=function(){};_.u=ut.prototype;_.u.se=function(a){this.a=a};_.u.wd=function(a){return this.a?this.a.setMediaKeys(a):Promise.reject(xb)};_.u.Ce=function(){return this.a&&this.a.mediaKeys};
_.u.Ob=function(a,b){var c=this;this.g.info("Requesting media key system access for",a,b.map(function(d){return Object.assign({},d,{drmInfos:d.drmInfos.map(function(){return"_anonymous_"})})}));return navigator.requestMediaKeySystemAccess(a,b)["catch"](function(d){c.g.info("Failed to request media key system access for "+(a+"."),d);return Promise.reject(d)})};_.u.vd=function(){return Tb};vt.prototype.a=function(){return Tb};
vt.prototype.f=function(){return!!(window.MediaKeys&&navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)};vt.prototype.create=function(){return new ut};Sn(new vt,3);_.u=wt.prototype;_.u.getStatus=function(){return this.a};_.u.forEach=function(a){this.a&&a(this.a,Zv.value())};_.u.get=function(a){if(this.has(a))return this.a};_.u.has=function(a){var b=Zv.value();return this.a&&Bj(a,b)?!0:!1};_.u.entries=function(){};_.u.keys=function(){};_.u.values=function(){};var Zv=new _.Dp(function(){return Hj(new Uint8Array([0]))});_.u=yt.prototype;_.u.se=function(){};_.u.wd=function(a){_.Ih("NopEmeManager.setMediaKeys");return null===a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};_.u.Ce=function(){return null};_.u.Ob=function(){_.Ih("NopEmeManager.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};_.u.vd=function(){return"NOP"};zt.prototype.a=function(){return"NOP"};zt.prototype.f=function(){return!0};zt.prototype.create=function(){return new yt};
Sn(new zt,0);_.u=At.prototype;_.u.se=function(a){this.f=a};_.u.wd=function(a){var b=this.a;b&&b!==a&&Dt(b,null);return(this.a=a)?Dt(a,this.f):Promise.resolve()};_.u.Ce=function(){return this.a};_.u.Ob=function(a,b){_.Ih("AppleEmeManager.requestMediaKeySystemAccess");try{var c=new Bt(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};_.u.vd=function(){return"APPLE"};Bt.prototype.createMediaKeys=function(){var a=new Ct(this.keySystem);return Promise.resolve(a)};
Bt.prototype.getConfiguration=function(){_.Ih("AppleEmeManager.MediaKeySystemAccess.getConfiguration");return this.a};Ct.prototype.createSession=function(a){a=void 0===a?kg:a;this.g.debug("Creating Apple MediaKeys Session");if(a!==kg)throw new TypeError("Session type "+a+ca);return new Et(this.h,"__session_"+this.j++)};Ct.prototype.setServerCertificate=function(){this.g.debug("AppleEmeManager.MediaKeys.setServerCertificate");return Promise.resolve(!1)};_.x(Et,_.nm);_.u=Et.prototype;
_.u.generateRequest=function(a,b){var c=this;if(this.l)return Promise.reject(Xb);this.g.debug("generateRequest");this.h=new _.gk;try{var d=this.o.createSession(_.Eg,_.zj(b));this.a=d;this.sessionId=d.sessionId||this.sessionId||"";this.j.on(d,Qg,function(e){var f=c.keyStatuses.getStatus();c.g.debug("Received Key Message in "+c.sessionId);c.h&&(c.h.resolve(),c.h=null);e=new _.L(_.Me,{messageType:void 0===f||f===dg?Ae:ze,message:Hj(e.message.buffer)});c.dispatchEvent(e)});this.j.on(d,Og,function(e){c.g.debug("onWebkitKeyAdded_",
e);c.f&&(Ft(c,"usable"),c.f.resolve(),c.f=null)});this.j.on(d,Pg,function(){var e=c.keyStatuses.getStatus();if(c.a&&c.a&&c.a.error&&c.a.error.code===WebKitMediaKeyError.MEDIA_KEYERR_DOMAIN&&e===dg)c.g.warn("Ignoring webkit key error for session "+c.sessionId);else if(c.g.error("Received key error in session "+c.sessionId+" with code "+(c.a.error.code+". Session Status ")+(e+".")),e=Error("EME AppleEmeManager key error"),e.errorCode=c.a.error,null!==c.h)c.h.reject(e),c.h=null;else if(null!==c.f)c.f.reject(e),
c.f=null;else switch(c.a.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Ft(c,"output-not-allowed");break;default:Ft(c,_.we)}});Ft(this,dg)}catch(e){this.h.reject(e)}return this.h};_.u.load=function(){this.g.debug(_.Ee);return Promise.reject(Error("MediaKeySession.load not yet supported"))};_.u.update=function(a){if(this.l)return Promise.reject(Xb);this.g.debug(tg);this.f=new _.gk;try{this.a.update(_.zj(a))}catch(b){this.f.reject(b)}return this.f};
_.u.close=function(){if(this.l)return this.closed;this.g.info("Closing Key Session "+this.sessionId);this.l=!0;try{this.a.close(),this.closed.resolve(),_.Vh(this.j)}catch(a){this.closed.reject(a)}return this.closed};_.u.remove=function(){this.g.debug("remove");return Promise.reject(Error("MediaKeySession is only applicable for persistent licenses, which are not supported on this platform"))};Gt.prototype.a=function(){return"APPLE"};Gt.prototype.f=function(){return!!window.WebKitMediaKeys};
Gt.prototype.create=function(){return new At};Sn(new Gt,2);_.u=Ht.prototype;_.u.se=function(a){this.a=a};_.u.wd=function(a){_.Ih("WebkitEmeManager.setMediaKeys");if(!this.a)return Promise.reject(xb);var b=this.f;b&&b!==a&&Mt(b,null);(this.f=a)&&Mt(a,this.a);return Promise.resolve()};_.u.Ce=function(){return this.f};_.u.Ob=function(a,b){_.Ih("WebkitEmeManager.requestMediaKeySystemAccess");try{if(this.a)var c=this.a;else{var d=document.getElementsByTagName(_.r);c=d.length?d[0]:document.createElement(_.r)}var e=new It(this.h,c,a,b);return Promise.resolve(e)}catch(f){return Promise.reject(f)}};
_.u.vd=function(){return"WEBKIT"};It.prototype.createMediaKeys=function(){return Promise.resolve(new Jt(this.h,this.a))};It.prototype.getConfiguration=function(){return this.f};Jt.prototype.createSession=function(a){a=void 0===a?kg:a;if(a!==kg&&a!==_.ff)throw new TypeError("Session type "+a+ca);if(!this.a)throw a=Error("Media element is missing."),a.name=ob,a.code=DOMException.INVALID_STATE_ERR,a;this.a.src||(this.a.src="about:blank");a=new Nt(this.h,this.a,this.o,a);this.j.push(a);return a};
Jt.prototype.setServerCertificate=function(){return Promise.resolve(!1)};_.x(Nt,_.nm);_.u=Nt.prototype;_.u.ready=function(){_.Ih("WebkitEmeManager.MediaKeySession.ready");Lt(this,"usable");this.a&&this.a.resolve();this.a=null};_.u.generateRequest=function(a,b){_.Ih("WebkitEmeManager.MediaKeySession.generateRequest");return Pt(this,b,null)};_.u.load=function(a){_.Ih(mc);return this.l===_.ff?Pt(this,null,a):Promise.reject(Error(Db))};_.u.update=function(a){_.Ih(mc);var b=new _.gk;Qt(this,b,a);return b};
_.u.close=function(){_.Ih("WebkitEmeManager.MediaKeySession.close");if(this.l!==_.ff){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var a=Ot(this,"cancelKeyRequest");try{this.j[a](this.h,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};_.u.remove=function(){_.Ih("WebkitEmeManager.MediaKeySession.remove");return this.l!==_.ff?Promise.reject(Error(Db)):this.close()};Rt.prototype.a=function(){return"WEBKIT"};
Rt.prototype.f=function(){return!(!HTMLMediaElement.prototype.webkitGenerateKeyRequest&&!HTMLMediaElement.prototype.generateKeyRequest)};Rt.prototype.create=function(){return new Ht};Sn(new Rt,1);_.x(St,_.Um);St.prototype.$d=function(a,b){for(var c=a.drm.customData.headers||{},d=_.w(Object.keys(c)),e=d.next();!e.done;e=d.next())e=e.value,b.headers[e]=c[e]};St.prototype.wh=function(a,b){var c=pn(b);switch(this.o){case $v:return c;case aw:return(new _.Jk(c)).a;default:throw Error("Unknown content ID strategy");}};St.prototype.ki=function(a,b){b.headers[za]=Zc;this.$d(a,b);var c={spc:_.Jj(b.body)};b.body=_.R.ld(_.Lk(c,!0))};
St.prototype.li=function(a,b){var c=_.R.aa(b.data).trim(),d="\x3c/ckc\x3e"===c.substr(-6);"\x3cckc\x3e"===c.substr(0,5)&&d&&(c=c.slice(5,-6));b.data=_.Lj(c).buffer};_.J(Bd,St);St.prototype.onFairPlayLicenseResponse=St.prototype.li;St.prototype.onFairPlayLicenseRequest=St.prototype.ki;St.prototype.extractFairPlayContentId=St.prototype.wh;St.prototype.onLicenseRequest=St.prototype.$d;St.prototype.constructor=St.prototype.constructor;St.NAME=ib;var aw="hostname",$v="full-skd";
St.FairPlayContentIdStrategy={HOSTNAME:aw,FULL_SKD:$v};_.x(Tt,_.tt);Tt.prototype.h=function(a){a=a.getConfiguration();if(a.drm&&a.drm&&a.drm.env===ib){a=a.drm.customData;if(!a)throw new _.N(_.P,7,7100,_.Qd);a=new St(a.widevineLicenseUrl,a.playReadyLicenseUrl,a.fairPlayLicenseUrl,a.fairPlayCertificateUrl,a.fairPlayContentIdStrategy||$v);_.Pm(a)}};Tt.prototype.a=function(){delete _.Om.HeaderDrm};Tt.prototype.id=function(){return"headerdrm"};_.J("clpp.drm.HeaderDrmComponent",Tt);_.Xr(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.zj(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.Xr(function(){_.Ih("mathRound.install")});_.Xr(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;qe in document||(Object.defineProperty(document,qe,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",Ut);document.addEventListener("webkitfullscreenerror",Ut);document.addEventListener("mozfullscreenchange",Ut);document.addEventListener("mozfullscreenerror",Ut);document.addEventListener("MSFullscreenChange",Ut);document.addEventListener("MSFullscreenError",Ut)}});_.Xr(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.Ih("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=Wt,document.exitPictureInPicture=Xt,document.addEventListener("webkitpresentationmodechanged",Vt,!0))}});_.Xr(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=Yt)}});_.Xr(function(){if(window.VTTCue)_.Hh("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.Hh(ic),window.VTTCue=Zt;else if(6===a)_.Hh("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=$t;else{try{var b=!!Zt(1,2,"")}catch(c){b=!1}b&&(_.Hh(ic),window.VTTCue=Zt)}}else _.Jh("VTTCue not available.")});var au;_.Xr(function(){_.Ih("InputEvent.install");_.sl("Trident/")&&HTMLInputElement.prototype.addEventListener!==bu&&(_.Hh("Patching input event support on IE."),au=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=bu)});_.Xr(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});_.Xr(function(){_.Ih("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});_.ju.prototype.start=function(){var a=this;this.a=new ResizeObserver(function(b){b=b[0];a.j(b.contentRect.width,b.contentRect.height,a.h.isFullscreen())});this.f&&this.a.observe(this.f)};_.ju.prototype.stop=function(){this.a&&(this.a.disconnect(),this.a=null)};_.lu.prototype.canPlay=function(a){function b(f){e.stop();d.resolve(f)}var c=document.createElement(_.r);c.setAttribute("playsinline","playsinline");a&&(c.muted=!0,c.setAttribute("muted","muted"));c.src=URL.createObjectURL(this.a);var d=new _.gk;c=c.play();var e=(new _.pl(function(){b(a)})).ea(.25);void 0!==c?c.then(function(){return b(!0)})["catch"](function(f){f&&f.message&&f.message===Gb?b(!0):b(!1)}):b(!0);return d};
var ku=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,
0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,
0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,
115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);_.u=_.mu.prototype;_.u.getDuration=function(){return this.a};_.u.getId=function(){return this.id};_.u.Rb=function(){return this.f};_.u.Vd=function(){return this.h};_.u.ma=function(a){return this.getId()===a.getId()&&this.Rb()===a.Rb()&&this.getDuration()===a.getDuration()&&this.Vd()===a.Vd()};_.J("clpp.media.TimelineWindow",_.mu);_.mu.prototype.isDynamic=_.mu.prototype.Vd;_.mu.prototype.getStart=_.mu.prototype.Rb;_.mu.prototype.getId=_.mu.prototype.getId;_.mu.prototype.getDuration=_.mu.prototype.getDuration;_.bw=new _.K("clpp.media.TimestampParser");_.u=_.nu.prototype;_.u.rl=function(a){return this.a[a]||null};_.u.sl=function(){return this.a.length};_.u.tl=function(){return this.a};_.u.Ch=function(){return this.a[this.f]||null};_.u.fl=function(){return this.f};_.J("clpp.media.Timeline",_.nu);_.nu.prototype.getCurrentWindowIndex=_.nu.prototype.fl;_.nu.prototype.getCurrentWindow=_.nu.prototype.Ch;_.nu.prototype.getWindows=_.nu.prototype.tl;_.nu.prototype.getWindowCount=_.nu.prototype.sl;_.nu.prototype.getWindow=_.nu.prototype.rl;_.qu={};_.su={};var xu=window.XMLHttpRequest;_.x(Fu,_.hk);Fu.prototype.then=function(a,b){this.U=this.U.then(a,b);return this};Fu.prototype["catch"]=function(a){this.U=this.U["catch"](a);return this};Fu.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.h.then(function(b){a.o&&clearTimeout(a.o);a.l&&a.l();return b.abort()})["catch"](function(){})};var Tu=window.fetch,Ju=window.AbortController,Iu=window.Headers;_.bv={};_.u=_.fv.prototype;_.u.getBackgroundColor=function(){return this.K};_.u.setBackgroundColor=function(a){this.K=a;this.Mb()};_.u.getWindowColor=function(){return this.V};_.u.setWindowColor=function(a){this.V=a;this.Mb()};_.u.getFontFamily=function(){return this.P};_.u.setFontFamily=function(a){this.P=a;this.Mb()};_.u.getFontColor=function(){return this.N};_.u.setFontColor=function(a){this.N=a;this.Mb()};_.u.getFontSize=function(){return this.I};_.u.setFontSize=function(a){this.I=a;this.Mb()};
_.u.getFontSizePercent=function(){return null===this.B?cw:this.B};_.u.setFontSizePercent=function(a){this.B=a;this.Mb()};_.u.getEdgeColor=function(){return this.H};_.u.setEdgeColor=function(a){this.H=a;this.Mb()};_.u.getEdgeType=function(){return this.o};_.u.setEdgeType=function(a){this.o=a;this.Mb()};_.fv.prototype.setEdgeType=_.fv.prototype.setEdgeType;_.fv.prototype.getEdgeType=_.fv.prototype.getEdgeType;_.fv.prototype.setEdgeColor=_.fv.prototype.setEdgeColor;_.fv.prototype.getEdgeColor=_.fv.prototype.getEdgeColor;
_.fv.prototype.setFontSizePercent=_.fv.prototype.setFontSizePercent;_.fv.prototype.getFontSizePercent=_.fv.prototype.getFontSizePercent;_.fv.prototype.setFontSize=_.fv.prototype.setFontSize;_.fv.prototype.getFontSize=_.fv.prototype.getFontSize;_.fv.prototype.setFontColor=_.fv.prototype.setFontColor;_.fv.prototype.getFontColor=_.fv.prototype.getFontColor;_.fv.prototype.setFontFamily=_.fv.prototype.setFontFamily;_.fv.prototype.getFontFamily=_.fv.prototype.getFontFamily;
_.fv.prototype.setWindowColor=_.fv.prototype.setWindowColor;_.fv.prototype.getWindowColor=_.fv.prototype.getWindowColor;_.fv.prototype.setBackgroundColor=_.fv.prototype.setBackgroundColor;_.fv.prototype.getBackgroundColor=_.fv.prototype.getBackgroundColor;var cw=1/15;var gv="raised",hv="depressed",jv="dropshadow",iv="uniform";_.J("clpp.text.EdgeType",{NONE:_.Te,RAISED:gv,DEPRESSED:hv,DROP_SHADOW:jv,UNIFORM:iv});lv.prototype.parseInit=function(a){try{var b=_.dv(_.Vc);if(b){var c=new b(this.f);c.parseInit(a)}else this.g.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(e){c=null}if(c)this.a=c;else{try{var d=_.dv(_.Wc);d?(c=new d(this.f),c.parseInit(a)):this.g.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(e){c=null}if(c)this.a=c;else throw new _.N(_.P,2,2011);}};
lv.prototype.parseMedia=function(a,b){if(!this.a)throw new _.N(_.P,2,2011);return this.a.parseMedia(a,b)};_.cv(Uc,lv);_.x(_.nv,_.fv);_.u=_.nv.prototype;_.u.append=function(){};_.u.remove=function(){return!0};_.u.isTextVisible=function(){return this.w};_.u.setTextVisibility=function(a){this.w=a};
_.u.Mb=function(){if(!this.j){var a={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":_.kv(this)},b=Object.keys(a).map(function(c){return null!==a[c]?c+":"+a[c]+";":""}).join("");this.h.textContent="."+this.f+"::cue {"+b+"}"}};_.u.destroy=function(){this.l.classList.remove(this.f);document.head.removeChild(this.h);this.j=!0;return Promise.resolve()};var mv=0;ov.prototype.a=function(){return!0};ov.prototype.create=function(a){return new _.nv(a)};_.tp("native",new ov);_.u=_.pv.prototype;_.u.onPlayerCreated=function(){};_.u.onContentWillLoad=function(){return Promise.resolve()};_.u.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.u.onPlayerWillDestroy=function(){};_.u.onPlayerWillRelease=function(){};}.call(g,this));
g.clpp._ = _;
if (typeof(module)!="undefined"&&module.exports) {module.exports=g.clpp;}
else if (typeof(define)!="undefined" && define.amd) {define(function(){return g.clpp;});}
else {this.clpp=g.clpp;}
})();