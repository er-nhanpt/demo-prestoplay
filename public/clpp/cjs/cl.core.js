(function(){var g={}; var _ = {};
(function(window){var ba,ca,da,ea,fa,oa,ra,va,wa,za,Aa,Da,Fa,Ga,Ka,Pa,Qa,Ta,Va,Xa,Ya,bb,cb,db,eb,fb,gb,hb,ib,kb,lb,mb,ob,pb,tb,ub,vb,xb,yb,zb,Ab,Cb,Db,Hb,Mb,Qb,Ub,Vb,Wb,Xb,$b,bc,ec,fc,ic,jc,lc,mc,nc,oc,pc,qc,xc,yc,zc,Tc,Yc,dd,kd,ld,sd,td,ud,wd,xd,yd,Ad,Bd,Cd,Dd,Ed,Kd,Ld,Nd,Sd,Yd,Zd,$d,ae,be,ce,ee,fe,ge,ke,le,ne,te,Ae,Ce,De,Le,df,lf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,Af,Df,Ef,Ff,Gf,Hf,Jf,Nf,Pf,dg,gg,ng,tg,wg,Dg,Ng,Rg,Sg,Tg,Ug,Vg,Xg,Yg,Zg,ch,dh,hh,lh,nh,mh,oh,ph,qh,vh,yh,wh,xh,zh,Bh,Ch,Gh,Jh,Oh,Sh,Uh,Vh,Xh,$h,Yh,bi,di,ci,
hi,ni,mi,li,qi,ti,si,ri,fi,ei,pi,gi,wi,xi,yi,Ai,Ci,Bi,Ei,Pi,Qi,Ri,Ti,Vi,Wi,Yi,$i,dj,fj,hj,bj,kj,zj,Aj,Dj,Hj,Jj,Kj,Nj,Ij,Ej,Oj,Vj,bk,ck,fk,gk,hk,jk,kk,lk,rk,Bk,Ck,Dk,Ek,Fk,Lk,Nk,Ok,Uk,Vk,Yk,$k,Zk,Xk,al,Wk,el,bl,dl,fl,gl,nl,wl,yl,zl,Kl,Ml,Nl,Ol,Yl,Pl,am,cm,em,fm,dm,hm,im,bm,jm,km,lm,mm,nm,rm,sm,tm,um,om,ym,zm,Bm,Dm,Fm,Lm,Mm,Nm,Om,Pm,Qm,Rm,Sm,Tm,Um,Vm,an,on,un,xn,yn,An,Bn,Jn,Nn,On,Tn,Zn,$n,ao,co,eo,jo,ko,po,wo,Do,Jo,So,Po,Qo,Wo,Yo,$o,dp,ep,ip,Uo,Oo,pp,gp,qp,sp,rp,zp,vp,up,xp,Ap,yp,Cp,wp,Bp,Fo,Zo,tp,
Go,op,No,kp,lp,Fp,np,To,Ro,Io,Kp,Mp,Np,Op,Pp,Up,Yp,Zp,aq,eq,jq,Xp,kq,lq,oq,rq,sq,uq,vq,qq,pq,wq,xq,yq,zq,Dq,Eq,Fq,Gq,Hq,Mq,Nq,Oq,Sq,Rq,Xq,Zq,$q,ar,lr,nr,mr,br,gr,or,pr,Vq,jr,Tq,qr,ir,er,fr,dr,hr,cr,rr,tr,kr,wr,Wq,Uq,xr,vr,Yq,Dr,Er,Gr,Fr,Ir,Hr,Br,Lr,Kr,Or,Cr,Rr,Jr,Pr,yr,Mr,Zr,Nr,Qr,Tr,Sr,Yr,bs,Vr,cs,ds,fs,es,hs,is,js,ks,gs,ms,os,ps,rs,ss,ts,us,vs,ws,xs,ys,As,Bs,Cs,Ds,zs,Gs,Is,Hs,Js,Ks,X,Ps,Ts,Rs,Us,Ws,Vs,Ys,Zs,dt,ft,et,at,Os,$s,ht,it,jt,mt,nt,lt,kt,qt,st,rt,vt,tt,yt,zt,xt,Bt,Ct,Dt,At,pt,Et,ot,Ht,It,
Jt,Lt,Mt,Nt,Ot,Pt,Qt,Rt,St,Tt,Ut,Vt,Wt,Xt,Yt,Zt,$t,cu,au,du,fu,gu,bu,eu,hu,iu,ju,ku,lu,mu,nu,ou,pu,qu,su,uu,vu,wu,tu,yu,zu,Fu,Ku,Lu,Nu,Mu,yk,Pu,Su,Ru,Tu,Uu,Qu,Wu,Xu,Vu,Yu,zk,av,uk,Cv,Fv,fh,Hv;_.aa=" is registered.";ba=" is unsupported on this platform.";ca=" to a log level. Falling back to default!";da="': 'output-restricted'";ea="() is ongoing!";fa=".start";_.ha="6.23.0";_.ia="AdaptationSet";_.ja="Already destroyed. No-op";_.ka="Already released. No-op";_.la="Autoplay is not allowed due to browser policy.";
_.ma="BANDWIDTH";_.na="BASIC";oa="CHECKSUM";_.pa="CLOSED-CAPTIONS";_.qa="CODECS";ra="Can not set volume to ";_.sa="Cannot retrieve buffer information due to platform limitations";_.ta="CastlabsPlayer";_.ua="Configuration is valid";va="Content-Length";wa="Content-Type";_.xa="Could not find configured DRM environment.";_.ya="DRM environment '";za="DRM licenses loaded";Aa="DRMtoday";Da="DRMtodayOnboard";_.Ea="DURATION";Fa="Destroying player";Ga="EXT-X-BYTERANGE";_.Ha="EXT-X-DATERANGE";_.Ia="EXT-X-DISCONTINUITY";
_.Ja="EXT-X-DISCONTINUITY-SEQUENCE";Ka="EXT-X-ENDLIST";_.La="EXT-X-KEY";_.Na="EXT-X-MAP";_.Oa="EXT-X-MEDIA-SEQUENCE";Pa="EXT-X-PART-INF";Qa="EXT-X-PLAYLIST-TYPE";_.Ra="EXT-X-PRELOAD-HINT";_.Sa="EXT-X-PROGRAM-DATE-TIME";Ta="EXT-X-SERVER-CONTROL";_.Ua="EXT-X-STREAM-INF";Va="EXT-X-TARGETDURATION";Xa="Error while decoding string!";Ya="Error while fetching certificate!";_.Za="FairPlay Certificate URL is not defined";_.$a="FairPlay License URL is not defined";_.ab="GROUP-ID";bb="HW_SECURE_ALL";cb="HW_SECURE_CRYPTO";
db="HW_SECURE_DECODE";eb="HeaderDrm";fb="Hide video element .";gb="Interstitial ";hb="Interstitial cue ";ib="Interstitials ";kb="Invalid track type: ";lb="InvalidStateError";mb="Key status for Key ID '";_.nb="LANGUAGE";ob="License verification failed: ";pb="Load interrupted while a player release is pending";_.qb="Loading player with configuration";_.rb="MaxHeight";_.sb="MaxWidth";tb="Missing media element";ub="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!";
vb="No event provided!";xb="No items in the playlist";yb="No sources provided!";zb="No track data attached to the event, unable to add track!";Ab="Not a persistent session.";_.Bb="Not supported";Cb="NotAllowedError";Db="NotSupportedError";_.Eb="PLAYLIST";_.Fb="POST";_.Gb="PlayReady License URL is not defined";Hb="Player not ready yet.";_.Ib="Player sources";_.Kb="Player state change: ";_.Lb="Please make sure ";Mb="Preloading is not supported by this player.";_.Nb="QualityLevel";_.Ob="RESOLUTION";
_.Pb="Representation";Qb="STANDARD";_.Rb="SUBTITLES";_.Sb="SW_SECURE_CRYPTO";_.Tb="SW_SECURE_DECODE";Ub="Session is closed";Vb="Setting native ";Wb="Show video element .";Xb="Skipping Session creation. License for init data was already requested in Session: '";_.Yb="SmoothStreamingMedia";_.Zb="TYPE";$b="The index is not in the allowed range.";_.ac="URI";bc="Unable to translate ";_.cc="Unhandled/ignored event";_.dc="Unregistering listeners";ec="Unsupported keySystem";fc="Using VTTCue polyfill from 3 argument TextTrackCue.";
_.gc="VIDEO";_.hc="VOD";ic="Wait for preloading to finish";jc="WebkitEmeManager.MediaKeySession.load";_.kc="Widevine License URL is not defined";lc="Will create EME Manager: ";mc="X-AD-CREATIVE-SIGNALING";nc="X-ASSET-LIST";oc="X-ASSET-URI";pc="X-PLAYOUT-LIMIT";qc="X-RESUME-OFFSET";_.rc="ad-break-started";_.sc="ad-break-stopped";_.tc="ad-buffering";_.uc="ad-clicked";_.vc="ad-completed";_.wc="ad-first-quartile";xc="ad-hls-asset-list-request";yc="ad-hls-asset-list-response";zc="ad-hls-resoled";
_.Ac="ad-impression";_.Bc="ad-loaded";_.Cc="ad-midpoint";_.Dc="ad-paused";_.Ec="ad-progress";_.Fc="ad-resumed";_.Gc="ad-skipped";_.Hc="ad-started";_.Ic="ad-stopped";_.Jc="ad-third-quartile";_.Kc="addtrack";_.Lc="ads-timeline-changed";_.Mc="airplay-casting-ended";_.Oc="airplay-casting-started";_.Pc="airplay-status-changed";_.Qc="application";_.Rc="application/cea-608";_.Sc="application/dash+xml";Tc="application/mp4";_.Uc='application/mp4; codecs\x3d"stpp"';_.Vc='application/mp4; codecs\x3d"wvtt"';
_.Wc="application/ttml+xml";_.Xc="application/vnd.ms-sstr+xml";Yc="application/x-www-form-urlencoded";_.Zc="audio";_.$c="audio/aac";_.ad="audio/ac3";_.bd="audio/eac3";_.cd="audio/mp4";dd='audio/mp4;codecs\x3d"mp4a.40.2"';_.ed="audiobufferchanged";_.fd="autoplaynotallowed";_.gd="bitratechanged";_.hd="boolean";_.id="bufferingended";_.jd="bufferingstarted";kd="canplay";ld="canplaythrough";_.md="caption";_.nd="castingstarted";_.od="caststatuschanged";_.pd="cdn-switch-success";_.qd="cenc";_.rd="center";
sd="certificate-request";td="change";ud="chrome";_.vd="clpp-fill";wd="clpp-hidden";xd="clpp-mc-playlist";yd="clpp-visible";_.zd="clpp.cast.CastSender";Ad="clpp.drm.HeaderDrm";Bd="clpp.drm.eme.AppleEmeManager";Cd="clpp.native.Player";Dd="clpp.plist.McPlaylist";Ed="clpp.utils.Platform";_.Fd="codecs";_.Gd="column-reverse";_.Hd="com.adobe.primetime";_.Jd="com.apple.fps";Kd="com.apple.hls.interstitial";Ld="com.apple.quicktime.HLS";_.Md="com.microsoft.playready";Nd="com.microsoft.playready.recommendation";
_.Od="com.widevine.alpha";_.Pd="config.drm.customData is not defined";_.Qd="content-steering-change";_.Rd="content-steering-location-ban-update";Sd="controls";_.Td="cuechange";_.Ud="decoder";_.Vd="destroy()";_.Wd="disabled";_.Xd="div";Yd="drm.license.req.";Zd="drm.mediaKeys.end";$d="drm.mediaKeys.start";ae="drm.onPlay.end";be="drm.onPlay.start";ce="drm.sess.update.";_.de="drmexpirationupdate";ee="drmlicenserequested";fe="drmrenewalstarted";ge="drmsessioncreated";_.he="drmsessionpersisted";_.ie="drmsessionupdate";
ke="drmtoday";le="durationchange";_.me="ec-3";ne="encrypted";_.oe="end";_.pe="ended";_.qe="error";_.re="estimatedThroughputKbps";_.se="forced";te="fullscreenElement";_.ue="function";_.ve="height";_.we="hidden";_.xe="html";_.ye="image";_.ze="internal-error";Ae="keystatuseschange";_.Be="left";Ce="license-renewal";De="license-request";_.Ee="line-left";_.Fe="line-right";_.Ge="live-turned-static";_.He="load";_.Ie="loadeddata";_.Ke="loadedmetadata";Le="loadstart";_.Me="main";_.Ne="mdat";_.Oe="mdia";
_.Pe="message";_.Qe="metadata";_.Re="mimeType";_.Se="minf";_.Te="moov";_.Ue="mpd-type-changed";_.Ve="mpeg-dash-callback-event";_.We="none";_.k="number";_.Xe="object";_.Ye="onBitrateChanged()";_.Ze="onContentLoaded";_.$e="onPlayerError()";_.af="onPlayerWillDestroy";_.bf="onPlayerWillRelease";_.cf="onStateChanged()";df="online-status-changed";_.ef="optional";_.ff="org.w3.clearkey";_.gf="output-restricted";_.hf="pause";_.jf="persistent";_.kf="persistent-license";lf="picture-in-picture";_.mf="play";
nf="player.afterLoad.end";of="player.afterLoad.start";pf="player.appendLoad.end";qf="player.appendLoad.start";rf="player.beforeLoad.end";sf="player.beforeLoad.start";tf="player.load.end";uf="player.load.start";vf="player.setupPlaylist.end";wf="player.setupPlaylist.start";_.xf="playing";_.yf="playlist-item-changed";_.zf="playlist-modified";Af="playlist.next.end";Df="playlist.next.start";Ef="preload-aborted";Ff="preload-failed";Gf="preloaded";Hf="preloading";_.If="prevent";Jf="primary-content";
_.Kf="progress";_.Lf="px";_.Mf="ratechange";Nf="released";_.Of="releasing";Pf="removetrack";_.Qf="required";_.Rf="resize";_.Sf="right";_.Tf="sc-playlist-ended";_.Uf="sc-playlist-item-changed";_.Vf="sc-playlist-live-turned-static";_.Wf="sc-playlist-timeline-changed";_.Xf="seeked";_.Yf="seeking";_.Zf="showing";_.$f="simid-creative-started";_.ag="simid-creative-stopped";_.bg="sinf";_.cg="smooth";dg="stalled";_.eg="start";_.fg="statechanged";gg="status-pending";_.hg="stbl";_.ig="string";_.jg="stsd";
_.kg="style";_.lg="subtitle";_.mg="subtitles-htmlcue";ng="temporary";_.og="text/vtt";_.pg="text/xml";_.qg="timeupdate";_.rg="trak";_.sg="ttml-xml";tg="unauthenticated";_.ug="und";_.vg="unknown";wg="update";_.xg="urn:scte:scte35";_.yg="urn:scte:scte35:2014";_.zg="user-seeked";_.Ag="user-seeking";_.Bg="value";Dg="version";_.Eg="vertical-lr";_.Hg="vertical-rl";_.r="video";_.Ig="video/mp2t";_.Jg="video/mp4";_.Kg="videobufferchanged";_.Lg="videotrackchanged";_.Mg="vimond-response";Ng="visibilitychange";
_.Og="vtt-xml";_.Pg="waiting";_.Qg="waitingforkey";Rg="webkit-org.w3.clearkey";Sg="webkitkeyadded";Tg="webkitkeyerror";Ug="webkitkeymessage";Vg="webkitneedkey";_.Wg="width";Xg="x-dt-csl-tracking-token";Yg="x-dt-follow-up-token";Zg="x-dt-resp-code";_.$g="yospace-session-ended";_.ah="yospace-session-started";ch=function(a){return function(){return _.bh[a].apply(this,arguments)}};dh=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};
_.w=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:dh(a)}};_.eh=function(a){if(!(a instanceof Array)){a=_.w(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a};_.x=function(a,b){a.prototype=fh(b.prototype);a.prototype.constructor=a;if(gh)gh(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]};
hh=function(){hh=function(){};ih.Symbol||(ih.Symbol=jh)};lh=function(a,b){this.a=a;kh(this,"description",{configurable:!0,writable:!0,value:b})};nh=function(){hh();var a=ih.Symbol.iterator;a||(a=ih.Symbol.iterator=ih.Symbol("Symbol.iterator"));typeof Array.prototype[a]!=_.ue&&kh(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return mh(dh(this))}});nh=function(){}};mh=function(a){nh();a={next:a};a[ih.Symbol.iterator]=function(){return this};return a};
oh=function(){this.w=!1;this.l=null;this.f=void 0;this.a=1;this.j=this.o=0;this.B=this.h=null};ph=function(a){if(a.w)throw new TypeError("Generator is already running");a.w=!0};qh=function(a,b){a.h={Ih:b,ii:!0};a.a=a.o||a.j};_.y=function(a,b,c){a.a=c;return{value:b}};_.B=function(a){a.a=0};_.D=function(a,b,c){a.o=b;void 0!=c&&(a.j=c)};_.rh=function(a){a.o=0;a.j=2};_.sh=function(a,b){a.a=b;a.o=0};_.F=function(a){a.o=0;var b=a.h.Ih;a.h=null;return b};_.th=function(a){a.B=[a.h];a.o=0;a.j=0};
_.uh=function(a){var b=a.B.splice(0)[0];(b=a.h=a.h||b)?b.ii?a.a=a.o||a.j:void 0!=b.F&&a.j<b.F?(a.a=b.F,a.h=null):a.a=a.j:a.a=0};vh=function(a){this.a=new oh;this.f=a};yh=function(a,b){ph(a.a);var c=a.a.l;if(c)return wh(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.a["return"]);a.a["return"](b);return xh(a)};
wh=function(a,b,c,d){try{var e=b.call(a.a.l,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.a.w=!1,e;var f=e.value}catch(g){return a.a.l=null,qh(a.a,g),xh(a)}a.a.l=null;d.call(a.a,f);return xh(a)};xh=function(a){for(;a.a.a;)try{var b=a.f(a.a);if(b)return a.a.w=!1,{value:b.value,done:!1}}catch(c){a.a.f=void 0,qh(a.a,c)}a.a.w=!1;if(a.a.h){b=a.a.h;a.a.h=null;if(b.ii)throw b.Ih;return{value:b["return"],done:!0}}return{value:void 0,done:!0}};
zh=function(a){this.next=function(b){ph(a.a);a.a.l?b=wh(a,a.a.l.next,b,a.a.A):(a.a.A(b),b=xh(a));return b};this["throw"]=function(b){ph(a.a);a.a.l?b=wh(a,a.a.l["throw"],b,a.a.A):(qh(a.a,b),b=xh(a));return b};this["return"]=function(b){return yh(a,b)};nh();this[Symbol.iterator]=function(){return this}};_.Ah=function(a,b){var c=new zh(new vh(b));gh&&gh(c,a.prototype);return c};
Bh=function(a,b){if(b){for(var c=ih,d=a.split("."),e=0;e<d.length-1;e++){var f=d[e];f in c||(c[f]={});c=c[f]}d=d[d.length-1];e=c[d];f=b(e);f!=e&&null!=f&&kh(c,d,{configurable:!0,writable:!0,value:f})}};Ch=function(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};_.I=function(a){return Ch(new zh(new vh(a)))};
_.J=function(a,b){var c=a.split("."),d=Dh;c[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]&&d[e]!==Object.prototype[e]?d=d[e]:d=d[e]={}:d[e]=b};Gh=function(a){return a&&0<=Eh[a]?Eh[a]:Fh};Jh=function(a){if(!a)return _.Hh("clpp.log",bc+a+ca),-1;var b=Ih[a.toUpperCase()];return void 0===b?(_.Hh("clpp.log",bc+a+ca),-1):b};_.K=function(a){(this.tag=a)&&void 0===Eh[a]&&(Eh[a]=-1)};_.Lh=function(a){Kh.info.apply(Kh,arguments)};
_.Mh=function(a){Kh.debug.apply(Kh,arguments)};_.Hh=function(a){Kh.warn.apply(Kh,arguments)};_.Nh=function(a){Kh.error.apply(Kh,arguments)};Oh=function(a,b){this.Ca=a;this.sourceIndex=b};_.Rh=function(a){if(a){var b=a.a();b in _.Ph?_.Qh.warn("Player-Factory '"+b+"' already registered"):(_.Ph[b]=a,_.Qh.info("Registered Player-Factory: '"+b+"'"))}};Sh=function(a){return Object.values(_.Ph).find(a)||null};_.Th=function(){this.a={}};Uh=function(a,b,c,d){this.f=a;this.Tc=b;this.a=c;this.Fn=!!d};
_.L=function(a,b){if(b)for(var c in b)this[c]=b[c];this.defaultPrevented=this.cancelable=this.bubbles=!1;this.timeStamp=window.performance&&window.performance.now?window.performance.now():Date.now();this.type=a;this.isTrusted=!1;this.target=this.currentTarget=null;this.f=this.a=!1};Vh=function(a){this.a=new _.Th;this.f=a};_.Wh=function(){this.a=new _.Th};
Xh=function(a,b,c){function d(h){for(var l=_.w(e),m=l.next();!m.done;m=l.next())a.off(b,m.value,d);c(h)}for(var e=[ne,"msneedkey",Vg,"needkey"],f=_.w(e),g=f.next();!g.done;g=f.next())a.on(b,g.value,d)};_.Zh=function(a){var b=a.a,c=[],d;for(d in b.a)c.push.apply(c,b.a[d]);for(b=0;b<c.length;++b)Yh(c[b]);a.a.clear()};$h=function(a,b,c,d){this.target=a;this.type=b;this.a=c;this.f=d;this.target.addEventListener(b,c,d)};Yh=function(a){a.target.removeEventListener(a.type,a.a,a.f);a.target=null;a.a=null};
bi=function(a){this.m=a;this.l=a.getConfiguration().streaming.addMissingTimelineCues||!1;this.j=new _.Wh;this.f=new Set;this.a=new Set;this.h=null;this.g=new _.K("clpp.native.Metadata")};di=function(a,b){a.j.on(b,_.Kc,function(c){c=c.track;c.kind===_.Qe&&ci(a,c)})};
ci=function(a,b){a.g.debug("onMetadataTrackAdded_()");b.mode=_.we;var c=!b.cues||0===b.cues.length;if(a.m.isLive()||!c){var d=b.cues;c=ei(d);fi(c);a.a=gi(c,a.l);0<a.a.size&&(hi(a,a.a),a.m.trigger(new _.L(_.ii)));a.j.on(b,_.Td,function(){for(var e=a.m.getPosition(),f=_.w(a.a),g=f.next();!g.done;g=f.next()){var h,l=a;g=g.value;if(Infinity===g.endTime){if(h=!l.f.has(g)){h=g.startTime;var m=h+.5;h=h<=e&&e<=m}h&&(l.f.add(g),l.m.trigger(new _.L(_.ji,{detail:g})))}else h=g.startTime<=e&&e<=g.endTime,!h&&
l.f.has(g)?(l.f["delete"](g),l.m.trigger(new _.L(_.ki,{detail:g}))):h&&!l.f.has(g)&&(l.f.add(g),l.m.trigger(new _.L(_.ji,{detail:g})))}});a.m.isLive()&&(a.h=setInterval(function(){if(b.cues){var e=a.m.getSeekRange().start;for(var f=[],g=_.w(b.cues),h=g.next();!h.done;h=g.next())h=h.value,h.endTime<e&&f.push(h);li(a,b,f);0<f.length&&a.g.debug("Evicted "+f.length+" old cues.");g=_.w(a.a);for(h=g.next();!h.done;h=g.next())h=h.value,h.endTime<e&&a.a["delete"](h);e=0<f.length}else e=!1;mi(a,b);f=ei(d);
var l=gi(f,a.l);g=new Set;h=!1;l=_.w(l);for(var m=l.next();!m.done;m=l.next()){m=m.value;var n=ni(a,m);n?(m.customAttributes&&(n.customAttributes=_.N.qa(n.customAttributes||{},m.customAttributes)||void 0),h=!0):(a.a.add(m),g.add(m))}h=0<g.size||h;fi(f);(e||h)&&a.m.trigger(new _.L(_.ii));hi(a,g)},6E3))}};hi=function(a,b){for(var c=_.w(b),d=c.next();!d.done;d=c.next())a.m.trigger(new _.L(_.oi,{detail:d.value}))};
ni=function(a,b){return Array.from(a.a.values()).find(function(c){return b.startTime===c.startTime&&b.endTime===c.endTime})||null};mi=function(a,b){if(b.cues){var c=pi(b.cues).filter(function(l){return l.type===Ld}),d=c.filter(function(l){return l.rg}),e=c.filter(function(l){return!l.rg});c=[];e=_.w(e);for(var f=e.next();!f.done;f=e.next()){f=f.value;for(var g=_.w(d),h=g.next();!h.done;h=g.next())h=h.value,qi(f,h)&&(c.push(f),h.Fh=f.startTime)}li(a,b,c);0<c.length&&a.g.debug("Removed "+c.length+" duplicated cues.")}};
li=function(a,b,c){c=_.w(c);for(var d=c.next();!d.done;d=c.next()){d=d.value;try{b.removeCue(d)}catch(e){a.g.debug("Failed to remove cue",d,e)}}};qi=function(a,b){var c=a.endTime-a.startTime,d=b.endTime-b.startTime,e=a.Fh||a.startTime,f=b.Fh||b.startTime;return(Infinity===c&&Infinity===d||.01>Math.abs(c-d))&&.5>Math.abs(e-f)&&a.value.key===b.value.key&&a.value.data===b.value.data};
ti=function(a){var b=[],c={};a=_.w(a);for(var d=a.next();!d.done;c={qd:c.qd},d=a.next())c.qd=d.value,(d=b.find(function(e){return function(f){var g=e.qd;return f.startTime===g.startTime&&f.endTime===g.endTime}}(c)))?ri(c.qd,d):(d=si(c.qd),b.push(d));return b};si=function(a){var b=a.startTime,c=a.endTime;b={schemeIdUri:"",value:"",startTime:b,endTime:c,id:"T"+b.toFixed(2)+"-"+c.toFixed(2),type:_.ui,eventElement:null};ri(a,b);return b};
ri=function(a,b){if(a.key.startsWith("X-"))b.customAttributes||(b.customAttributes={}),b.customAttributes[a.key]=a.value,"X-CUSTOM-ID"===a.key&&(b.id=a.value);else if("SCTE35-OUT"===a.key||"SCTE35-IN"===a.key)b.schemeIdUri=_.yg,b.type=_.vi};fi=function(a){a.forEach(function(b){b.rg=!0})};ei=function(a){return pi(a).filter(function(b){return b.type===Ld&&!b.rg})};pi=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next())b.push(c.value);return b};
gi=function(a,b){var c=a.map(function(d){return{startTime:d.startTime,endTime:d.endTime,key:d.value.key,value:d.value.data,ji:!1}});c=wi(c);b&&(c=xi(c));return new Set(ti(c))};wi=function(a){var b=new Set(a),c=new Set(a.filter(function(d){return"SCTE35-OUT"===d.key}).map(yi));a.filter(function(d){return"SCTE35-IN"===d.key}).forEach(function(d){c.has(yi(d))||(d.ji=!0)});return Array.from(b.values())};xi=function(a){a.forEach(function(b){b.ji&&(b.endTime=b.startTime,b.startTime=0)});return a};
yi=function(a){return a.startTime+"-"+a.endTime};_.zi=function(a){return Array.isArray(a)?a:[a]};Ai=function(a,b){return a===b?!0:a.length===b.length&&a.every(function(c,d){return c===b[d]})};Ci=function(a,b,c){if(null==a&&null==b)return!0;if(null==a||null==b)return!1;a=c?a.map(c):a;b=c?b.map(c):b;return Bi(a,b)&&Bi(b,a)};Bi=function(a,b){var c=new Set(a);return b.every(function(d){return c.has(d)})};
_.Di=function(a,b){b=void 0===b?{}:b;if(b.zh){for(var c=[],d={},e=_.w(a),f=e.next();!f.done;d={ve:d.ve},f=e.next())d.ve=f.value,c.some(function(g){return function(h){return b.zh(g.ve,h)}}(d))||c.push(d.ve);return c}return Array.from((new Set(a)).values())};Ei=function(a,b){var c=new Set(a),d=new Set(b);return{Gn:a.filter(function(e){return!d.has(e)}),Yo:a.filter(function(e){return d.has(e)}),vj:b.filter(function(e){return!c.has(e)})}};
_.Li=function(a,b,c,d){d=void 0===d?_.Fi:d;this.startTime=a;this.endTime=b;this.payload=c;this.payloadType=d;this.positionAlign=this.position=null;this.size=100;this.textAlign=_.Gi;this.writingMode=_.Hi;this.lineInterpretation=_.Ii;this.line=null;this.lineAlign=_.Ji;this.direction=Ki;this.region=null;this.cssClassList=[];this.id=this.backgroundImage="";this.containerRows=null};
_.Oi=function(){this.id="";this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0;this.height=this.width=100;this.viewportAnchorUnits=this.widthUnits=this.heightUnits=_.Mi;this.scroll=Ni;this.cssClassList=[];this.writingMode=this.displayAlign=null};Pi=function(a){this.m=a;this.l=a.getTextDisplayer();this.f=this.h=null;this.a=new _.Wh;this.j=!1;this.g=new _.K("clpp.native.CueHandler")};
Qi=function(a,b){var c=b.track;c.kind!==_.Qe&&(c.mode===_.Zf&&(c.mode=_.we),a.a.on(c,_.Td,function(d){d=d.target||d.srcElement;d.mode=_.we;d.activeCues&&(d=Array.from(d.activeCues).map(a.o),a.l.append(d,[]))}))};_.O=function(a,b,c,d,e){var f=Error.call(this,Ri(a,b,c,d));this.message=f.message;"stack"in f&&(this.stack=f.stack);this.severity=a;this.category=b;this.code=c;this.data=!d||_.N.da(d)?{}:d;this.cause=void 0===e?null:e;this.f=!1;Error.captureStackTrace&&Error.captureStackTrace(this,_.O)};
Ri=function(a,b,c,d){a=(a===_.P?"FATAL":"RECOVERABLE")+" Clpp-Error [Category "+b+" - Code "+c+"]";if(_.N.da(d))a+=": "+d;else if(null!=d)if(null!=d.message)a+=": "+d.message,delete d.message;else try{a+=": "+JSON.stringify(d)}catch(e){}return a};_.Si=function(a,b){var c=Error.call(this,a);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.code=b};
Ti=function(a,b){var c=b||Ai,d=null,e=null,f=!1;return function(g){for(var h=[],l=0;l<arguments.length;++l)h[l]=arguments[l];if(f&&c(h,d))return e;f=!0;d=h;return e=a.apply(null,_.eh(h))}};_.Ui=function(a){return null!=a};Vi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}throw new _.Si("No non-null, non-undefined value found");};
Wi=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(null!==d&&void 0!==d)return d}};_.Xi=function(a){var b;a instanceof _.Xi?(Yi(this,a.wb),this.Ec=a.Ec,_.Zi(this,a.nb),$i(this,a.md),this.Ja=a.Ja,_.aj(this,bj(a.a)),this.vc=a.vc):a&&(b=String(a).match(cj))?(Yi(this,b[1]||"",!0),this.Ec=dj(b[2]||""),_.Zi(this,b[3]||"",!0),$i(this,b[4]),this.Ja=dj(b[5]||"",!0),_.aj(this,b[6]||"",!0),this.vc=dj(b[7]||"")):this.a=new _.ej(null)};
Yi=function(a,b,c){a.wb=c?dj(b,!0):b;a.wb&&(a.wb=a.wb.replace(/:$/,""))};_.Zi=function(a,b,c){a.nb=c?dj(b,!0):b};$i=function(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.md=b}else a.md=null};_.aj=function(a,b,c){b instanceof _.ej?a.a=b:(c||(b=fj(b,gj)),a.a=new _.ej(b))};dj=function(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""};fj=function(a,b,c){return typeof a===_.ig?(a=encodeURI(a).replace(b,hj),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null};
hj=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)};_.ej=function(a){this.f=a||null};_.ij=function(a){if(!a.a&&(a.a={},a.h=0,a.f))for(var b=a.f.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null;if(0<=d){var f=b[c].substring(0,d);e=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));e=e||"";a.add(f,decodeURIComponent(e.replace(/\+/g," ")))}};
bj=function(a){var b=new _.ej;b.f=a.f;if(a.a){var c={},d;for(d in a.a)c[d]=a.a[d].concat();b.a=c;b.h=a.h}return b};kj=function(a,b){for(var c=_.w(jj[a]),d=c.next();!d.done;d=c.next()){d=d.value;for(var e=_.w(b),f=e.next();!f.done;f=e.next())if(f=f.value,d.test(f.trim()))return f.trim()}return a===_.Q?"":null};_.mj=function(a,b){for(var c=lj[a],d=0;d<c.length;d++)for(var e=0;e<b.length;e++)if(c[d].test(b[e].trim()))return b[e].trim();return a===_.Q?"":null};
_.pj=function(a,b,c){return a.map(function(d){d=_.nj(d)||"";return(d=_.oj[b][d])?d:b===_.Q?c&&"vtt"!==c?Tc:_.og:null}).filter(Boolean)[0]||null};_.nj=function(a){a=(new _.Xi(a)).Ja.split(".");return 1>=a.length?null:a.pop()};_.qj=function(a,b,c,d){this.id=a;this.name=b;this.attributes=c;this.value=void 0===d?null:d};_.rj=function(a,b,c,d){d=void 0===d?{}:d;a=a.getAttribute(b);if(!a&&d.required)throw new _.O(_.P,4,4023,"Required attribute missing: "+b);return a?a.value:c||null};
_.sj=function(a,b){return _.rj(a,b,void 0,{required:!0})};_.tj=function(a,b){this.name=a;this.value=b};
_.uj=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t,v,z,A){l=void 0===l?!1:l;m=void 0===m?null:m;n=void 0===n?null:n;p=void 0===p?null:p;q=void 0===q?null:q;t=void 0===t?[]:t;v=void 0===v?null:v;z=void 0===z?"":z;this.position=a;this.startTime=b;this.endTime=c;this.Ea=g;this.Xa=d;this.za=e;this.ma=f;this.keyInfo=(void 0===h?null:h)||null;this.$c=_.N.R(l)?!1:!!l;this.timescale=m;this.horizontalTiles=n;this.verticalTiles=p;this.durationPerTile=q;this.a=t||[];this.h=!1;this.initSegment=v;this.le=z;this.Na=A};
_.vj=function(a,b,c,d,e,f,g,h,l,m,n,p,q,t,v){t=void 0===t?[]:t;_.uj.call(this,a,b,c,d,e,f,g,void 0===h?null:h,void 0===l?!1:l,void 0===m?null:m,void 0===n?null:n,void 0===p?null:p,void 0===q?null:q,t,void 0===v?null:v);this.la=0};_.xj=function(a,b){a=_.wj(a);b=_.wj(b);return a.split("-")[0]===b.split("-")[0]};_.wj=function(a){var b=(a||"").split("-");a=b[0]||"";b=b[1]||"";a=a.toLowerCase();a=yj.get(a)||a;return(b=b.toUpperCase())?a+"-"+b:a};zj=function(a){if(null!==a&&void 0!==a)return Number(a)};
Aj=function(a){return a.reduce(function(b,c){return b+c},0)};_.Bj=function(a){if(typeof a!==_.ig)return null;var b=a.trim().match(/^(\d+)x(\d+)$/);if(!b)return null;a=parseInt(b[1],10);b=parseInt(b[2],10);return 0>=a||0>=b?null:{Yd:a,re:b,ao:a*b}};_.Cj=function(a,b){for(var c=_.w(a),d=c.next();!d.done;d=c.next())if(!b(d.value))return!1;return!0};Dj=function(){};
Hj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.byteLength!==b.byteLength)return!1;if(Ej(a)===Ej(b)&&(a.byteOffset||0)===(b.byteOffset||0))return!0;for(var c=_.Fj(a),d=_.Fj(b),e=_.w(Gj(a.byteLength)),f=e.next();!f.done;f=e.next())if(f=f.value,c[f]!==d[f])return!1;return!0};_.Fj=function(a,b,c){c=void 0===c?Infinity:c;return Ij(a,void 0===b?0:b,c,Uint8Array)};Jj=function(a,b,c){c=void 0===c?Infinity:c;return Ij(a,void 0===b?0:b,c,Uint16Array)};
Kj=function(a,b,c){c=void 0===c?Infinity:c;return Ij(a,void 0===b?0:b,c,Uint32Array)};_.Lj=function(a,b,c){c=void 0===c?Infinity:c;return Ij(a,void 0===b?0:b,c,Int32Array)};_.Mj=function(a,b,c){c=void 0===c?Infinity:c;return Ij(a,void 0===b?0:b,c,DataView)};Nj=function(a){return a instanceof ArrayBuffer?a:0===a.byteOffset&&a.byteLength===a.buffer.byteLength?a.buffer:(new Uint8Array(a)).buffer};
Ij=function(a,b,c,d){var e=d.BYTES_PER_ELEMENT||1,f=Ej(a),g=(a.byteOffset||0)+a.byteLength;a=Math.max(0,Math.min((a.byteOffset||0)+b*e,g));c=Math.min(a+Math.max(c*e,0),g);a/=e;return new d(f,a,c/e-a)};Ej=function(a){return a instanceof ArrayBuffer?a:a.buffer};Oj=function(){};_.Qj=function(a,b){b=void 0===b?!0:b;var c=_.Pj(a).replace(/\+/g,"-").replace(/\//g,"_");return b?c:c.replace(/[=]*$/,"")};
_.Rj=function(a){a=window.atob(a.replace(/-/g,"+").replace(/_/g,"/"));for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.Sj=function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b};_.Tj=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1===d.length&&(d="0"+d);b+=d}return b};
_.Uj=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0};Vj=function(a){for(var b=0,c=0;c<arguments.length;++c)b+=arguments[c].length;b=new Uint8Array(+b);for(var d=c=0;d<arguments.length;++d)b.set(arguments[d],c),c+=arguments[d].length;return b};_.Pj=function(a){a=_.T.fromCharCode(_.Fj(a));return btoa(a)};_.Wj=function(a){this.f=a;this.a=0};
_.Xj=function(a,b){b.lastIndex=a.a;var c=b.exec(a.f);c=null==c?null:{position:c.index,length:c[0].length,results:c};if(a.a===a.f.length||null===c||c.position!==a.a)return null;a.a+=c.length;return c.results};
_.Yj=function(a,b){var c=b.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!c)throw new _.O(_.P,4,4016,{invalidTag:b});var d=c[1],e=c[2];c=[];var f;if(e){e=new _.Wj(e);var g;(g=_.Xj(e,/^([^,=]+)(?:,|$)/g))&&g[1]&&(f=g[1].trim());for(var h=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;g=_.Xj(e,h);)c.push(new _.tj(g[1],g[2]||g[3]||""))}return new _.qj(a,d,c,f)};_.ak=function(){return{maxAttempts:1,baseDelay:1E3,backoffFactor:2,fuzzFactor:.5,timeout:0,fatalStatusCodes:_.eh(Zj).concat()}};
bk=function(a,b){a.timeout=b.timeout;a.baseDelay=b.baseDelay;a.backoffFactor=b.backoffFactor;a.fuzzFactor=b.fuzzFactor;a.maxAttempts=b.maxAttempts;a.fatalStatusCodes=b.fatalStatusCodes||_.eh(Zj).concat()};ck=function(a){var b={};a.forEach(function(c,d){b[d.trim()]=c});return b};
_.ek=function(a,b){_.N.da(a)&&(a={uris:[a]});Array.isArray(a)&&(a={uris:a});var c={uris:a.uris||[],type:a.type||_.dk,uriIndex:0,method:a.method||"GET",body:a.body||null,headers:Object.assign({},a.headers),allowCrossSiteCredentials:a.allowCrossSiteCredentials||!1,onProgress:a.onProgress||null,onFragment:a.onFragment||null,maxAttempts:a.maxAttempts||1,currentAttempt:0,baseDelay:a.baseDelay||1E3,backoffFactor:a.backoffFactor||2,fuzzFactor:a.fuzzFactor||.5,timeout:a.timeout||0,requestModifiers:a.requestModifiers||
[],responseModifiers:a.responseModifiers||[],startTime:a.startTime||null,endTime:a.endTime||null,contentType:a.contentType||null,licenseRequestType:a.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:a.timescale||null,rateLimitBps:a.rateLimitBps||null,disableFragmentSupport:a.disableFragmentSupport||!1,disableMergedFragments:a.disableMergedFragments||!1,fatalStatusCodes:_.eh(Zj).concat(),requestStartTimestamp:null};a.keyInfo&&(c.keyInfo=a.keyInfo);b&&
bk(c,b);return c};_.ik=function(a,b,c,d,e,f,g,h){a={uri:e||d,data:b,headers:a,status:c,timeMs:g,responseStartMs:h,request:f};if(fk(c))return gk(a);throw hk(a);};fk=function(a){return 200<=a&&299>=a&&202!==a};gk=function(a){return{uri:a.uri,data:a.data||new ArrayBuffer(0),headers:a.headers,status:a.status,fromCache:!!a.headers["x-shaka-from-cache"],timeMs:a.timeMs,responseStartMs:a.responseStartMs,request:a.request}};
hk=function(a){a=gk(a);try{var b=_.T.Sd(a.data,!0)}catch(d){b=null}_.Mh("HTTP error text:",b);var c=a.request;return new _.O(0<=(c?c.fatalStatusCodes||[]:[]).indexOf(a.status)?_.P:1,1,1001,{url:a.uri,status:a.status,responseText:b,headers:a.headers,request:a.request,response:a})};jk=function(a,b){var c=parseInt(b,10);Number.isNaN(c)&&(c=-1);a.bytesTotal=c;a.bytesLoaded=0;a.bytesRemaining=c};
kk=function(a,b,c){0<a.bytesRemaining&&(a.bytesRemaining-=b);a.bytesLoaded+=b;if(a.onProgress)a.onProgress(b,c)};lk=function(a,b,c){if(0>=a)return Promise.resolve();var d=8*c/a-b/1E3;return 0<d?new Promise(function(e){setTimeout(e,1E3*d)}):Promise.resolve()};
_.mk=function(){this.Vi=this.ff=this.done=!1;this.error=this.value=null;var a,b,c=new Promise(function(d,e){a=function(f){this.done=this.ff=!0;this.value=f;d(f)};b=function(f){this.done=this.Vi=!0;this.error=f;e(f)}});c.ff=!1;c.done=!1;c.Vi=!1;c.value=null;c.error=null;c.resolve=a;c.reject=b;return c};_.nk=function(a,b){this.T=a;this.A=b;this.a=!1};rk=function(a,b){a.T.then(function(){return b(!0)},function(){return b(!1)});return a};_.sk=function(){this.a=[]};
_.tk=function(a,b){a.a.push(rk(b,function(){var c=a.a,d=c.indexOf(b);-1<d&&c.splice(d,1)}))};_.Ak=function(){this.f=[];this.h=[];this.j=[];this.w=!1;this.o=new _.sk;this.a={};this.headers=new Map;this.l=0;this.a.data=uk;!window.fetch||!window.AbortController||_.vk(6)||_.wk()&&68<_.xk().browserVersion.major?(this.a.http=yk,this.a.https=yk):(this.a.http=zk,this.a.https=zk)};Bk=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.T,_.y(e,a.fetch(b),2);d=e.f;return e["return"](c.xi(c.$(d.data)))})};
Ck=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.y(e,Bk(a,b),2);c=e.f;try{d=JSON.parse(c);if(null==d||typeof d!==_.Xe)throw Error("Not an object");return e["return"](d)}catch(f){throw new _.Si("Failed to parse JSON response","json-failed");}})};
Dk=function(a,b,c,d){d=void 0===d?"HEAD":d;var e,f;return _.I(function(g){switch(g.a){case 1:if(!navigator.onLine)return g["return"](!1);if(!b){g.F(2);break}e=_.ek(b,c);e.method=d;c||(e.timeout=5E3);e.headers["cache-control"]="no-cache";_.D(g,4);return _.y(g,a.fetch(e).T,6);case 6:_.sh(g,2);break;case 4:if(f=_.F(g),1002===f.code||1003===f.code)return g["return"](!1);case 2:return g["return"](!0)}})};
Ek=function(a,b){for(var c=_.w(a.headers),d=c.next();!d.done;d=c.next()){var e=_.w(d.value);d=e.next().value;e=e.next().value;b.headers[d]||(b.headers[d]=e)}};Fk=function(a,b){var c=new _.Xi(b.uris[b.uriIndex]),d=c.wb;d||(d=location.protocol,d=d.slice(0,-1),Yi(c,d),b.uris[b.uriIndex]=c.toString());var e=a.a[d];if(!e)throw new _.O(_.P,1,1E3,{url:c.toString()});return function(f){return e(f)}};
_.Gk=function(a,b){this.id=a;this.type=b;this.roles=[];this.frameRate=this.label=this.originalLanguage=this.language=this.kind=null;this.trickPlay=!1;this.channelsCount=this.src=this.mimeType=null;this.spatialAudio=!1;this.renditions=[];this.accessibility=[]};_.Hk=function(a){return a&&a!==_.ug?a:null};
Lk=function(a){if(!a)throw new _.O(_.P,3,3101,kb+a);if(!_.N.da(a))throw new _.O(_.P,3,3101,kb+a+". Track type must be a string!");switch(a.toLowerCase()){case _.U:return _.U;case _.Ik:return _.Ik;case _.Jk:return _.Jk;case Kk:return Kk}throw new _.O(_.P,3,3101,"Unknown track type: "+a+".");};
Nk=function(a,b){a=Lk(a);var c=_.Hk(b.kind),d=b.id;d||(d=String(_.Mk++));d=new _.Gk(d,c===_.Qe?Kk:a);d.kind=c;d.label=_.Hk(b.label);d.language=_.Hk(b.language);d.originalLanguage=b.originalLanguage||d.language;return d};Ok=function(a){return"@@scheme:"+(a.scheme||"")+("@@value:"+a.value)+("@@id:"+(a.id||"")+"@@type:"+(a.type||""))+("@@protocol:"+(a.protocol||""))};_.Pk=function(a,b){this.track=b;this.id=a;this.originalId=this.codec=this.xd=this.bandwidth=this.height=this.width=null};
_.Qk=function(a){this.j=a;this.scheme=null;var b=document.createElement("a"),c=a.match(/^(.*:)(\/\/(.*))$/),d=!1;if(c){if(this.scheme=c[1],b.href=c[2],":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+c[3],d=!0}else{b.href=a;if(":"===b.protocol||""===b.host&&""===b.pathname)b.href="//dummy.com/"+a.match(/\/?\/?(.*)/)[1],d=!0;this.scheme=b.protocol}""===this.scheme&&(this.scheme=window.location.protocol);this.a=d?"":b.hostname;this.port=b.port;this.path=b.pathname;_.T.startsWith(this.path,
"/")||(this.path="/"+this.path);this.f=b.search;this.h=b.hash};_.Rk=function(a){return a.scheme+"//"+(a.a+(a.port?":"+a.port:"")+a.path+a.h+a.f)};_.Sk=function(a,b,c){return a?(c||Object.keys(a).sort()).reduce(function(d,e){if(!(e in a))return d;var f=a[e],g="\x26";""===d&&(g=b?"":"?");d=d+g+encodeURIComponent(e);return d=d+"\x3d"+encodeURIComponent(void 0===f?"":f)},""):""};
_.Tk=function(a){var b={};a=a||"";a=a.substring(a.indexOf("?")+1);a=_.w(a.split("\x26"));for(var c=a.next();!c.done;c=a.next()){var d=c.value.split("\x3d");c=decodeURIComponent(d[0]);d=decodeURIComponent(d[1]||"");c&&(b[c]=d)}return b};Uk=function(a,b){return a.startsWith("http:://")||a.startsWith("https:://")?a:(new URL(a,b)).toString()};
Vk=function(a){this.f=a;this.g=new _.K("clpp.native.hls.HlsMetadataParser");this.a=Ti(this.h.bind(this),function(b,c){return b[0]===c[0]&&b[1].enableHlsVideoTrackInfo===c[1].enableHlsVideoTrackInfo&&b[1].enableMetadata===c[1].enableMetadata})};
Yk=function(a,b,c){var d,e,f,g,h;return _.I(function(l){if(1==l.a)return _.y(l,Wk(a,b,c),2);d=l.f;e=d.mimeType;f=d.renditions;g=new _.Gk("dummy",_.Jk);h=f.map(function(m,n){var p=new _.Pk("R"+n,g);p.bandwidth=m.bandwidth;p.xd=m.xd;p.codec=m.codec;p.width=m.width;p.height=m.height;return p});Xk(h);return l["return"]({renditions:h,mimeType:e||void 0})})};
$k=function(a){a=a.split("\n").filter(function(c){return c.trim().startsWith("#EXT-X-MEDIA:")}).map(function(c){return Zk(c)});var b=new Map;a.forEach(function(c){if(c.type&&c.name){var d=c.type+":"+c.name;if(b.has(d))throw Error("#EXT-X-MEDIA:NAME attributes are not unique. It is impossible to map HLS metadata to Safari data structures.");b.set(d,c)}});return b};
Zk=function(a){function b(d){return(d=c.getAttribute(d))?d.value:void 0}var c=_.Yj(0,a);a=b(_.Zb);a=null!=a?{AUDIO:_.Ik,VIDEO:_.Jk,SUBTITLES:_.U}[a]:void 0;return{type:a,groupId:b(_.ab),name:b("NAME"),language:b(_.nb),Fo:b("AUTOSELECT"),"default":b("DEFAULT"),Qo:b("FORCED"),fh:b("CHARACTERISTICS"),uri:b(_.ac)}};Xk=function(a){var b=new Set;a.forEach(function(c){b.add(c.width+"x"+c.height)});if(b.size<a.length)throw Error("Playlist contains multiple renditions with the same resolution.");};
al=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return c=_.ek(b),_.y(e,Bk(a.f,c),2);d=e.f;return e["return"](d)})};Wk=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return d=bl(b),e=dl(b,c),f=d[0]?d[0].codec:null,_.y(h,el(a,e,f),2);g=h.f;return h["return"]({mimeType:g,renditions:d})})};el=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return b&&c?_.y(f,al(a,b),2):f["return"](null);d=f.f;e=[fl(d,b),gl(d,b)].filter(Boolean);return f["return"](_.pj(e,_.r,c))})};
bl=function(a){return a.split("\n").filter(function(b){return b.trim().startsWith("#EXT-X-STREAM-INF:")}).map(function(b){var c=_.Yj(0,b);if(c.getAttribute(_.gc))throw Error("Playlist contains alternative video streams.");var d=_.rj(c,_.Ob);b=d?Number(d.split("x")[0]):null;d=d?Number(d.split("x")[1]):null;var e=_.rj(c,_.ma);e=e?Number(e):null;var f=_.rj(c,"AVERAGE-BANDWIDTH");f=f?Number(f):null;c=_.rj(c,_.qa);c=_.mj(_.r,c?c.split(","):[]);return{bandwidth:e,xd:f,codec:c,width:b,height:d,mimeType:null}})};
dl=function(a,b){var c=a.split("\n").filter(function(d){return d.trim().endsWith(".m3u8")})[0];return c?Uk(c,b):null};fl=function(a,b){var c=a.split("\n").find(function(d){return!d.startsWith("#")&&0<d.trim().length});return c?Uk(c,b):null};gl=function(a,b){var c=a.split("\n").find(function(d){return d.startsWith("#EXT-X-MAP:")});return c?(c=_.rj(_.Yj(0,c),_.ac))?Uk(c,b):null:null};
_.il=function(a,b,c){for(var d=_.w(_.hl),e=d.next();!e.done;e=d.next())if(e=e.value,e.probe(b,c))return e.create(a);return null};_.jl=function(a){a=_.hl.indexOf(a);0<=a&&_.hl.splice(a,1)};_.kl=function(){};nl=function(a,b){var c=ll;ml.set(a.toLowerCase().split(";")[0]+"-"+c,{priority:c,plugin:b})};_.rl=function(a,b){for(var c=_.w([ol,pl,ql,ll]),d=c.next();!d.done;d=c.next())if(d=ml.get(a.toLowerCase().split(";")[0]+"-"+d.value)){var e=d.plugin(),f=e.isSupported(a,b);e.destroy();if(f)return d.plugin}return null};
_.sl=function(a,b){var c=a;b&&(c+=';codecs\x3d"'+b+'"');return c.replace(/\s/g,"")};_.tl=function(a){return a.split(";")[0]};_.ul=function(a){a=a.split(/\s*;\s*/);a.shift();return(a=a.find(function(b){return b.startsWith("codecs\x3d")}))?a.split("\x3d")[1].replace(/^"|"$/g,"").split(/\s*,\s*/).join(","):""};_.vl=function(a){this.f=a;this.a=null};
wl=function(a,b,c){function d(){e&&a.f()}a.stop();var e=!0,f=null;a.a=function(){c?clearInterval(f):clearTimeout(f);e=!1};f=c?setInterval(d,1E3*b):setTimeout(d,1E3*b);return a};_.xl=function(a){this.f=a;this.a=null};yl=function(a){return 0>=a?Promise.resolve():new Promise(function(b){setTimeout(function(){b()},1E3*a)})};zl=function(){};_.Al=function(){return!!navigator.userAgent.match(/Edge?\//)};_.vk=function(a){return _.Bl("Tizen"+(a?" "+String(a):""))};_.wk=function(){return _.Bl("Web0S")};
_.Dl=function(){return _.wk()&&79===_.Cl().major};_.El=function(){return _.Bl("CrKey")};_.Fl=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!_.vk()};_.Gl=function(){return/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)?!0:_.Fl()&&1<navigator.maxTouchPoints};_.Hl=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)};_.Bl=function(a){return(navigator.userAgent||"").includes(a)};
Kl=function(){if(Il)return Il;Jl||(Jl=new _.xl(function(){Il=null}));(Il=document.querySelector(_.r)||document.querySelector(_.Zc))||(Il=document.createElement(_.r));Jl.ca(1);return Il};Ml=function(a,b){try{return parseInt(b,10)}catch(c){Ll.warn("Unable to parse version number for '"+b+"' from '"+a+"'")}return-1};
Nl=function(a){var b={major:-1,name:_.vg};if(!a)return b;var c=a.replace(/_/g,".");b.name=c;c=c.split(".");1<=c.length&&(b.major=Ml(a,c[0]));2<=c.length&&(b.minor=Ml(a,c[1]));3<=c.length&&(b.patch=Ml(a,c[2]));4<=c.length&&(b.build=Ml(a,c[3]));return b};Ol=function(a,b){if(!a||!b||0===b.length)return!1;for(var c=0;c<b.length;c++)if(0<=a.indexOf(b[c]))return!0;return!1};
Yl=function(){var a=Pl();if(!a)return Ql;var b=a.match(/^.+?(?=\))/);if(!b)return Ql;b=b[0];if(Ol(b,["iphone","ipad"]))return Rl;if(Ol(b,["android"]))return Sl;if(Ol(b,["macintosh"]))return Tl;if(Ol(b,["windows nt"]))return Ul;if(Ol(b,["tizen"]))return Vl;if(Ol(b,["web0s"]))return Wl;if(Ol(b,["linux"]))return Xl;Ll.warn("Unable to identify OS from user agent: "+a);return Ql};
_.Cl=function(){var a=Pl(),b=["ie","edge","opera","firefox","safari",ud];var c=Yl();for(var d=Zl[c],e=0,f=b.length;e<f;e++)if(c=d[b[e]]&&a.match(d[b[e]]))return Nl(c[1]);return Nl("")};Pl=function(){var a=window.navigator.userAgent;return a=a.toLowerCase()};
_.xk=function(){var a=Yl();var b=Yl();var c=Zl[b];if(c){c=Pl().match(c.os_version)[1];c=Nl(c);if(b===Ul)if("5.1"===c.name)c.name="xp";else if("6.1"===c.name)c.name="7";else if("6.2"===c.name||"6.3"===c.name)c.name="8";b=c}else b=Nl("");a:{c=Pl();var d=["ie","edge","opera","firefox","safari",ud],e=Yl();e=Zl[e];for(var f=0,g=d.length;f<g;f++)if(e[d[f]]&&c.match(e[d[f]])){c=d[f];break a}c=$l}return{os:a,osVersion:b,browser:c,browserVersion:_.Cl()}};
am=function(){this.g=new _.K("clpp.native.TrackManager");this.m=null;this.f=new _.Wh;this.h=[];this.B=0;this.o={};this.C=[];this.a=new Map;this.w=null;this.l=new Map;this.A=!0;this.J=this.kg.bind(this,_.U);this.L=this.mg.bind(this,_.U);this.K=this.lg.bind(this,_.U);this.M=this.kg.bind(this,_.Jk);this.U=this.mg.bind(this,_.Jk);this.P=this.lg.bind(this,_.Jk);this.G=this.kg.bind(this,_.Ik);this.I=this.mg.bind(this,_.Ik);this.H=this.lg.bind(this,_.Ik);this.j=null};
cm=function(a,b){var c,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){c=a.m.getConfiguration();d=_.il(c,b.mimeType,_.og);if(!d)return a.g.warn("Track MIME type is not supported",b),n["return"]();e=_.ek(b.url);return _.y(n,a.m.getNetworkEngine().fetch(e).T,2)}(f=n.f)&&f.data&&(g="External_"+a.B++,a.o[g]=b,h=d.a(_.Fj(f.data)),l=URL.createObjectURL(new Blob([h])),m={url:l,kind:b.kind,language:b.language,label:b.label,mimeType:_.og},bm(a,m,g));_.B(n)})};em=function(a,b,c){return dm(a)&&b===_.Jk&&!!c.enableHlsVideoTrackInfo};
fm=function(a,b,c){return dm(a)&&(b===_.Ik||b===_.U)&&!!c.enableMetadata};dm=function(a){a=a.m.getLoadedSource();return!(!a||a.type!==_.gm&&!a.url.endsWith(".m3u8"))&&_.Fl()};hm=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a)return(d=a.m.getLoadedSource())&&a.j?_.y(f,a.j.a(d.url,c),2):f["return"]();e=f.f;e.mimeType&&(b.mimeType=e.mimeType);e.renditions&&0<e.renditions.length&&(b.renditions=e.renditions,b.renditions.forEach(function(g){g.track=b}));_.B(f)})};
im=function(a,b,c){var d,e,f,g;return _.I(function(h){if(1==h.a)return(d=a.m.getLoadedSource())&&a.j?_.y(h,a.j.a(d.url,c),2):h["return"]();e=h.f;e.kd&&(f=b.type+":"+b.label,(g=e.kd.get(f))&&g.fh&&(b.accessibility=g.fh.split(",").map(function(l){return l.trim()}).map(function(l){return{value:l,type:b.type,protocol:"HLS"}})));_.B(h)})};
bm=function(a,b,c){if(a.m){var d=a.m.getSurface().getMedia();if(d){var e=document.createElement("track");e.id=c;e.kind=b.kind;e.srclang=b.language;b.label&&(e.label=b.label);_.T.empty(b.url)?e.src=URL.createObjectURL(new Blob([])):e.src=b.url;d.appendChild(e);a.C.push(e)}}};jm=function(a,b){if(!a.m)return null;var c=a.m.getSurface();if(!c)return null;c=c.getMedia();if(!c)return null;switch(b){case _.Ik:return c.audioTracks;case _.Jk:return c.videoTracks;case _.U:return c.textTracks;default:return null}};
km=function(a,b){var c=jm(a,b);c&&(c=Array.from(c),b===_.U&&(c=c.filter(function(d){return d.kind!==_.Qe})));return c};lm=function(a,b){return a.h.filter(function(c){return c.type===b})};mm=function(a,b){var c=a.a.get(b)||null;return c&&c.renditions[0]};nm=function(a,b){var c=a.l.get(b);return c&&c.renditions[0]};
rm=function(a,b,c){var d=km(a,b);if(c){if(void 0===a.h.find(function(l){return l.id===c.id}))throw Error("Unknown track with ID "+c.id+" and type "+b);if(c.type!==b)throw Error("Types mismatch for track "+c.type+" and arg "+b);a.g.debug("Activate track type "+b+" with ID: "+c.id);if(d){a.l.set(b,c);var e=!0,f=!1;switch(b){case _.U:var g="mode";e=_.Zf;f=_.Wd;break;case _.Ik:g="enabled";break;case _.Jk:g="selected"}if(g){d=_.w(d);for(var h=d.next();!h.done;h=d.next())h=h.value,h[g]=om(c,h,c.type)?e:
f}}}else if(a.g.debug("Disable track type "+b),a.a.get(b)&&d&&b===_.U){g=_.w(d);for(h=g.next();!h.done;h=g.next())h.value.mode=_.Wd;a.a.set(b,null)}b===_.Ik?a.m.trigger(new _.L(_.pm)):b===_.U&&a.m.trigger(new _.L(_.qm))};sm=function(a){return a.enabled||a.selected||a.mode===_.Zf||a.mode===_.we};
tm=function(a,b,c){c=_.zi(c).filter(function(e){return e});a.g.info("Find preferred tracks for",b,c);var d=lm(a,b);c.some(function(e){var f=_.wj(e);return(e=d.find(function(g){g=_.wj(g.language||"");return _.xj(f,g)}))?(a.g.info("Will select track with id",e.id),rm(a,b,e),!0):!1})};um=function(a){(a=a.m.getTextDisplayer())&&a.remove(0,Infinity)};
om=function(a,b,c){return a.type!==c?!1:void 0!==b.id&&null!==b.id&&""!==b.id?a.id===b.id:_.N.na(a,{kind:_.Hk(b.kind),language:_.Hk(b.language),label:_.Hk(b.label)},["kind","language","label"])};_.vm=function(a,b){this.length=(this.f=a)?a.length:0;this.a=[];this.type=void 0===b?"total":b};_.wm=function(){this.Qd=new Vh(this);this.Nd=[]};ym=function(a){return a.name===Cb&&xm.some(function(b){return a.message.startsWith(b)})};zm=function(){};
_.Cm=function(){var a=Infinity;navigator.connection&&navigator.connection.saveData&&_.Gl()&&(a=360);var b=_.ak();b.maxAttempts=3;a={source:"",license:Am,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,ads:{hls:{enable:!0,resolutionOffsetSec:35}},manifest:{attemptParameters:_.ak(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0,timeline:{version:1,type:void 0}},abr:{enabled:!0,defaultBandwidthEstimate:1E3,switchInterval:8,bandwidthUpgradeTarget:.85,
bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:Bm(a),useCmsd:!0},contentSteering:{enabled:!0,attemptParameters:_.ak()},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:_.Me,preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],preferSpatialAudio:!1,preferForcedSubtitles:!1,volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,forceWaitForTracks:!1,
streaming:{attemptParameters:b,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,relativeTextTimestamp:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,disableAudioTracks:!1,disableVideoTracks:!1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,preferNativeHlsOnSafari:!0,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,
chasingRate:1.15,startChasingAt:5,stopChasingAt:2,chaseJumpDistance:10,patchEdgeWhenMixedContent:!1,ignoreDrift:!1,disableFragmentSupport:!1,disableMergedFragments:!1,ignoreManagedMediaSourceStreamingHints:!1},mediaSource:{codecSwitchingStrategy:_.If},restrictions:Bm(),tizen:{sideStreamText:_.vk(2)},safari:{enableHlsVideoTrackInfo:!1,enableMetadata:!1},mse:{sendPlaybackSessionIdHeader:!1},trickPlay:{speedUpMode:_.Ud,preferTrickPlayTracks:!0},playlist:{timeline:"basic",content:_.hc,cropTimeline:!1},
yospace:{enabled:!1}};if(_.vk()||_.wk())a.ads.hls.enable=!1;if(_.Bl("Edge/")||_.vk())a.streaming.gapDetectionThreshold=.5;_.wk()&&(a.streaming.stallEnabled=!1);_.Dl()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=1,a.streaming.gapDetectionThreshold=.02);_.vk()&&(a.streaming.stallEnabled=!0,a.streaming.stallThreshold=1,a.streaming.stallSkip=0);a.vr={enable:!1,attachMouseListener:!0,fieldOfView:70,sensitivity:1,invertHorizontalControl:!1,invertVerticalControl:!1};
return a};
_.Em=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];if(!b)return _.Cm();c=[_.Cm()];var d=!1;b=_.w(b);for(var e=b.next();!e.done;e=b.next())e=e.value,null!==e&&void 0!==e&&(_.N.da(e)&&(e={source:e}),e.lowLatencyMode&&!d&&(c.push({streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{lowLatencyMode:!0}}),d=!0),c.push(e),null!=e.suggestedPresentationDelay&&
c.push({manifest:{suggestedPresentationDelay:e.suggestedPresentationDelay}}));c=_.N.qa.apply(null,c);_.N.da(c.volume)&&(""===""+c.volume?c.volume=null:c.volume=Number(c.volume));if(!_.N.R(c.volume)&&(!_.N.ua(c.volume)||_.N.isNaN(c.volume)))throw new _.O(_.P,7,7100,"config.volume is not a number");if(!_.N.R(c.preferredTextLanguage)&&!_.N.da(c.preferredTextLanguage)&&!Array.isArray(c.preferredTextLanguage))throw new _.O(_.P,7,7100,"config.preferredTextLanguage is not a string or an array");if(!_.N.R(c.preferredAudioLanguage)&&
!_.N.da(c.preferredAudioLanguage)&&!Array.isArray(c.preferredAudioLanguage))throw new _.O(_.P,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!_.N.R(c.preferredAudioCodec)&&!_.N.da(c.preferredAudioCodec)&&!Array.isArray(c.preferredAudioCodec))throw new _.O(_.P,7,7100,"config.preferredAudioCodec is not a string or an array");if(!_.N.R(c.preferredVideoCodec)&&!_.N.da(c.preferredVideoCodec)&&!Array.isArray(c.preferredVideoCodec))throw new _.O(_.P,7,7100,"config.preferredVideoCodec is not a string or an array");
if(!_.N.R(c.drm)){if(c.drm.env&&!_.N.da(c.drm.env))throw new _.O(_.P,7,7100,"config.drm.env is not a string");if(c.drm.offlineId&&!_.N.da(c.drm.offlineId))throw new _.O(_.P,7,7100,"config.drm.offlineId is not a string");}if(d=c.streaming){d.bufferingGoal=Number(d.bufferingGoal);d.rebufferingGoal=Number(d.rebufferingGoal);d.bufferBehind=Number(d.bufferBehind);d.smallGapLimit=Number(d.smallGapLimit);d.durationBackoff=Number(d.durationBackoff);if(!_.N.ua(d.bufferingGoal)||_.N.isNaN(d.bufferingGoal))throw new _.O(_.P,
7,7100,"config.streaming.bufferingGoal is not a number");if(!_.N.ua(d.rebufferingGoal)||_.N.isNaN(d.rebufferingGoal))throw new _.O(_.P,7,7100,"config.streaming.rebufferingGoal is not a number");if(d.rebufferingGoal>d.bufferingGoal)throw new _.O(_.P,7,7100,"config.streaming.rebufferingGoal must be \x3e\x3d bufferingGoal");if(!_.N.ua(d.bufferBehind)||_.N.isNaN(d.bufferBehind))throw new _.O(_.P,7,7100,"config.streaming.bufferBehind is not a number");if(!_.N.ua(d.smallGapLimit)||_.N.isNaN(d.smallGapLimit))throw new _.O(_.P,
7,7100,"config.streaming.smallGapLimit is not a number");if(!_.N.ua(d.durationBackoff)||_.N.isNaN(d.durationBackoff))throw new _.O(_.P,7,7100,"config.streaming.durationBackoff is not a number");d=c.manifest;if(_.N.R(d.availabilityWindowOverride))d.availabilityWindowOverride=NaN;else if(typeof d.availabilityWindowOverride!==_.k)throw new _.O(_.P,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");Dm(c.restrictions);Dm(c.abr.restrictions);c.abr.initialRestrictions&&Dm(c.abr.initialRestrictions)}return c};
Bm=function(a){a=void 0===a?Infinity:a;return{minWidth:0,maxWidth:Infinity,minHeight:0,maxHeight:a,minPixels:0,maxPixels:Infinity,minBandwidth:0,maxBandwidth:Infinity}};
Dm=function(a){_.N.R(a.maxPixels)&&(a.maxPixels=Infinity);_.N.R(a.maxBandwidth)&&(a.maxBandwidth=Infinity);_.N.R(a.maxHeight)&&(a.maxHeight=Infinity);_.N.R(a.maxWidth)&&(a.maxWidth=Infinity);_.N.R(a.minPixels)&&(a.minPixels=0);_.N.R(a.minBandwidth)&&(a.minBandwidth=0);_.N.R(a.minHeight)&&(a.minHeight=0);_.N.R(a.minWidth)&&(a.minWidth=0);a.minWidth=Number(a.minWidth);a.maxWidth=Number(a.maxWidth);a.minHeight=Number(a.minHeight);a.maxHeight=Number(a.maxHeight);a.minBandwidth=Number(a.minBandwidth);
a.maxBandwidth=Number(a.maxBandwidth);a.minPixels=Number(a.minPixels);a.maxPixels=Number(a.maxPixels);if(Number.isNaN(a.minWidth)||Number.isNaN(a.maxWidth)||Number.isNaN(a.minHeight)||Number.isNaN(a.maxHeight)||Number.isNaN(a.minBandwidth)||Number.isNaN(a.maxBandwidth)||Number.isNaN(a.minPixels)||Number.isNaN(a.maxPixels))throw new _.O(_.P,7,7100,"Restrictions contain NaN");};Fm=function(a){return typeof a===_.Xe&&!Array.isArray(a)&&"source"in a};
_.Gm=function(a){_.wm.call(this);this.log=new _.K(a);this.configuration=this.Ha=_.Cm();this.Z=this.C=null;this.ee=this.wg=!1;this.Rg=new _.K("clpp.video.events");this.yd=null;this.Re=-1;this.kj=this.En.bind(this);this.tg=new _.Ak;this.M=new _.Wh;this.sg=this.Nc=this.bd=this.U=null};_.Im=function(a){return _.Hm.get(a)||null};_.Km=function(a){_.Hm.get(a.id())?Jm.warn("Component already in use."):_.Hm.set(a.id(),a)};
Lm=function(a){return Array.from(_.Hm.values()).find(function(b){return b instanceof a})||null};Mm=function(a){for(var b=_.w(_.Hm.values()),c=b.next();!c.done;c=b.next())a(c.value)};Nm=function(a){Mm(function(b){b.o(a)})};Om=function(a){Mm(function(b){b.h(a)})};Pm=function(){Mm(function(){})};Qm=function(){Mm(function(){})};Rm=function(a){if(null!==Lm(a))return null;a=new a;a.f();_.Km(a);Jm.info("Installed component:",a.id());return a};
Sm=function(a){if(a=Lm(a))a.a(),_.Hm["delete"](a.id()),Jm.info("Uninstalled component:",a.id())};Tm=function(){this.a=this.f=null;this.g=new _.K("clpp.drm.csl")};Um=function(a,b){3===b.type&&(a.f&&(a.g.debug("Attaching tracking token"),b.headers[Xg]=a.f),a.a&&(b.headers[Yg]=a.a))};
Vm=function(a,b){if(b.request&&3===b.request.type){a.f=b.headers[Xg];a.a=b.headers[Yg];var c=b.headers["x-dt-csl-renewal-info"];a.f&&a.g.debug("Loaded tracking token "+a.f);a.a&&a.g.debug("Loaded followup token "+a.a);if(c)return c=JSON.parse(_.T.$(_.Rj(c))),{delay:c.renewalPeriod,Bo:{maxAttempts:c.retryCount,baseDelay:1E3*c.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}}return null};_.Xm=function(a){_.Wm[a.J]=a};
_.Zm=function(a){var b={attemptParameters:_.ak(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,enableSessionCacheForSkd:!1,ignoreUnrecognizedInitData:!0,Ma:{},widevineVersion:_.Od};if(a&&(b.enforceSingleSession=!!a.enforceSingleSession,b.delayLicenseRequestUntilPlayed=!!a.delayLicenseRequestUntilPlayed,b.preferredDrmSystem=a.preferredDrmSystem,b.emeApi=a.emeApi,a.attemptParameters&&(b.attemptParameters=a.attemptParameters),b.enableSessionCacheForSkd=!!a.enableSessionCacheForSkd,void 0!==
a.ignoreUnrecognizedInitData&&(b.ignoreUnrecognizedInitData=!!a.ignoreUnrecognizedInitData),typeof a.widevineVersion===_.ig&&0<a.widevineVersion.length&&(b.widevineVersion=a.widevineVersion),a.env)){var c=_.Wm[a.env]||null;if(!c)throw _.Mh(_.xa,_.Lb+a.env+_.aa),new _.O(_.P,6,6015,_.ya+a.env+"' is missing.");b.Ma=_.Ym(c,a.customData)||{};_.T.startsWith(a.env.toLowerCase(),ke)&&(b.enforceSingleSession=!0)}return b};
an=function(a){a=$m[a];if(!a)return null;var b=_.xk();return b.os===Sl&&4===b.osVersion.major&&4===b.osVersion.minor?null:new Uint8Array(a)};_.bn=function(a){this.J=a;this.f={}};
_.Ym=function(a,b){var c={},d=b?b.widevineVideoRobustness:void 0,e=b?b.widevineAudioRobustness:void 0,f=b?b.serverCertificate:void 0,g=a.f[_.Od];g&&(c[_.Od]={licenseUrl:g.licenseUrl,videoRobustness:Wi(d,g.videoRobustness),audioRobustness:Wi(e,g.audioRobustness),modifiers:g.modifiers,distinctiveIdentifierRequired:Vi(b?b.widevineDistinctiveIdentifierRequired:void 0,g.distinctiveIdentifierRequired,!1),persistentStateRequired:Vi(b?b.widevinePersistentStateRequired:void 0,g.persistentStateRequired,!1),
serverCertificate:void 0===f?g.serverCertificate:null===f?null:typeof f===_.ig?an(f):f});(g=a.f[_.Jd])&&(c[_.Jd]={licenseUrl:g.licenseUrl,certificateUrl:g.certificateUrl,modifiers:g.modifiers});d=b?b.playReadyVideoRobustness:void 0;e=b?b.playReadyAudioRobustness:void 0;(g=a.f[_.Md])&&(c[_.Md]={licenseUrl:g.licenseUrl,videoRobustness:d||g.videoRobustness,audioRobustness:e||g.audioRobustness,individualizationServer:g.individualizationServer,useLegacySystem:g.useLegacySystem,modifiers:g.modifiers});
return c};_.cn=function(a,b){b=void 0===b?!1:b;this.f=_.N.ua(a)?new DataView(new ArrayBuffer(a),0,a):a;this.a=0;this.h=b;this.buffer=this.f.buffer};_.en=function(a,b,c){var d=c||0;c=b.byteLength-d;var e=_.Fj(a.f.buffer);b=_.Fj(b.buffer,d,c);try{e.set(b,a.a),a.a+=c}catch(f){_.dn()}};_.W=function(a,b){try{a.f.setUint32(a.a,b,a.h),a.a+=4}catch(c){_.dn()}};_.dn=function(){throw new _.O(_.P,3,3E3);};_.fn=function(a,b){this.f=a;this.h=void 0===b?!0:b;this.a=0};_.gn=function(a){return a.a<a.f.byteLength};
_.jn=function(a){try{var b=a.f.getUint8(a.a);a.a+=1;return b}catch(c){_.hn()}};_.kn=function(a){try{var b=a.f.getUint16(a.a,a.h);a.a+=2;return b}catch(c){_.hn()}};_.ln=function(a){try{var b=a.f.getUint32(a.a,a.h);a.a+=4;return b}catch(c){_.hn()}};_.mn=function(a){try{var b=a.f.getInt32(a.a,a.h);a.a+=4;return b}catch(c){_.hn()}};
_.nn=function(a){var b=0,c=0;try{!0===a.h?(b=a.f.getUint32(a.a,!0),c=a.f.getUint32(a.a+4,!0)):(c=a.f.getUint32(a.a,!1),b=a.f.getUint32(a.a+4,!1))}catch(d){_.hn()}if(2097151<c)throw new _.O(_.P,3,3001);a.a+=8;return c*Math.pow(2,32)+b};on=function(a,b){for(var c=new Uint8Array(b),d=0;d<b;d++)c[d]=_.jn(a);return c};_.pn=function(a,b){a.a+b>a.f.byteLength&&_.hn();var c=a.a+a.f.byteOffset;c=a.f.buffer.slice(c,c+b);a.a+=b;return _.Fj(c)};
_.hn=function(){throw new _.O(_.P,3,3E3,"Buffer read out of bounds.");};_.qn=function(){this.h=[];this.f=[];this.a=!1;this.g=new _.K("clpp.mp4")};_.rn=function(a){for(;_.gn(a.reader)&&!a.parser.a;)a.parser.df(a.start+a.headerSize,a.reader,a.partialOkay)};_.sn=function(a){for(var b=_.ln(a.reader);0<b&&!a.parser.a;--b)a.parser.df(a.start+a.headerSize,a.reader,a.partialOkay)};_.tn=function(a){return function(b){var c=b.reader.Pa()-b.reader.getPosition();a(_.pn(b.reader,c))}};
un=function(a){for(var b=0,c=0;c<a.length;c++)b=b<<8|a.charCodeAt(c);return b};_.vn=function(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)};_.wn=function(a){return 8+(a.has64BitSize?8:0)+(null!=a.flags?4:0)};xn=function(){};yn=function(a){var b="";try{b=_.T.Sd(a)}catch(c){}return b};_.zn=function(a){a=yn(a);var b="";a.length&&(b=(new _.Qk(a)).a);return b};
An=function(a){if(!a)return null;var b=null;try{var c=JSON.parse(_.T.$(a)),d=_.Rj(c.sinf[0]);(new _.qn).N(_.bg,_.rn).N("schi",_.rn).N("tenc",function(e){e.reader.skip(6);_.jn(e.reader)&&(e.reader.skip(1),b=_.Tj(_.pn(e.reader,16)));e.parser.stop()}).parse(d)}catch(e){}return b};
Bn=function(a,b,c){if(!c||!c.byteLength)throw new _.O(_.P,6,6102);var d;typeof b===_.ig?d=_.T.jf(b,!0):d=b;a=_.T.jf(yn(a),!0);b=new _.cn(12+a.byteLength+d.byteLength+c.byteLength,!0);_.W(b,a.byteLength);_.en(b,_.Fj(a));_.W(b,d.byteLength);_.en(b,_.Fj(d));_.W(b,c.byteLength);_.en(b,_.Fj(c));return _.Fj(b.buffer)};_.Cn=function(a){var b=_.Fj(a.body);b=_.Qj(b);a.headers[wa]=Yc;a.body=_.T.$a("spc\x3d"+b).buffer};
_.Dn=function(a){try{var b=_.T.$(a.data)}catch(d){return}b=b.trim();"\x3cckc\x3e"===b.substr(0,5)&&"\x3c/ckc\x3e"===b.substr(-6)&&(b=b.slice(5,-6));try{var c=JSON.parse(b);c.ckc&&(b=c.ckc);c.CkcMessage&&(b=c.CkcMessage);c.License&&(b=c.License)}catch(d){}a.data=Nj(_.Rj(b))};
Jn=function(){var a=En;if(a===Fn)return"https://lic.drmtoday.com";if(a===Gn)return"https://lic.staging.drmtoday.com";if(a===Hn)return"https://lic-demo.staging.drmtoday.com";if(a===In)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+a+"'. Can not infer DRMtoday base URL!");};Nn=function(a){var b=Jn();if(a===_.Od)return b+Kn;if(a===_.Md)return b+Ln;if(a===_.Jd)return b+Mn;throw Error("Unknown DRM Key-System '"+a+"'. Can not infer license URL!");};
On=function(a){a=a.replace(/assetid/gi,"assetId");a=a.replace(/variantid/gi,"variantId");return a=a.replace(/keyid/gi,"keyId")};
_.Qn=function(a,b,c){b=yn(b);c=c&&c.customData?c.customData:{};b=new _.Qk(On(b));var d=_.Tk(b.f);if(a&&a.drm&&a.drm.customData){var e=a.drm.customData;a=e.assetId;e=e.variantId;a&&_.T.Xe(""+a)&&(d.assetId=a,Pn.debug("Using assetId from the configuration instead of the value from the HLS manifest."));e&&_.T.Xe(""+e)&&(d.variantId=e,Pn.info("Using variantId from the configuration instead of the value from the HLS manifest."))}d.keyId?(a=["keyId"],Pn.debug("KeyId found in FPS SKD. Removing other parameters")):
a=["assetId","variantId"];b.f=_.Sk(d,!1,a);"/"!==b.path||b.j.includes(b.a+"/")||(b.path="");b=_.Rk(b);return c.fpsContentId=b};_.Sn=function(a,b,c,d){d=void 0===d?!0:d;c=a.drm;c&&c.env.startsWith(Aa)?c.customData&&(_.Rn(b,a),a=b.uris[0],d&&c.customData.assetId&&(a+="?assetId\x3d"+encodeURI(""+c.customData.assetId),c.customData.variantId&&(a+="\x26variantId\x3d"+encodeURI(""+c.customData.variantId)),b.uris[0]=a)):Pn.warn(ub)};
Tn=function(a,b,c){_.Sn(a,b,c);a=a.drm;a=!(!a||!a.offlineId);c=new _.Xi(b.uris[0]);c.a.add(_.jf,a);b.uris[0]=c.toString()};
_.Un=function(a,b,c){var d=c&&c.customData&&c.customData.fpsContentId;_.Sn(a,b,c,!1);b.headers[wa]=Yc;c={spc:_.Pj(b.body)};if((a=a.drm)&&a.env.startsWith(Da)&&d){a={};var e=_.Tk((new _.Qk(On(d))).f);d=e.keyId;if(e=e.assetId)Pn.info("Applying assetId from HLS manifest."),a.assetId=e;d&&(Pn.info("Applying keyId from HLS manifest."),a.keyId=d);a.keyId&&(Pn.info("Adding keyID to FPS payload:",a.keyId),c.keyId=a.keyId);a.assetId&&(Pn.info("Adding assetID to FPS payload:",a.assetId),c.assetId=a.assetId)}b.body=
_.T.od(_.Sk(c,!0))};_.Vn=function(a,b){Pn.debug("Clearing response data");if(200===b.status){var c=_.T.$(b.data).trim();"\x3cckc\x3e"===c.substr(0,5)&&"\x3c/ckc\x3e"===c.substr(-6)&&(c=c.slice(5,-6));b.data=_.Rj(c).buffer}};_.Wn=function(a,b){var c=a.drm;if(!c||!c.env.startsWith(Aa))Pn.warn(ub);else if(c.customData&&c.customData.merchant&&!c.env.startsWith(Da)){var d=new _.Xi(b.uris[0]),e=d.Ja;e.endsWith("/")||(e+="/");e+=c.customData.merchant;d.Ja=e;b.uris[0]=d.toString()}};
_.Xn=function(a,b){try{var c=_.Fj(b.data),d=JSON.parse(String.fromCharCode.apply(null,c));Pn.debug("Widevine License response",d);var e=atob(d.license),f=new Uint8Array(e.length);for(c=0;c<e.length;++c)f[c]=e.charCodeAt(c);b.data=f.buffer}catch(g){Pn.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}};
_.Rn=function(a,b){var c=b.drm;if(c&&c.customData){var d={userId:c.customData.userId,sessionId:c.customData.sessionId,merchant:c.customData.merchant};_.N.yc(d)&&(a.headers["dt-custom-data"]=btoa(JSON.stringify(d)));(c=c.customData.authToken)&&(a.headers["x-dt-auth-token"]=c)}};Zn=function(a){var b={},c=a?a[Zg]:void 0;a=Yn[a?a[Zg]:void 0];c&&(b.drmTodayErrorCode=c);a&&(b.drmTodayErrorMessage=a);return b};
$n=function(a){a=a["x-dt-li"];if(!a)return null;try{var b=JSON.parse(atob(a));a={};b.ti&&(a.requestId=b.ti);b.rpd&&(a.delay=Number(b.rpd)/1E3);return a}catch(c){return Pn.warn("Unable to parse DRMtoday License Info header (x-dt-li)",c),null}};ao=function(){};co=function(a,b){_.Lh("Registering EME Factory: "+a.a());for(var c={priority:b,Ca:a},d=0;d<bo.length;++d)if(bo[d].priority<b){bo.splice(d,0,c);return}bo.push(c)};
eo=function(a){if(a){var b=bo.find(function(d){return d.Ca.a()===a}).Ca;if(b&&b.f())return _.Lh(lc+b.a()),b.create();_.Lh("Cannot create selected EME manager. Choosing by priority list.")}b=_.w(bo);for(var c=b.next();!c.done;c=b.next())if(c=c.value.Ca,c.f())return _.Lh(lc+c.a()),c.create();throw Error("Missing EME managers");};_.go=function(a,b){var c=_.fo(a,b);return 1!==c.length?null:c[0]};
_.fo=function(a,b){return Array.from(a.childNodes).filter(function(c){return c instanceof Element&&c.tagName===b})};_.ho=function(a){return Array.from(a.childNodes).every(function(b){return b.nodeType===Node.TEXT_NODE||b.nodeType===Node.CDATA_SECTION_NODE})?a.textContent.trim():null};_.io=function(a,b){var c=new DOMParser,d=null;try{d=c.parseFromString(a,_.pg)}catch(e){}if(!d)return null;c=d.documentElement;return b&&c.tagName!==b||0<d.getElementsByTagName("parsererror").length?null:c};
jo=function(a,b,c){this.j=new Uint8Array(a);this.a=b;this.f=c};ko=function(){jo.apply(this,arguments)};_.mo=function(a){var b=_.Sj(a);b=parseInt(b.byteLength,10).toString(16);b=_.Sj("12"+b+a);return new ko(lo,a,b)};
_.no=function(a){function b(t){switch(t){case 0:do if(!_.gn(d))throw Error("not enough data to skip!");while(_.jn(d)&128);break;case 1:d.skip(8);break;case 2:d.skip(c());break;case 3:for(;4!==(t=c()&7);)b(t);break;case 5:d.skip(4);break;default:throw Error("invalid wire type "+t);}}function c(){for(var t=_.jn(d),v=(t&127)>>>0,z=7;128<=t&&28>=z;)t=_.jn(d),v=(v|(t&(28>z?127:15))<<z)>>>0,z+=7;return 28<z?-1:v}var d=new _.fn(new DataView(a.buffer,a.byteOffset,a.byteLength),!1);a=_.ln(d);var e=_.ln(d);
e=_.vn(e);var f=_.ln(d),g=f>>>24;f&=16777215;var h=_.pn(d,16);h=_.Tj(h);if(0<g){var l=_.ln(d);d.skip(16*l)}l=_.ln(d);for(var m=[],n=null;_.gn(d);){var p=c(),q=p&7;p>>>=3;if(2===q){q=c();if(0>q)throw Error("unable to read length of field "+p);q=on(d,q);2===p?m.push(q):4===p&&(n=q)}else b(q)}_.Mh("Parsed WV PSSH Box","size",a,"name",e,Dg,g,"flags",f,"size",l,"systemId",h,"contentId (base64)",n?_.Pj(n):"","keyIds",m.map(function(t){return _.Tj(t)}));return 0<m.length?_.mo(_.Tj(m[0])):null};
_.oo=function(a,b,c,d,e,f){f=void 0===f?null:f;jo.call(this,a,b,d);this.version=e;this.h=c;this.l=f};
_.zo=function(a){a:{var b=new _.fn(new DataView(a.buffer),!0);_.ln(b);for(_.kn(b);_.gn(b);)if(1===_.kn(b)){var c=_.kn(b);b=_.pn(b,c);break a}b=null}b||(b=a);a=_.T.wc(b,!0);c=_.io(a,"WRMHEADER");a=c.getAttribute(Dg)||"";var d=_.go(c,"DATA");c=(c=_.go(d,"LA_URL"))?_.ho(c):"";var e;if(e=_.go(d,"KID"))if(e=_.ho(e)){var f=_.go(d,oa);e={value:e,Ff:f?f.textContent.trim():null}}else e=null;else e=null;d=e?[e]:(e=po(d))?[e]:(d=wo(d))?d:null;e=d&&d[0]||{};d=e.Ff;e=_.Rj(void 0===e.value?"":e.value);e=_.xo(e);
e=_.Tj(e);return new _.oo(_.yo,e,c,b,a,d)};_.xo=function(a){var b=[];b.push(a[3]);b.push(a[2]);b.push(a[1]);b.push(a[0]);b.push(a[5]);b.push(a[4]);b.push(a[7]);b.push(a[6]);a=_.Fj(a);a.set(b,0);return a};po=function(a){a=_.go(a,"PROTECTINFO");if(!a)return null;var b=_.go(a,"KID");if(!b)return null;a=b.getAttribute("VALUE");if(!a)return null;var c=b.getAttribute(oa);b=b.getAttribute("ALGID");return{value:a,Ff:c,xj:b}};
wo=function(a){a=_.go(a,"PROTECTINFO");if(!a)return null;a=_.go(a,"KIDS");if(!a)return null;var b=_.fo(a,"KID");if(!b.length)return null;a=[];b=_.w(b);for(var c=b.next();!c.done;c=b.next()){var d=c.value;if(c=d.getAttribute("VALUE")){var e=d.getAttribute(oa);d=d.getAttribute("ALGID");a.push({value:c,Ff:e,xj:d})}}return a.length?a:null};_.Bo=function(a){Ao&&performance.mark(a)};_.Co=function(a,b,c){Ao&&performance.measure(a,b,c)};
Do=function(a){this.f=[];this.h=[];this.a=[];8<=a.byteLength&&(new _.qn).X("pssh",this.j.bind(this)).parse(a.buffer);0===this.a.length&&_.Hh("No pssh box found!")};
_.Ho=function(a){var b=this;this.D=a;this.K=new Set;this.C=this.J=this.l=null;this.aa=!1;this.a=null;this.L=Eo;this.B=new _.Wh;this.P=new Tm;this.h=new Map;this.M=[];this.I=new _.mk;this.Bb=0;this.f=null;this.w=function(c){b.A=!0;b.G=!1;b.I.reject(c);a.onError(c)};this.o=new Map;this.ga=new Map;this.ba=new _.xl(function(){return Fo(b)});this.j=!1;this.Ha=new _.mk;this.H=!1;this.fa=[];this.bb=!1;this.Y=0;this.g=new _.K("clpp.drm.DrmEngine");this.va=(new _.xl(function(){Go(b)})).Ab(1);this.I["catch"](function(){});
this.A=this.G=!1;this.U=null};
Jo=function(a){var b,c,d,e,f;return _.I(function(g){switch(g.a){case 1:a.B.release();a.B=null;a.P.release();a.P=null;a.A=!1;a.G=!1;a.I.reject();a.va.stop();a.va=null;a.ba.stop();a.ba=null;b=Array.from(a.h.keys());c=_.w(a.h.values());for(d=c.next();!d.done;d=c.next())e=d.value,e.Zc&&e.Zc.stop();a.h.clear();return _.y(g,Promise.all(b.map(function(h){return Promise.resolve().then(function(){var l;return _.I(function(m){if(1==m.a)return a.g.debug("Closing session",h.sessionId),_.D(m,2),_.y(m,Io(h),4);
if(2!=m.a)return _.sh(m,0);l=_.F(m);a.g.warn("Error while closing session",l);_.B(m)})})})),2);case 2:if(!a.C){g.F(3);break}_.D(g,4);return _.y(g,a.l.Ed(null),6);case 6:_.sh(g,5);break;case 4:f=_.F(g),a.g.warn("Error while resetting media keys",f);case 5:a.C=null;case 3:a.l=null,a.a=null,a.K.clear(),a.J=null,a.M=[],a.f=null,a.w=null,a.D=null,a.Y=0,a.U=null,_.B(g)}})};
_.Mo=function(a,b,c){c=void 0===c?[]:c;a.L=Ko;a.M=c;a.H=0<c.length;a.g.debug("Using Persisted Licenses: "+a.H);a.f&&a.f.enableSessionCacheForSkd&&a.g.info("Enabled session cache for SKD license requests");return _.Lo(a,b)};
So=function(a,b){var c=b.some(function(g){return 0<g.drmInfos.length});if(!c){var d=_.N.Sg(a.f.Ma);No(b,d)}var e=a.f.Ma[_.Jd];d=b.some(function(g){return g.drmInfos.some(function(h){return h.keySystem===_.Jd})});if(!1!==a.f.Eo&&_.Fl()&&!d&&e){var f=_.w(b);for(d=f.next();!d.done;d=f.next())d.value.drmInfos.push({keySystem:_.Jd,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[],
periodId:null})}if(e=Oo(a))for(f=_.w(b),d=f.next();!d.done;d=f.next())d.value.drmInfos=[e];d=Po(b);Qo(a,d);d=_.w(d);for(e=d.next();!e.done;e=d.next())Ro(e.value,a.f.Ma);return c};_.Lo=function(a,b){var c=So(a,b),d=Po(b);d=_.w(d);for(var e=d.next();!e.done;e=d.next())To(a,e.value,a.f.Ma);d=Uo(a,b);if(!d.size)return a.aa=!0,Promise.resolve();_.Bo($d);d=_.Vo(a,d);return(c?d:d["catch"](function(){})).then(function(){_.Bo(Zd);_.Co("DRM queryMediaKeys_()",$d,Zd)})};
Po=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=_.w(c.value.drmInfos);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};Qo=function(a,b){for(var c=_.w(b),d=c.next();!d.done;d=c.next())d=d.value,""===d.licenseServerUri||a.f.Ma[d.keySystem]||(a.f.Ma[d.keySystem]={licenseUrl:""})};
Wo=function(a){var b;return _.I(function(c){switch(c.a){case 1:if(a.l.Ne())return c["return"]();if(!a.U){c.F(2);break}return _.y(c,a.U,3);case 3:return c["return"]();case 2:return _.D(c,4),a.U=a.l.Ed(a.J),_.y(c,a.U,6);case 6:_.sh(c,0);break;case 4:b=_.F(c);if(a.j)return c["return"]();a.w(new _.O(_.P,6,6003,b.message,b));_.B(c)}})};
Yo=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Handle encrypted event for type "+b.initDataType),_.y(c,Wo(a),2);if(!b.initData)return c["return"]();_.Xo(a,b.initDataType,_.Fj(b.initData));_.B(c)})};
_.cp=function(a,b){if(!a.J)return Xh(a.B,b,function(){a.w(new _.O(_.P,6,6010))}),Promise.resolve();a.C=b;a.l.Ee(b);a.B.one(a.C,_.mf,function(){return Zo(a)});a.B.on(a.C,_.Qg,function(e){var f=a.G;a.G=!a.A;!f&&a.G&&(a.g.info("Waiting for DRM license key delivery"),a.D.onEvent(e))});var c=a.a.initData.find(function(e){return 0<e.initData.length}),d=Promise.resolve();if(c||a.l.Dd()!==Qb||a.M.length)d=Wo(a);c=Promise.resolve();_.wk()&&38===_.Cl().major||(a.a&&a.a.keySystem!==_.ff&&!a.a.serverCertificate&&
(c=$o(a)),c=c.then(function(){return _.ap(a)}));return Promise.all([d,c]).then(function(){a.j||(_.bp(a),a.B.on(a.C,ne,function(e){return Yo(a,e)}))})["catch"](function(e){if(!a.j){if(6004===e.code&&a.a&&a.a.keySystem===_.Od&&1>a.Y&&a.a.serverCertificate&&a.a.serverCertificate.length)return a.g.warn("Detected invalid widevine server certificate!. Retrying"),a.w(new _.O(1,6,6004)),a.a.serverCertificate=null,a.Y++,_.cp(a,b);1<=a.Y&&a.g.info("Could not get valid widevine server certificate. Giving up");
throw e;}})};_.ap=function(a){var b,c;return _.I(function(d){if(1==d.a){if(!(a.J&&a.a&&a.a.serverCertificate&&a.a.serverCertificate.length))return d.F(0);_.D(d,3);return _.y(d,a.J.setServerCertificate(a.a.serverCertificate),5)}if(3!=d.a)return b=d.f,void 0===b||b||a.g.debug("Server certificates are not supported by the key system. The server certificate has been ignored."),_.sh(d,0);c=_.F(d);throw new _.O(_.P,6,6004,{browserError:c.message});})};
$o=function(a){var b=a.keySystem(),c=a.f.Ma[b],d=c.certificateUrl||"";if(""===d)return Promise.resolve();var e=a.D.getConfiguration();return dp(a,e).then(function(){var f=c.modifiers,g=f&&f.certificateRequest,h=f&&f.certificateResponse;f=_.ek([d],a.f.attemptParameters);f.type=3;f.licenseRequestType=sd;g&&f.requestModifiers.push(function(l){return g(e,l)});h&&f.responseModifiers.push(function(l){return h(e,l)});a.g.debug("Fetching certificate");return a.D.tb.fetch(f).T}).then(function(f){a.a.serverCertificate=
_.Fj(f.data)})["catch"](function(f){var g=f.data.headers;g=Object.assign({message:Ya,url:f.data.url,status:f.data.status,response:f.data.response},g?{headers:g}:{},Zn(g));throw new _.O(_.P,6,6100,g,f);})};dp=function(a,b){var c,d;return _.I(function(e){c=a.D.dd();return c?(d=b&&b.drm&&b.drm.customData)?_.y(e,c(d),0):e["return"]():e["return"]()})};ep=function(a,b){if(!a)return!1;for(var c=0;c<b.Ke.length;c++)if(_.Uj(a,b.Ke[c]))return!0;return!1};
_.bp=function(a){for(var b=a.a?a.a.initData||[]:[],c=_.w(b),d=c.next();!d.done;d=c.next()){d=d.value;var e=!_.vk(2);if(a.f.enforceSingleSession&&!a.keySystem().startsWith(_.Jd)){var f=a.h.values();f=_.w(f);for(var g=f.next();!g.done;g=f.next())g=g.value,_.Uj(d.initData,g.initData)?(a.g.info("Skipping Session creation. Existing init data in single session mode!"),e=!1):g.periodId===d.periodId&&(a.g.info("Skipping Session creation. Merging init data for period in single session mode for Key ID "+(d.keyId+
".")),ep(d.initData,g)||(g.Ke.push(d.initData),d.keyId&&!g.lb.includes(d.keyId)&&g.lb.push(d.keyId),a.o.get(d.keyId)||a.o.set(d.keyId,gg)),e=!1)}!e||a.H&&a.L===Ko||(_.fp(a,d.keyId,d.initData)&&(e=!1),e&&(a.g.info("Request new media key session on create"),gp(a,d.keyId,d.periodId,d.initDataType,d.initData)))}c=_.w(a.M);for(d=c.next();!d.done;d=c.next())_.hp(a,d.value);b.length||a.M.length||(a.A||a.g.info(za),a.A=!0,a.G=!1,a.I.resolve());return a.I};
_.Xo=function(a,b,c,d){d=void 0===d?"":d;if(c.length&&(!a.H||a.L!==Ko)){var e=a.keySystem();if(!e.startsWith(_.Jd)&&b===_.qd){var f=new Do(c);if(1<f.a.length&&(e={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[e]))for(var g=0;g<f.f.length;g++)if(e===f.f[g]){c=c.subarray(f.a[g].start,f.a[g].end+1);break}}(a.C.webkitCurrentPlaybackTargetIsWireless||
_.vk(2)||a.keySystem().startsWith(_.Jd)||!_.fp(a,d,c,!0))&&gp(a,d,null,b,c)}};
_.fp=function(a,b,c,d){d=void 0===d?!1:d;for(var e=_.w(a.h.keys()),f=e.next();!f.done;f=e.next()){f=f.value;var g=a.h.get(f);if(_.Uj(c,g.initData))return b?g.lb.includes(b)?d&&a.g.info("Skipping Session creation. License for init data with Key ID "+(b+" was already requested in Session: '")+(f.sessionId+"'. ")):(g.lb.push(b),a.o.get(b)||a.o.set(b,gg),d&&a.g.info(Xb+(f.sessionId+"'Adding Key ID ")+(b+" to session meta-data."))):d&&a.g.info(Xb+(f.sessionId+"'")),!0;if(ep(c,g))return d&&a.g.info("Skipping Session creation. License for init data was already requested [extra]"),
!0}return!1};ip=function(a){var b=Infinity;a=a.h.keys();a=_.w(a);for(var c=a.next();!c.done;c=a.next())c=c.value,isNaN(c.expiration)||(b=Math.min(b,c.expiration));return b};
Uo=function(a,b){var c=new Set(Po(b)),d=a.H?_.Qf:_.ef,e=a.H?[_.kf]:[ng],f=new Map,g=_.w(c);for(c=g.next();!c.done;c=g.next())c=c.value,f.set(c.keySystem,{initDataTypes:[_.qd],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:_.ef,persistentState:d,sessionTypes:e,label:c.keySystem,drmInfos:[]});d={};e=_.w(b);for(c=e.next();!c.done;d={nf:d.nf,sd:d.sd,xf:d.xf,td:d.td},c=e.next()){c=c.value;g=c.audio;var h=c.video;d.nf=g?_.jp(g):"";d.sd=null;g&&"ac-3"===g.codecs.toLowerCase()&&_.vk()&&(d.sd=
_.jp(g,_.me));d.xf=h?_.jp(h):"";d.td=null;h&&"ac-3"===h.codecs.toLowerCase()&&_.vk()&&(d.td=_.jp(h,_.me));var l={},m=_.w(c.drmInfos);for(c=m.next();!c.done;l={ab:l.ab},c=m.next())c=c.value,l.ab=f.get(c.keySystem),l.ab.drmInfos.push(c),c.initData&&c.initData.length&&(l.ab.initDataTypes=_.eh(new Set(c.initData.map(function(n){return n.initDataType}))).concat()),c.distinctiveIdentifierRequired&&(l.ab.distinctiveIdentifier=_.Qf),c.persistentStateRequired&&(l.ab.persistentState=_.Qf),g&&_.zi(c.audioRobustness).forEach(function(n,
p){return function(q){var t={robustness:q||"",contentType:n.nf};p.ab.audioCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||p.ab.audioCapabilities.push(t);n.sd&&p.ab.audioCapabilities.push({robustness:q||"",contentType:n.sd})}}(d,l)),h&&_.zi(c.videoRobustness).forEach(function(n,p){return function(q){var t={robustness:q||"",contentType:n.xf};p.ab.videoCapabilities.find(function(v){return v.robustness===t.robustness&&v.contentType===t.contentType})||
p.ab.videoCapabilities.push(t);n.td&&p.ab.videoCapabilities.push({robustness:q||"",contentType:n.td})}}(d,l))}return f};_.jp=function(a,b){var c=_.sl(a.mimeType,b||a.codecs);if(_.rl(c,a.type)){var d=a.type,e=_.rl(c,d);e&&(e=e(),c=e.convertCodecs(d,c),e.destroy())}return c};
_.Vo=function(a,b){function c(m,n,p){n.drmInfos.some(function(q){return!!q.licenseServerUri})===m&&(f=f["catch"](function(){if(a.j)return null;if(p===_.Md){if(_.Al()&&!a.f.Ma[p].useLegacySystem)return n.label=Nd,a.l.Pb(Nd,[n])["catch"](function(){a.g.warn("Unable to create com.microsoft.playready.recommendation. Falling back to com.microsoft.playready.");n.label=_.Md;kp(n);return a.l.Pb(p,[n])});kp(n)}if(p===_.Od&&a.f.widevineVersion!==_.Od){var q=a.f.widevineVersion;if(!q.startsWith(_.Od))return a.g.error('Invalid "widevineVersion" value "'+
q+'".'),Promise.reject();var t=Object.assign({},n,{label:q,distinctiveIdentifier:_.ef,persistentState:_.ef});return a.l.Pb(q,[t])["catch"](function(){return a.l.Pb(p,[n])})}return a.l.Pb(p,[n])["catch"](function(v){a:{if(p===_.Od&&lp(n)){var z=_.xk();if(lp(n)&&z.os===Sl&&z.browser===ud){a.g.warn("requestMediaKeySystemAccess() failed",v);a.g.warn("Will try to recover by removing the robustness attribute of videoCapabilities and audioCapabilities.");kp(n);v=a.l.Pb(p,[n]);break a}}throw v;}return v})}))}
if(1===b.size&&b.has(""))return Promise.reject(new _.O(_.P,6,6E3));null===a.l&&(a.l=eo(a.f.emeApi));for(var d=_.w(b.values()),e=d.next();!e.done;e=d.next())e=e.value,0===e.audioCapabilities.length&&delete e.audioCapabilities,0===e.videoCapabilities.length&&delete e.videoCapabilities;var f=d=new _.mk,g=a.f.preferredDrmSystem;if(!g)if(e=_.xk(),e.os===Ul&&10<=e.osVersion.major&&"edge"===e.browser)g=_.Md;else if("safari"===e.browser)g=_.Jd;else if(e.browser===ud||"firefox"===e.browser)g=_.Od;g&&(e=b.get(g))&&
(c(!0,e,g),c(!1,e,g));e={};for(var h=_.w([!0,!1]),l=h.next();!l.done;e={wf:e.wf},l=h.next())e.wf=l.value,b.forEach(function(m){return function(n,p){p!==g&&c(m.wf,n,p)}}(e));f=f["catch"](function(){throw new _.O(_.P,6,6001,"Failed to get MediaKeySystemAccess.");});f=f.then(function(m){if(a.j)return null;a.K.clear();var n=m.getConfiguration();a.g.info("Got MediaKeySystemAccess with configuration",n);var p=n.videoCapabilities||[],q=_.w(n.audioCapabilities||[]);for(n=q.next();!n.done;n=q.next())a.K.add(n.value.contentType.toLowerCase());
p=_.w(p);for(n=p.next();!n.done;n=p.next())a.K.add(n.value.contentType.toLowerCase());p=m.keySystem;n=b.get(_.mp(m.keySystem));q=[];var t=[],v=[],z=[];np(n.drmInfos,q,t,v,z);1<t.length&&_.Hh("Multiple unique server certificates found! Only the first will be used.");1<q.length&&_.Hh("Multiple unique license server URIs found! Only the first will be used.");a.a={keySystem:p,licenseServerUri:q[0],distinctiveIdentifierRequired:n.distinctiveIdentifier===_.Qf,persistentStateRequired:n.persistentState===
_.Qf,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:t[0],initData:v,keyIds:z,periodId:null};if(!a.a.licenseServerUri)throw new _.O(_.P,6,6012,a.a.keySystem);return m.createMediaKeys()}).then(function(m){a.j||(a.g.info("Created MediaKeys for key system",a.a.keySystem),a.J=m,a.aa=!0)})["catch"](function(m){if(!a.j){a.a=null;a.K.clear();if(m instanceof _.O)throw m;throw new _.O(_.P,6,
6002,{browserError:m.message});}});d.reject();return f};
Oo=function(a){a=_.N.Sg(a.f.Ma[_.ff]||{});if(0===a.size)return null;var b=[],c=[];a.forEach(function(e,f){var g=_.Sj(f),h=_.Sj(e);g={kty:"oct",kid:_.Qj(g,!1),k:_.Qj(h,!1)};b.push(g);c.push(g.kid)});a=JSON.stringify({keys:b});var d=JSON.stringify({kids:c});d=[{initData:_.T.$a(d),initDataType:"keyids"}];return{keySystem:_.ff,licenseServerUri:"data:application/json;base64,"+window.btoa(a),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,
initData:d,keyIds:[],periodId:null}};
_.hp=function(a,b){try{a.g.debug("Attempting to load an offline session",b);var c=a.J.createSession(_.kf)}catch(f){var d=new _.O(_.P,6,6005,{browserError:f.message});a.w(d);return Promise.reject(d)}a.B.on(c,_.Pe,a.Ji.bind(a));a.B.on(c,Ae,a.Ei.bind(a));var e={initData:null,loaded:!1,cg:Infinity,nc:null,hb:new _.mk,periodId:null,Ke:[],keyId:null,lb:[],initDataType:null,uc:null,sessionContext:{ldlDelay:0,customData:{}}};e.hb["catch"](function(){});a.h.set(c,e);return c.load(b).then(function(f){if(a.j)return null;a.g.debug("Loaded offline session",
b,f);if(!f)return a.h["delete"](c),a.w(new _.O(_.P,6,6013)),null;e.loaded=!0;op(a)&&(a.A||a.g.info(za),a.A=!0,a.G=!1,a.I.resolve());return c},function(f){a.j||(a.h["delete"](c),a.w(new _.O(_.P,6,6005,{browserError:f.message})))})};pp=function(a,b,c,d){if(!b&&c!==_.bg)return!1;d=b||An(d);a=_.w(a.h.values());for(var e=a.next();!e.done;e=a.next())if(e=e.value,b&&e.keyId===b||b&&e.lb.includes(b)||c===_.bg&&(e.keyId||An(e.initData))===d)return!0;return!1};
gp=function(a,b,c,d,e,f,g){f=void 0===f?null:f;g=void 0===g?!1:g;var h,l,m,n,p,q,t,v,z,A,G,E,C,H,M,R,V,S,Ba,Ca,jb;_.I(function(Wa){switch(Wa.a){case 1:if(!e.length)return a.g.warn("Empty init data"),Wa["return"]();h=b;if(!h)try{h=qp(a,d,e,f)}catch(Ma){if(a.g.warn("Ignoring unrecognized init data. This may be caused by unsupported or malformed init data. Set `drm.ignoreUnrecognizedInitData \x3d false` if you want to override this behavior and use the init data after all.",{error:Ma,initDataType:d,
initData:e}),a.f.ignoreUnrecognizedInitData)return Wa["return"]()}if(g){Wa.F(2);break}if(!pp(a,h,d,e)){Wa.F(2);break}l=!0;if("skd"!==d||a.f.enableSessionCacheForSkd){Wa.F(4);break}m=_.w(a.h.keys());n=m.next();case 5:if(n.done){Wa.F(4);break}p=n.value;q=a.h.get(p);if(!h||q.keyId!==h){Wa.F(6);break}a.g.warn("Close and re-open session for "+h);_.D(Wa,9);return _.y(Wa,p.close(),11);case 11:_.sh(Wa,10);break;case 9:t=_.F(Wa),a.g.warn("Unable to close session",t);case 10:l=!1;case 6:n=m.next();Wa.F(5);
break;case 4:if(l)return a.g.warn("Skip creating a new session for "+h),Wa["return"]();case 2:try{z=a.H?_.kf:ng,v=a.J.createSession(z),a.D.onEvent(new _.L(ge,{keySystem:a.keySystem()})),a.g.info("Created new "+z+" session for Key ID: '"+h+"'. Init data type: "+(d+"."))}catch(Ma){return a.w(new _.O(_.P,6,6005,{browserError:Ma.message})),Wa["return"]()}a.B.on(v,_.Pe,a.Ji.bind(a));a.B.on(v,Ae,a.Ei.bind(a));A={uc:f,Ke:[],initData:e,initDataType:d,keyId:h,lb:h?[h]:[],loaded:!1,cg:Infinity,periodId:c,nc:null,
hb:new _.mk,sessionContext:{ldlDelay:0,customData:{}}};A.hb["catch"](function(){});f&&(G=a.h.get(f),A.sessionContext=G.sessionContext);a.h.set(v,A);h&&!a.o.get(h)&&a.o.set(h,gg);if(e)for(E=0;E<a.a.initData.length;E++)C=a.a.initData[E],C.keyId&&!A.lb.includes(C.keyId)&&_.Uj(C.initData,e)&&(A.keyId||(A.keyId=C.keyId),A.lb.push(C.keyId),a.o.get(C.keyId)||a.o.set(C.keyId,gg));H=_.N;M=H.Lb;R=a.D.getConfiguration();V=a.keySystem();S=a.f.Ma[V];Ca=(Ba=S.modifiers)&&Ba.transformInitData;M(Ca)||(Ca=rp);try{e=
Ca({playerConfig:R,initData:e,initDataType:d,drmInfo:a.a,drmSystemConfig:S,sessionContext:A.sessionContext,emeApi:a.l.Dd()})}catch(Ma){return jb=Ma,Ma instanceof _.O||(jb=new _.O(_.P,6,6016,Ma)),A.hb&&A.hb.reject(Ma),a.w(jb),Wa["return"]()}a.g.info("Generate License Request for key ID: '"+h+"'");v.generateRequest(d,e.buffer)["catch"](function(Ma){if(!a.j){var wb=null;Ma.errorCode&&Ma.errorCode.systemCode&&(wb=Ma.errorCode.systemCode,0>wb&&(wb+=Math.pow(2,32)),wb="0x"+wb.toString(16));a.w(new _.O(_.P,
6,6006,{browserError:Ma.message,error:Ma,extended:wb},Ma))}});_.B(Wa)}})};
qp=function(a,b,c,d){d=void 0===d?null:d;if("skd"===b){a:{var e=d;e=void 0===e?null:e;var f=a.keySystem(),g=a.f.Ma[f];f=a.D.getConfiguration();g=g&&g.modifiers&&g.modifiers.extractContentId;_.N.Lb(g)||(g=sp);try{var h={ldlDelay:0,customData:{}};e&&(h=a.h.get(e).sessionContext);var l=g(f,c,h);a.g.debug("Extracted Content ID '"+l+"' from SKD");var m=l;break a}catch(E){a.g.warn("Unable to extract Content ID from SKD",E)}m=""}return m}if(b===_.bg)return An(c)||"";if(b===_.qd){m=a.keySystem();try{if(m.match(/^com\.widevine\.alpha/)){var n=
_.no(c);if(n)return n.a}else if(tp(m)){e=new _.fn(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);f=_.ln(e);var p=_.ln(e);g=_.vn(p);var q=_.ln(e);c=q>>>24;l=q&16777215;h=_.pn(e,16);var t=_.Tj(h);if(0<c){var v=_.ln(e);e.skip(16*v)}var z=_.ln(e),A=_.pn(e,z),G=_.zo(A);_.Mh("Parsed PR PSSH Box","size",f,"name",g,Dg,c,"flags",l,"size",z,"systemId",t,"keyId",G.a);if(G)return G.a}}catch(E){throw a.g.warn("Unable to extract Key ID from PSSH data.",{error:E,keySystem:m}),E;}}return""};
sp=function(a,b){var c=_.zn(b);_.Mh("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+c);return c};
rp=function(a){var b=a.playerConfig,c=a.initData,d=a.drmInfo,e=a.drmSystemConfig,f=a.sessionContext,g=a.emeApi;if("skd"===a.initDataType&&"APPLE"===g){a=_.N.Lb;d=d.serverCertificate;e=e&&e.modifiers&&e.modifiers.extractContentId;a(e)||(e=sp);a="";try{a=e(b,c,f)}catch(h){throw new _.O(_.P,6,6103);}if(!a.length)throw new _.O(_.P,6,6101,"Content ID is an empty string");c=Bn(c,a,d)}return c};
zp=function(a,b){var c,d,e,f,g,h,l,m,n,p,q,t,v,z,A,G,E,C;return _.I(function(H){switch(H.a){case 1:c=b.target;d=a.h.get(c);if(!d)return a.g.error("Session metadata not found for "+c.sessionId+"."),H["return"]();e=a.a.licenseServerUri;if(!up(a,b)){H.F(2);break}return _.y(H,vp(a,e,b,c,d),3);case 3:return H["return"]();case 2:f=a.Bb;if(!(0<f)){H.F(4);break}a.g.info("Delaying license request by "+f+" s.");return _.y(H,yl(f),5);case 5:if(a.j)return H["return"]();case 4:g=a.keySystem();h=a.f.Ma[g];"individualization-request"===
b.messageType&&h&&h.individualizationServer&&(e=h.individualizationServer);l=_.ek([e],a.f.attemptParameters);l.type=3;l.body=b.message;l.method=_.Fb;l.licenseRequestType=b.messageType===De&&d.uc?Ce:b.messageType;l.sessionId=c.sessionId;if(l.licenseRequestType===Ce)a.D.onEvent(new _.L(fe));tp(a.a.keySystem)&&wp(a,l);Um(a.P,l);m=String(Math.floor(b.timeStamp));return _.y(H,xp(a,l,d,m,e,c.sessionId,b.messageType,f),6);case 6:n=H.f;if(!n)return H["return"]();p=Vm(a.P,n);return _.y(H,yp(a,c,n.data,d,m),
7);case 7:q=H.f;if(!q)return H["return"]();t=ip(a);v=p?Date.now()+1E3*p.delay:Number.NaN;a.D.onEvent(new _.L(_.ie,{keySystem:g,expirationTime:t,expectedRenewalTime:v}));d.nc&&d.nc.resolve();d.uc&&(z=d.uc,a.g.info("Closing expired session '"+z.sessionId+"'"),Io(z)["catch"](function(){a.g.warn("Unable to close expired session in time")}),(A=a.h.get(d.uc))&&A.Zc&&A.Zc.stop(),a.h["delete"](d.uc),d.uc=null);G=new _.xl(function(){a.j||(d.loaded=!0,d.hb&&d.hb.resolve(),op(a)&&(a.A||a.g.info(za),a.A=!0,a.G=
!1,a.I.resolve()))});G.ca(5);null!==d.initData&&(0<d.sessionContext.ldlDelay||p&&(_.T.startsWith(g,_.Jd)||_.T.startsWith(g,_.Md)))&&(E=new _.xl(function(){!a.j&&a.P&&(a.g.info("Updating CSL Sessions"),tp(g)?gp(a,d.keyId,d.periodId,d.initDataType,d.initData,c,!0):g.startsWith(_.Jd)&&c.update(_.T.$a("renew")))}),d.Zc=E,C=p?p.delay:d.sessionContext.ldlDelay,E.ca(C));_.B(H)}})};
vp=function(a,b,c,d,e){var f,g,h;return _.I(function(l){if(1==l.a)return f=_.ek([b],a.f.attemptParameters),f.type=3,f.body=c.message,f.method=_.Fb,f.licenseRequestType=sd,f.sessionId=d.sessionId,_.y(l,Ap(a,f,e,b,d.sessionId,c.messageType),2);g=l.f;if(!g)return l["return"]();h=String(Math.floor(c.timeStamp));return _.y(l,yp(a,d,g.data,e,h),0)})};up=function(a,b){return!!a.keySystem().match(/^com\.widevine\.alpha/)&&b.message&&2===b.message.byteLength};
xp=function(a,b,c,d,e,f,g,h){var l,m,n,p,q,t,v,z,A,G,E,C;return _.I(function(H){switch(H.a){case 1:return a.g.info("License request for SID:'"+(f+"'/KID:'"+c.keyId+"' from msg '")+(g+"'.")),_.y(H,Bp(a,b,c.sessionContext),2);case 2:return a.g.debug("Sending DRM license request to",e,b),a.D.onEvent(new _.L(ee,{delay:h})),l=Date.now(),_.Bo(Yd+d+fa),m=null,_.D(H,3),_.y(H,a.D.tb.fetch(b).T,5);case 5:m=H.f;_.sh(H,4);break;case 3:n=_.F(H);if(a.j)return H["return"](null);p=n;q=p.data.headers;t=Zn(q);v=Object.assign({message:"Error while fetching DRM license!",
url:p.data.url,status:p.data.status,response:p.data.response},q?{headers:q}:{},t);z=new _.O(_.P,6,6007,v,p);Cp(a,z,c);return H["return"](null);case 4:_.Bo(Yd+d+".end");_.Co(Yd+d,Yd+d+fa,Yd+d+".end");A=Date.now()-l;if(G=$n(m.headers))a.Bb=G.delay||0;E="";G&&G.requestId&&(E=" RID:"+G.requestId);C=m.data.byteLength;a.g.info("License response for SID:'"+(f+"'/KID:'")+(c.keyId+"' ")+(C+" bytes in ")+(A+"ms"+E));return a.j?H["return"](null):H["return"](m)}})};
Ap=function(a,b,c,d,e,f){var g,h,l,m,n,p,q,t,v,z,A,G;return _.I(function(E){switch(E.a){case 1:return a.g.info("WV Server certificate request for SID:'"+(e+" from msg '"+f+"'.")),_.y(E,Bp(a,b,c.sessionContext),2);case 2:return a.g.debug("Sending Widevine certificate request to",d,b),g=Date.now(),h=null,_.D(E,3),_.y(E,a.D.tb.fetch(b).T,5);case 5:h=E.f;_.sh(E,4);break;case 3:l=_.F(E);if(a.j)return E["return"](null);m=l;n=m.data.headers;p=Zn(n);q=Object.assign({message:Ya,url:m.data.url,status:m.data.status,
response:m.data.response},n?{headers:n}:{},p);t=new _.O(_.P,6,6100,q,m);Cp(a,t,c);return E["return"](null);case 4:return v=Date.now()-g,z=$n(h.headers),A="",z&&z.requestId&&(A=" RID:"+z.requestId),G=h.data.byteLength,a.g.info("WV Server certificate response for SID:'"+(e+"' ")+(G+" bytes in ")+(v+"ms"+A)),a.j?E["return"](null):E["return"](h)}})};
yp=function(a,b,c,d,e){var f,g;return _.I(function(h){switch(h.a){case 1:return _.Bo(ce+e+fa),_.D(h,2),_.y(h,b.update(c),4);case 4:_.sh(h,3);break;case 2:f=_.F(h);if(a.j)return h["return"](!1);if(f===Ub)return a.g.info("Ignore update for closed sessions"),h["return"](!1);g=new _.O(_.P,6,6008,{browserError:f.message});Cp(a,g,d);return h["return"](!1);case 3:return _.Bo(ce+e+".end"),_.Co(ce+e,ce+e+fa,ce+e+".end"),a.j?h["return"](!1):h["return"](!0)}})};
Cp=function(a,b,c){a.j||(a.w(b),c.nc&&c.nc.reject(b),c.hb&&c.hb.reject(b))};
wp=function(a,b){var c=_.T.wc(b.body,!0,!0);if(c.includes("PlayReadyKeyMessage")){a.g.debug("Unwrapping PlayReady request.");c=(new DOMParser).parseFromString(c,"application/xml");for(var d=c.getElementsByTagName("HttpHeader"),e=0;e<d.length;++e)b.headers[d[e].querySelector("name").textContent]=d[e].querySelector(_.Bg).textContent;b.body=_.Rj(c.querySelector("Challenge").textContent).buffer}else a.g.debug("PlayReady request is already unwrapped."),b.headers[wa]="text/xml; charset\x3dutf-8"};
Bp=function(a,b,c){var d,e,f,g,h,l;return _.I(function(m){if(1==m.a)return d=a.D.getConfiguration(),_.y(m,dp(a,d),2);e=a.keySystem();h=(g=(f=a.f.Ma[e])&&f.modifiers)&&g.licenseRequest;l=g&&g.licenseResponse;h?b.requestModifiers.push(function(n){return h(d,n,c)}):e.startsWith(_.Jd)&&b.requestModifiers.push(function(n){return _.Cn(n)});l?b.responseModifiers.push(function(n){return l(d,n,c)}):e.startsWith(_.Jd)&&b.responseModifiers.push(function(n){return _.Dn(n)});_.B(m)})};
Fo=function(a){var b=a.o,c=a.ga;c.clear();b.forEach(function(d,e){return c.set(e,d)});b=Array.from(c.values());b.length&&b.every(function(d){return"expired"===d})&&a.w(new _.O(_.P,6,6014));a.D.hg(_.N.Tg(c));a.A||a.g.info(za);a.A=!0;a.G=!1};Zo=function(a){var b;return _.I(function(c){if(1==c.a)return _.Bo(be),b=a.fa.map(function(d){return zp(a,d)}),a.bb=!0,a.fa=[],_.y(c,Promise.all(b),2);_.Bo(ae);_.Co("drm.onPlay",be,ae);_.B(c)})};tp=function(a){return!!a.match(/^com\.(microsoft|chromecast)\.playready/)};
_.mp=function(a){return tp(a)?_.Md:a};_.Ep=function(a,b){return a.length&&b.length?0<_.Dp(a,b).length:!0};
_.Dp=function(a,b){if(!a.length)return b;if(!b.length)return a;for(var c=[],d=0;d<a.length;d++)for(var e={},f=0;f<b.length;e={ud:e.ud},f++)if(a[d].keySystem===b[f].keySystem&&a[d].periodId===b[f].periodId){var g=a[d];f=b[f];var h=[];h=h.concat(g.initData||[]);h=h.concat(f.initData||[]);e.ud=_.eh(g.keyIds||[]).concat();f.keyIds&&f.keyIds.length&&f.keyIds.forEach(function(l){return function(m){l.ud.includes(m)||l.ud.push(m)}}(e));c.push({keySystem:g.keySystem,licenseServerUri:g.licenseServerUri||f.licenseServerUri,
licenseServerUriOrigin:g.licenseServerUriOrigin||f.licenseServerUriOrigin,distinctiveIdentifierRequired:g.distinctiveIdentifierRequired||f.distinctiveIdentifierRequired,persistentStateRequired:g.persistentStateRequired||f.persistentStateRequired,videoRobustness:g.videoRobustness||f.videoRobustness,audioRobustness:g.audioRobustness||f.audioRobustness,serverCertificate:g.serverCertificate||f.serverCertificate,initData:h,keyIds:e.ud,periodId:g.periodId});break}return c};
Go=function(a){a.h.forEach(function(b,c){var d=b.cg,e=c.expiration;isNaN(e)&&(e=Infinity);e!==d&&(a.D.gg(c.sessionId,e),b.cg=e)})};op=function(a){a=a.h.values();return _.Cj(a,function(b){return b.loaded})};
No=function(a,b){var c=[];b.forEach(function(f,g){c.push({keySystem:g,licenseServerUri:f.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var d=_.w(a),e=d.next();!e.done;e=d.next())e.value.drmInfos=c};kp=function(a){for(var b=_.w(a.audioCapabilities||[]),c=b.next();!c.done;c=b.next())delete c.value.robustness;a=_.w(a.videoCapabilities||[]);for(b=a.next();!b.done;b=a.next())delete b.value.robustness};
lp=function(a){return(a.audioCapabilities||[]).some(Fp)||(a.videoCapabilities||[]).some(Fp)};Fp=function(a){return null!=a.robustness&&""!==a.robustness};
np=function(a,b,c,d,e){var f={};a=_.w(a);for(var g=a.next();!g.done;f={Ga:f.Ga},g=a.next()){f.Ga=g.value;b.includes(f.Ga.licenseServerUri)||b.push(f.Ga.licenseServerUri);f.Ga.serverCertificate&&(c.some(function(m){return function(n){return _.Uj(n,m.Ga.serverCertificate)}}(f))||c.push(f.Ga.serverCertificate));if(f.Ga.initData){var h=_.w(f.Ga.initData);for(g=h.next();!g.done;g=h.next())g.value.periodId=f.Ga.periodId;h={};var l=_.w(f.Ga.initData);for(g=l.next();!g.done;h={ue:h.ue},g=l.next())h.ue=g.value,
d.some(function(m){return function(n){var p=m.ue;return n.keyId&&n.keyId===p.keyId&&n.periodId===p.periodId?!0:!1}}(h))||d.push(h.ue)}if(f.Ga.keyIds)for(g=0;g<f.Ga.keyIds.length;++g)e.includes(f.Ga.keyIds[g])||e.push(f.Ga.keyIds[g])}};
To=function(a,b,c){var d=_.mp(b.keySystem);c=c[d];d===_.ff&&b.licenseServerUri?a.g.debug("Using Clear Key data URI for",d):c&&c.licenseUrl?(b.licenseServerUri=c.licenseUrl,a.g.debug("Using license server URI from user-configured clpp.drm.DrmEnvironment (licenseUrl) for",d)):a.g.debug("Using license server URI from the manifest for ",d)};
Ro=function(a,b){var c=b[_.mp(a.keySystem)];a.keyIds||(a.keyIds=[]);c&&(a.distinctiveIdentifierRequired||(a.distinctiveIdentifierRequired=c.distinctiveIdentifierRequired),a.persistentStateRequired||(a.persistentStateRequired=c.persistentStateRequired),a.videoRobustness||(a.videoRobustness=c.videoRobustness||""),a.audioRobustness||(a.audioRobustness=c.audioRobustness||""),a.serverCertificate||(a.serverCertificate=c.serverCertificate||null))};
Io=function(a){var b,c;return _.I(function(d){if(1==d.a)return b=new Promise(function(e){(new _.xl(e)).ca(1)}),_.y(d,Promise.race([a.close().then(function(){return!0}),b.then(function(){return!1})]),2);(c=d.f)||_.Hh("Timeout waiting for session close");_.B(d)})};_.Ip=function(a,b){a&&b&&(_.Gp.set(a,b),_.Hp.info("Registered TextDisplayerFactory: '"+a+"'"))};
_.Jp=function(a,b){var c=b.find(function(d){return(d=_.Gp.get(d))?d.a(a):!1});if(null==c)return _.Hp.warn("Subtitles may not work as expected. No compatible text displayer found for this platform."),null;_.Hp.info("Chosen the text displayer: "+c);return _.Gp.get(c)};Kp=function(){this.a=null;this.f=[]};_.Lp=function(a,b){if(null==a.a)a.a={timestamp:Date.now()/1E3,state:b,duration:0};else{var c=Date.now()/1E3;a.a.duration=c-a.a.timestamp;a.a.state!==b&&(a.f.push(a.a),a.a={timestamp:c,state:b,duration:0})}};
Mp=function(a,b){var c=0;a.a&&a.a.state===b&&(c+=a.a.duration);for(var d=_.w(a.f),e=d.next();!e.done;e=d.next())e=e.value,c+=e.state===b?e.duration:0;return c};Np=function(a){function b(f){return{timestamp:f.timestamp,state:f.state,duration:f.duration}}for(var c=[],d=_.w(a.f),e=d.next();!e.done;e=d.next())c.push(b(e.value));a.a&&c.push(b(a.a));return c};Op=function(){this.h=this.f=this.j=null;this.a=[]};Pp=function(a){return a.a.map(function(b){return _.N.cb(b)})};
_.Qp=function(){this.f=this.o=this.A=this.C=this.j=this.l=this.h=this.w=NaN;this.a=new Kp;this.B=new Op};_.Rp=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}};_.Sp=function(a){this.f=a;this.a=void 0};Up=function(a,b,c,d){b===HTMLMediaElement.HAVE_NOTHING||a.readyState>=b?d():(b=Tp.value().get(b),c.one(a,b,d))};
Yp=function(a){this.g=new _.K("clpp.StateManager");this.m=a;this.a=new _.Wh;this.f=_.Vp;this.A=_.Wp;this.I=0;this.w=-1;this.L=this.o=this.J=this.B=0;this.j=this.h=this.G=!1;this.H=0;this.l=null;this.K=0;this.M=_.Fl();this.C=!1;this.J=Date.now();Xp(this)};Zp=function(a,b){return Object.keys(b)[a]};
aq=function(a,b){var c={type:_.fg};b===_.jd||b===_.id?(c.reason=a.w,b===_.jd?c.timeSinceLastStateChangeMS=a.I:c.bufferedTimeMS=a.B):(a.f===_.$p&&(c.reason=a.w),a.A===_.$p&&(c.reason=a.w,c.bufferedTimeMS=a.B),c.currentState=a.f,c.previousState=a.A,c.timeSinceLastStateChangeMS=a.I);return c};
eq=function(a,b){if(a.f===b)return!1;var c=Date.now(),d=a.f===_.$p;a.A=a.f;a.f=b;a.A===_.bq&&(a.J=c,a.o=0);a.o||(a.o=a.J||c);a.I=c-a.o;a.o=c;b===_.$p?(a.L=a.o,a.w=a.h?1:2,a.g.info("Buffering started. Reason: "+Zp(a.w-1,_.cq)),c=aq(a,_.jd),a.Ua(_.jd,c)):d&&(a.B=a.o-a.L,a.g.info("Buffering finished. Reason: "+Zp(a.w-1,_.cq)+". Buffering time: "+a.B+" ms"),c=aq(a,_.id),a.Ua(_.id,c));c=Zp(a.A,_.dq);d=Zp(a.f,_.dq);a.g.info(_.Kb+c+" -\x3e "+d);a.Ua(_.fg,aq(a,""));return!0};
jq=function(a,b){if(a.f===_.fq)a.g.warn("Player is in error state, aborting any further state checks");else{var c=a.m.isPaused(),d=a.m?a.m.isEnded():!1;if(d)a.h||(a.j=!1,eq(a,_.bq));else if(b!==_.qg){var e=a.m.getPosition();e=null!==e&&void 0!==e&&0<=e?a.m.getBufferInfo().Ba(e,!0):-1;a.H=e;e=a.m.getSurface().getMedia();a.l=e?e.readyState:null;a.K=a.m.getPlaybackRate()||1;e=typeof a.l===_.k&&2>a.l&&2===e.networkState;var f=typeof a.l===_.k&&0>=a.H&&a.f===_.Vp,g=typeof a.l===_.k&&2>=a.l&&a.j;e=a.h||
f||e||g;!a.M||a.m.isLive()||a.f!==_.$p||e||(f=b===_.Xf&&4===a.l,(g=a.A===_.gq)&&!a.C?e=!0:g||a.C||f||(e=!0));f=!1;e?f=eq(a,_.$p):c?f=eq(a,_.hq):a.G&&(f=eq(a,_.iq));f&&(a.C=!1);a.g.debug("Video state check for event "+b+":: seeking: "+a.h+", waiting: "+a.j+", playing: "+a.G+", paused: "+c+", readyState: "+a.l+", rate: "+a.K+", buffer: "+a.H+", ended: "+d+". Changed state: "+f+", Current state: "+Zp(a.f,_.dq))}}};
Xp=function(a){function b(d){return jq(a,d.type)}a.g.debug("Start watching for video events for "+a.m.namespace());var c=a.m;a.a.on(c,_.pe,function(){a.h||(a.j=!1,eq(a,_.bq))});a.a.on(c,kd,b);a.a.on(c,_.xf,function(){a.G=!0;a.j=!1;jq(a,_.xf)});a.a.on(c,_.hf,function(){a.G=!1;a.j=!1;jq(a,_.hf)});a.a.on(c,_.qg,b);a.a.on(c,_.Mf,b);a.a.on(c,_.Xf,function(d){a.h=!1;a.j=!1;jq(a,d.type)});a.a.on(c,_.Yf,function(d){a.h=!0;jq(a,d.type)});a.a.on(c,dg,b);a.a.on(c,_.Pg,function(){a.j=!0;jq(a,_.Pg)});a.a.on(c,
_.qe,function(d){(d=d&&d.detail)&&d.severity&&d.severity===_.P&&eq(a,_.fq)});a.a.on(c,_.Ke,b);a.a.on(c,ld,function(){a.C=!0;jq(a,ld)});a.a.on(c,_.Ag,function(d){a.h=!0;jq(a,d.type)});a.a.on(c,_.zg,function(d){a.h=!1;a.j=!1;jq(a,d.type)})};kq=function(a){a=(new _.Xi(a)).Ja;if(!a)return null;a=a.toUpperCase();return _.T.endsWith(a,".MPD")?_.Sc:_.T.endsWith(a,".M3U8")?_.gm:_.T.endsWith(a,".MP4")?_.Jg:_.T.endsWith(a,".MP3")?"audio/mp3":_.T.endsWith(a,"MANIFEST")||_.T.endsWith(a,".ISM")?_.Xc:null};
_.mq=function(a){var b;Fm(a)?b=a.source:b=a;Array.isArray(b)||(b=[b]);b=b.filter(function(e){return typeof e===_.ig||"url"in e});a=[];for(var c=0;c<b.length;c++){var d=lq(b[c]);d&&a.push(d)}return a};
lq=function(a){var b=null;_.N.da(a)&&(a={url:a});typeof a===_.Xe&&!Array.isArray(a)&&"url"in a&&(b={url:a.url,type:a.type?a.type:null},_.N.R(a.drmProtected)||typeof a.drmProtected!==_.hd||(b.drmProtected=a.drmProtected),_.N.R(a.isLive)||typeof a.isLive!==_.hd||(b.isLive=a.isLive),_.N.R(a.name)||typeof a.name!==_.ig||(b.name=a.name),_.N.R(a.bc)||typeof a.bc!==_.ig||(b.bc=a.bc),_.N.R(a.audioMimeType)||typeof a.audioMimeType!==_.ig||(b.audioMimeType=a.audioMimeType));b&&!b.type&&(b.type=kq(a.url),b.type?
nq.debug("Detect media type "+b.type+" for "+a.url):nq.warn("Unable to detect media type for "+a.url));return b};oq=function(){_.Gm.call(this,Cd);this.w=this.H=!1;this.l=this.A=this.o=this.a=this.j=null;this.h=new _.Wh;this.G=this.B=this.f=this.I=null};
rq=function(a,b){return a.w?pq():new Promise(function(c){a.a||(a.h.on(b,_.qe,function(){var d=qq(a);if(d)a.onError(d)}),a.h.on(b,_.Rf,function(){var d=b.videoWidth,e=b.videoHeight,f=a.getTrackManager();f&&0<d&&0<e&&(f.w={width:d,height:e});a.trigger(new _.L(_.gd,{detail:{width:d,height:e}}))}),a.a=b);c()})};sq=function(a){return a.w?pq():new Promise(function(b){if(a.a){var c=a.a;a.h.off(c,_.qe);a.h.off(c,_.Rf);a.a=null}b()})};
uq=function(a){var b,c,d,e,f;return _.I(function(g){if(1==g.a){if(a.w)return g["return"](pq());b=a.Z[a.getSourceIndex()];if(!a.configuration.drm||!1===b.drmProtected)return a.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),g["return"](Promise.resolve());c=_.tq;d=_.Zm(a.configuration.drm);a.log.debug("Drm configuration: ",d);e=a.getNetworkEngine();a.o=new _.Ho({tb:e,onError:function(h){return a.onError(h)},hg:function(){},gg:function(h,l){a.trigger(new _.L(_.de,{expirationTime:l}))},
onEvent:function(h){h instanceof _.L?a.dispatchEvent(h):a.log.debug(_.cc,h.type)},getConfiguration:function(){return a.getConfiguration()},dd:function(){return a.dd()}});a.o.f=d;f={id:0,language:_.ug,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:a.getDuration.bind(a),initSegmentReference:null,Ea:0,mimeType:_.Jg,
codecs:"",encrypted:!0,keyId:null,language:_.ug,originalLanguage:_.ug,label:null,type:c.VIDEO,primary:!1,frameRate:void 0,Vo:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,spatialAudio:!1,Co:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0};return _.y(g,_.Mo(a.o,[f]),2)}return 3!=g.a?_.y(g,_.cp(a.o,a.a),3):g["return"](Promise.resolve())})};
vq=function(a,b){Up(a.a,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){a.getState()!==_.fq&&a.seek(b)["catch"](function(c){a.log.warn("Error while seeking to start position.",c)})})};qq=function(a){if(null===a.Z||!a.a.error)return null;var b=a.a.error.code;if(1===b)return null;var c=a.a.error.msExtendedCode;c&&(0>c&&(c+=Math.pow(2,32)),c=c.toString(16));return new _.O(_.P,3,3016,{code:b,Oo:c,message:a.a.error.message})};pq=function(){return Promise.reject(new _.O(_.P,7,7E3))};
wq=function(a){if(a.w)return new _.nk(pq(),function(){});var b=a.Z[a.getSourceIndex()],c=a.configuration.startTime||null,d=a.a,e=a.I;c&&vq(a,c);if(d.preload!==_.We)a.h.one(d,_.Ke,function(){var g=Date.now()/1E3-e;a.f.A=g;a.log.debug("Time to load: ",g)});d.src=b.url;(_.vk()||_.wk())&&d.load();var f=new _.mk;a.h.one(d,dg,function(){var g=a.getConfiguration().manifest.attemptParameters.timeout||30;a.B||(a.B=(new _.xl(function(){f.reject(new _.O(_.P,3,3100,{message:"Unable to load media source successfully from "+
b.url,uri:b.url},d.error))})).ca(g))});Up(d,a.configuration.forceWaitForTracks?HTMLMediaElement.HAVE_CURRENT_DATA:HTMLMediaElement.HAVE_METADATA,a.h,function(){return f.resolve()});d.error?f.reject(qq(a)):d.preload===_.We&&(a.log.warn('With \x3cvideo preload\x3d"none"\x3e, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload\x3d"none" with PRESTOplay for Web Apps.'),f.resolve());a.h.one(d,_.qe,function(){f.reject(qq(a))});
return new _.nk(f,function(){var g=new _.O(_.P,7,7001);f.reject(g);return Promise.resolve()})};
xq=function(a,b){Up(b,HTMLMediaElement.HAVE_CURRENT_DATA,a.h,function(){if(a.isLive()&&a.getState()!==_.fq){var c=a.getSeekRange().end,d=a.getPosition();Infinity===c||20>c-d||(a.log.warn("Detected that HLS live stream was not started from close to the live edge. Auto-fixing, seeking to seek range end.(position: "+(d+", seek range end: "+c+")")),a.seek(c)["catch"](function(e){a.log.warn("Error while seeking to seek range edge.",e)}))}})};
yq=function(a,b){var c=!1;a.h.on(b,_.Yf,function(){c=b.paused});a.h.on(b,_.Xf,function(){.2>b.duration-b.currentTime&&b.paused&&!c&&(a.log.warn("Player was auto-paused during seek to the end, auto-resuming."),b.play())})};zq=function(){};_.Cq=function(a){0<=Aq.indexOf(a)?Bq.warn("Factory '"+a.name()+"' is already registered"):(Aq.push(a),Bq.info("Factory '"+a.name()+"' has been registered."))};
Dq=function(a,b){var c=Aq.find(function(d){return d.a(a,b)})||null;c&&Bq.info("Chosen ads manager: "+c.name());return c};Eq=function(){};Fq=function(){};Gq=function(a,b,c,d,e){this.w=this.o=this.l=!1;this.B=a;this.a=b;this.f=c;this.h=d;this.j=0;this.A=e+":"+b;this.C=e;this.videoEl=null};Hq=function(a){this.a=a.map(function(b){return{videoId:b.getSurface().getMedia().id,player:b,Be:!0,ready:Promise.resolve()}});this.g=new _.K("clpp.plist.PlayerPool")};
_.Iq=function(a,b){var c=document.createElement(a),d;for(d in b){var e=b[d];null===e||void 0===e?c.setAttribute(d,""):c.setAttribute(d,e)}return c};_.Jq=function(a,b){a.classList.add(b)};_.Kq=function(a,b){if(a&&typeof b===_.Xe)for(var c in b)a.style[c]=b[c]};_.Lq=function(a){return document.createElement(a)};Mq=function(){this.a=null;this.h=new Set;this.f=null;this.set(null)};Nq=function(a,b){a.a&&0!==b.length&&(a.a.classList.add(b),a.h.add(b))};
Oq=function(a,b){var c=new MutationObserver(function(){var d=Array.from(a.h.values());Bi(Array.from(b.classList),Array.from(d))||b.classList.add.apply(b.classList,_.eh(d))});c.observe(b,{attributes:!0,attributeFilter:["class"]});return c};
Sq=function(a,b){this.g=new _.K("clpp.PlayerSurface");this.w=_.N.qa(Pq,b);this.f=new Mq;this.h=null;this.a=new Mq;this.l=Qq;Qq+=1;this.o="clpp-video-"+this.l;this.j=new _.Wh;if(null==a)throw new _.O(_.P,7,7102,"No Media element was provided");if(a instanceof Element)var c=a;else if(c=document.getElementById(a),!c)throw new _.O(_.P,7,7004,"Media element not found");var d=this.w;this.g.debug("Initializing Player Surface on ",c);if("cast-media-player"===c.tagName.toLowerCase())this.h=c;else{if(!(c instanceof
HTMLMediaElement))throw new _.O(_.P,7,7005,"Media element is not instance of HTMLMediaElement");if(!c.hasAttribute("crossorigin")){var e=d.crossorigin;this.g.info("Setting media elements crossorigin to "+e);c.setAttribute("crossorigin",e)}this.f.set(c);if(d.disableContainer)e=null;else if(d.containerEl){if(c.parentNode!==d.containerEl)throw new _.O(_.P,7,7006,"Container element is not a direct parent of media element");e=d.containerEl}else{e=document.createElement(_.Xd);c.parentNode?c.parentNode.replaceChild(e,
c):this.g.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!");for(var f=[],g=0;g<c.classList.length;g++)f.push(c.classList[g]);f=_.w(f);for(g=f.next();!g.done;g=f.next())g=g.value,c.classList.remove(g),_.Jq(e,g);e.style.cssText=c.style.cssText;c.removeAttribute(_.kg);f=_.w([_.Wg,_.ve]);for(g=f.next();!g.done;g=f.next()){g=g.value;var h=c.getAttribute(g);h=parseInt(h,10);isNaN(h)||(e.style[g]=h+_.Lf);_.vk()||c.removeAttribute(g)}e.appendChild(c)}e&&
(this.a.set(e),Nq(this.a,"clpp-container"),Nq(this.a,this.o),Nq(this.f,_.vd),Nq(this.f,"clpp-video"));d.webOSStartupPatch&&Rq(this,c,e)}};Rq=function(a,b,c){(_.wk()&&53===_.Cl().major||_.wk()&&68===_.Cl().major||_.Dl())&&!b.hasAttribute(Sd)&&(b.style.opacity="0",b.setAttribute(Sd,""),a.j.one(b,le,function(){b.removeAttribute(Sd);b.style.opacity="1";c&&(c.style.opacity="1")}))};
Xq=function(a){var b=this;this.h=a;this.w=!!a.sideAdContainer;this.j=[];this.f=a.Ui;this.C=Tq(a);this.B=[];var c=Uq(this,this.C,this.h.hl);this.o=new Hq(c);this.a=null;this.A=!1;this.l=new Map;this.G=a.toggleVisible;this.g=new _.K("clpp.interstitial.MultiController");Vq(this).forEach(function(d){return Wq(b,d,!1)})};
Zq=function(a){var b;return _.I(function(c){if(1==c.a)return(b=a.a)?"loaded"===b.state?c.F(2):_.y(c,b.hd,2):c["return"]();if(4!=c.a)return _.y(c,b.player.play(),4);b.state=_.xf;Yq(b);_.B(c)})};$q=function(a,b){a.g.info("Add items",b);a.j=a.j.concat(b.map(function(c){return Object.assign({},c,{state:"idle",disposers:[],preloadPromise:Promise.resolve(),hd:Promise.resolve()})}))};
ar=function(a,b){0!==a.j.length&&(b?(a.g.info("Remove items",b),a.j=a.j.filter(function(c){return!b.includes(c.id)})):(a.g.info("Remove all items"),a.j=[]))};
lr=function(a,b,c){var d,e,f,g,h;return _.I(function(l){switch(l.a){case 1:if(a.A)return a.g.warn("Cannot "+c+" item while busy (ID: "+b+")"),l["return"]();d=br(a,b);if(!d)return a.g.warn("Item not found (ID: "+b+")"),l["return"]();a.g.info(c+" item (ID: "+b+")");a.A=!0;if(e=a.a)e.player.isPaused()||(a.w?e.primary?e.player.setMuted(!0):e.player.pause():e.player.pause()),e.player.setMuted(!0);(f=a.l.has(b))&&a.l["delete"](b);_.D(l,2,3);if(c===_.mf)return(g=e&&d.primary)?_.y(l,cr(a,d),10):f?_.y(l,dr(a,
d),10):_.y(l,er(a,d),10);if(f){a.g.error("Loading preloaded items is not supported");l.F(6);break}return _.y(l,fr(a,d),6);case 10:Yq(d);case 6:gr(a,d);d.player.setMuted(!1);d.ec&&hr(a,d,d.ec);if(d.ub)d.player.one(_.pe,d.ub);d.Fi&&d.Fi(d.player.getDuration());case 3:_.th(l);a.A=!1;e&&ir(a,e);jr(a);kr(a,d.next);_.uh(l);break;case 2:throw h=_.F(l),a.g.error("Item failed to "+c+" (ID: "+b+")"),h;}})};nr=function(a,b){var c=mr(a);c?c.ea=b:a.g.error("Failed to get primary item. Cannot configure resume position.")};
mr=function(a){return a.j.find(function(b){return!!b.primary})||null};br=function(a,b){return a.j.find(function(c){return c.id===b})||null};
gr=function(a,b){var c=b.transition;if(c&&!c.Nn){if(c.ub){var d=c.ub,e=function(){a.g.info("Transition onEnded to (ID: "+d+")");a.play(d)};b.player.one(_.pe,e);b.disposers.push(function(){b.player.off(_.pe,e)})}c.ig&&or(a,b,function(){var f=a.a.ec;f&&(a.f.trigger(new _.L(_.Ic,{ad:f})),a.f.trigger(new _.L(_.vc,{ad:f})),f.a===f.f&&a.f.trigger(new _.L(_.sc,{id:b.Pe})))});c.Nn=!0}};
or=function(a,b,c){function d(){b.player.off(_.qg,f)}function e(){var l=b.player.getPosition();l>=g.position?(c(),a.g.info("Transition onPosition to (ID: "+g.itemId+"), playback position: "+(l.toFixed(3)+" s, transition point: ")+(g.position.toFixed(3)+" s. ")),a.play(g.itemId),l=!0):l=!1;l?h=null:h=requestAnimationFrame(e)}function f(){var l=b.player.getPosition();.5>=g.position-l&&(d(),e())}var g=b.transition.ig,h=null;g.ea&&nr(a,g.ea);b.player.on(_.qg,f);b.disposers.push(function(){null!=h&&(cancelAnimationFrame(h),
h=null)});b.disposers.push(d)};pr=function(a){a.a&&(a.a.disposers.forEach(function(b){return b()}),a.a.disposers=[],a.a.ec&&hr(a,a.a,a.a.ec),gr(a,a.a),jr(a),kr(a,a.a.next))};Vq=function(a){return[a.f].concat(_.eh(a.o.a.map(function(b){return b.player})))};jr=function(a){return Promise.all(Array.from(a.l.keys()).map(function(b){return qr(a,b)}))};
Tq=function(a){if(a.sideAdContainer)a=a.sideAdContainer;else if(a=a.Ui.getSurface().getContainer(),!a)throw Error("Primary player does not have a container");return a};qr=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.l.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (ID: "+b+")");return c.player?_.y(d,rr(a,c.player),3):d.F(3)}a.l["delete"](b);_.B(d)})};
ir=function(a,b){var c;return _.I(function(d){if(1==d.a){c=b.player;if(b.primary)return a.g.info("Pause primary playback"),a.w||Wq(a,c,!1),d.F(0);a.g.info("Stop previous playback (ID: "+b.id+")");b.disposers.forEach(function(e){return e()});b.disposers=[];b.player=null;b.videoEl=null;b.role=sr;return _.y(d,rr(a,c),3)}Wq(a,c,!1);_.B(d)})};er=function(a,b){return _.I(function(c){if(1==c.a)return _.y(c,fr(a,b),2);if(3!=c.a)return _.y(c,b.player.play(),3);b.state=_.xf;_.B(c)})};
fr=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,tr(a,!!b.primary),2);if(3!=d.a)return c=d.f,a.a=b,b.role=ur,a.a.player=c,a.a.videoEl=c.getSurface().getMedia(),Wq(a,c,!0),b.state="loading",b.hd=vr(c,b.config),_.y(d,b.hd,3);b.state="loaded";_.B(d)})};
dr=function(a,b){var c;return _.I(function(d){switch(d.a){case 1:c=b.player;if(!c)return d["return"]();if(b.state!==Hf){d.F(2);break}a.g.info(ic);_.D(d,3);return _.y(d,b.preloadPromise,5);case 5:_.sh(d,2);break;case 3:_.F(d);case 2:a.a=b;b.role=ur;Wq(a,c,!0);if(b.state===Gf)return _.y(d,c.play(),7);if(b.state!==Ff){d.F(7);break}return _.y(d,vr(c,b.config),7);case 7:b.state=_.xf,_.B(d)}})};
hr=function(a,b,c){function d(){a.f.trigger(new _.L(_.Ic,{ad:c}));a.f.trigger(new _.L(_.vc,{ad:c}));c.a===c.f&&a.f.trigger(new _.L(_.sc,{id:b.Pe}))}function e(){a.f.trigger(new _.L(_.tc,{ad:c}))}function f(){a.f.trigger(new _.L(_.Fc,{ad:c}))}function g(){l.isEnded()||a.f.trigger(new _.L(_.Dc,{ad:c}))}function h(){var m=l.getPosition(),n=c.getDuration();c.j=m;a.f.trigger(new _.L(_.Ec,{ad:c}));!c.l&&m>=n/4&&(c.l=!0,a.f.trigger(new _.L(_.wc,{ad:c})));!c.o&&m>=n/2&&(c.o=!0,a.f.trigger(new _.L(_.Cc,{ad:c})));
!c.w&&m>=3*n/4&&(c.w=!0,a.f.trigger(new _.L(_.Jc,{ad:c})))}var l=b.player;l.on(_.qg,h);l.on(_.hf,g);l.on(_.xf,f);l.on(_.jd,e);l.one(_.pe,d);b.disposers.push(function(){l.off(_.qg,h);l.off(_.hf,g);l.off(_.xf,f);l.off(_.jd,e);l.off(_.pe,d)});1===c.a&&a.f.trigger(new _.L(_.rc,{id:b.Pe}));c.videoEl=l.getSurface().getMedia();a.f.trigger(new _.L(_.Ac,{ad:c}));a.f.trigger(new _.L(_.Hc,{ad:c}))};
cr=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Hf){c.F(2);break}a.g.info("Wait for seek to finish");_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.sh(c,2);break;case 3:_.F(c);case 2:a.a=b;b.role=ur;Wq(a,b.player,!0);b.state="loading";if(a.w){b.player.setMuted(!1);c.F(6);break}return _.y(c,b.player.play(),6);case 6:b.state=_.xf,_.B(c)}})};rr=function(a,b){return _.I(function(c){return b===a.f?c.F(0):_.y(c,a.o.release(b),0)})};
tr=function(a,b){var c;return _.I(function(d){if(1==d.a)return b?d["return"](a.f):_.y(d,a.o.get(),2);c=d.f;if(!c)throw Error("No player available");return d["return"](c)})};kr=function(a,b){var c;_.I(function(d){if(0===b.length)return d["return"]();a.g.info("Preload items (IDs: "+b+")");c=a.j.filter(function(e){return b.includes(e.id)})||[];return _.y(d,Promise.all(c.map(function(e){return wr(a,e)})),0)})};
wr=function(a,b){var c,d,e,f;return _.I(function(g){switch(g.a){case 1:if(!b.primary){g.F(2);break}b.state=Hf;a.l.set(b.id,b);if(!b.ea||a.w){g.F(3);break}c=b.player;a.g.info("Preparing to resume at",b.ea);c.setMuted(!0);return _.y(g,c.seek(b.ea),3);case 3:return b.state=Gf,g["return"]();case 2:return d=b.id,_.y(g,tr(a,!1),5);case 5:return e=g.f,b.player=e,b.videoEl=e.getSurface().getMedia(),b.role=sr,b.state=Hf,_.D(g,6),a.l.set(d,b),b.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (ID: "+
(d+")")),b.config.autoplay=!1),b.preloadPromise=vr(e,b.config),_.y(g,b.preloadPromise,8);case 8:b.state=Gf;_.sh(g,0);break;case 6:f=_.F(g),7001===f.code?(a.g.info("Preload aborted (ID: "+d+")"),b.state=Ef):(a.g.warn("Preload failed (ID: "+d+")",f),b.state=Ff),_.B(g)}})};
Wq=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.debug(Wb+b),d.classList.add(yd),d.classList.remove("clpp-hide")):(a.g.debug(fb+b),d.classList.remove(yd),d.classList.add("clpp-hide")),a.G&&a.G(d,c))};
Uq=function(a,b,c){return Array.from({length:2}).map(function(d,e){var f=document.createElement(_.r);b.appendChild(f);var g=a.h.Ca.create();f=new Sq(f);g.init(f,c);g.setSourceIndex(0);var h=f.getContainer();if(!h)throw Error("Failed to create player surface container element");h.classList.add("secondary");f.getMedia().classList.add("v-"+e);a.B.push(h);return g})};xr=function(a){a.B.forEach(function(b){return a.C.removeChild(b)});a.B=[];Wq(a,a.f,!0)};
vr=function(a,b){return _.I(function(c){return 1==c.a?_.y(c,a.release(),2):_.y(c,a.load(b),0)})};Yq=function(a){if(a.ec&&0===a.ec.getDuration()){var b=a.player.getDuration();a.ec.h=b}a.bf&&a.bf()};
Dr=function(a){_.wm.call(this);var b=this;this.h=_.N.qa({zn:.5},a);this.g=new _.K("clpp.interstitial.Player");this.j=a.player;this.j.setSeekInterceptor(function(c){var d=yr(b,c);return d&&[zr,Ar].includes(d.state)?(b.g.info("Seeking into an interstitial",d.ia),Br(b,d)["catch"](function(){b.j.seek(c)}),!1):!0});this.a=new Xq({hl:this.h.config,Ui:a.player,preloadMedia:!0,Ca:a.Ca,sideAdContainer:this.h.sideAdContainer});this.l=[];this.f=[];this.o=!1;Cr(this,a.player)};
Er=function(a){return(a=a.a.getCurrentItem())&&!a.primary?a.player:null};
Gr=function(a){var b,c,d;_.I(function(e){var f=a.a;$q(f,[{id:Jf,primary:!0,config:f.f.getConfiguration(),next:[]}]);var g=mr(f);if(!g)throw Error("Failed to find primary item");f.a=g;g.role=ur;g.player=f.f;g.videoEl=g.player.getSurface().getMedia();Wq(f,g.player,!0);b=a.j;c=b.getConfiguration();d=!c.autoplay;a.o=Fr(a,d,b.isLive(),!1);if(a.o){f=a.a;g=f.o;if(g=g.a[0]?g.a[0].player:null)f.w||Wq(f,f.f,!1),Wq(f,g,!0);return e.F(0)}return c.autoplay?_.y(e,Zq(a.a),0):e.F(0)})};
Fr=function(a,b,c,d){var e=Hr(a);a.g.info("Interstitial cues found",e);var f=e;if(d){f=Ei(a.f.map(function(n){return n.ia}),e.map(function(n){return n.id}));Ir(a,f.Gn);var g=new Set(f.vj);f=e.filter(function(n){return g.has(n.id)})}if(!Jr(a,f))return!1;var h=[],l=[],m=[];f.forEach(function(n){var p=n.customAttributes.CUE||[];p.includes(_.Fb)?l.push(n):!d&&p.includes("PRE")?h.push(n):!c&&n.startTime<a.h.zn?h.push(n):m.push(n)});1<h.length?a.g.warn("Multiple preroll interstitials not supported. Will display only the 1st one."):
h[0]&&Kr(a,h[0],b);m.forEach(function(n){return Lr(a,n,1)});1<l.length?a.g.warn("Multiple postroll interstitials not supported. Will display only the 1st one."):l[0]&&Lr(a,l[0],2);a.g.info("Interstitials changed",a.f);return 0<h.length};Ir=function(a,b){var c=new Set(b);a.f.forEach(function(d){c.has(d.ia)&&![zr,Ar].includes(d.state)&&a.g.warn("Removing an interstitial in active state",d)});a.f=a.f.filter(function(d){return!c.has(d.ia)})};
Hr=function(a){return a.j.getTimelineCues().filter(function(b){return b.schemeIdUri===Kd&&b.customAttributes})};Br=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,Mr(a,b),2);c=d.f;if(!c)throw Error("Failed to bind");return _.y(d,Nr(a,b,1,!1),0)})};
Lr=function(a,b,c){var d=b.customAttributes[qc],e=b.id,f=b.startTime,g=b.endTime,h=zr,l=b.customAttributes[nc],m=b.customAttributes[oc],n=null==d?null:b.startTime+d,p=b.customAttributes[pc];if(b=b.customAttributes[mc])try{var q=JSON.parse(atob(b))}catch(t){q=null}else q=null;c={ia:e,startTime:f,endTime:g,state:h,Ug:l,Vg:m,Aa:null,ea:n,Ln:d,Si:p,pg:c,bj:q};a.f.push(c);return c};
Kr=function(a,b,c){var d,e,f;_.I(function(g){if(1==g.a)return d=Lr(a,b,0),_.y(g,Mr(a,d),2);e=g.f;f=d.Aa?d.Aa.length:0;if(e&&0<f)return Nr(a,d,0,c),a.g.info("Preroll interstitial "+d.ia+" scheduled"),g.F(0);e?a.g.warn("Preroll interstitial has no assets, skipping"):a.g.error("Preroll interstitial failed, skipping");return c?g.F(0):_.y(g,Zq(a.a),0)})};Or=function(a){a.l.forEach(function(b){return b()});a.l=[]};
Cr=function(a,b){function c(){Fr(a,!1,!0,!0)}function d(){var e,f,g,h,l;return _.I(function(m){switch(m.a){case 1:e=b.getPosition();f=Pr(a,e);if(!f){m.F(2);break}a.g.info(gb+f.ia+" coming up at "+(f.startTime+" s"));return _.y(m,Mr(a,f),3);case 3:(g=m.f)&&Qr(a,f,b);case 2:h=Rr(a);if(!(h&&h.state===zr&&b.getDuration()-e<a.h.resolutionOffsetSec)){m.F(0);break}return _.y(m,Mr(a,h),5);case 5:if(l=m.f)if(h.Aa&&0!==h.Aa.length){var n=a.a.getCurrentItem();if(n){var p=Sr(a,h,2),q=p[0].id;n.next=[q];n.transition=
{ub:q};Tr(a,h,p);a.g.info("Postroll interstitial "+h.ia+" scheduled")}}else a.g.warn("Postroll interstitial has no assets, ignoring.");_.B(m)}})}b.addEventListener(_.qg,d);a.l.push(function(){b.removeEventListener(_.qg,d)});b.addEventListener(_.ii,c);a.l.push(function(){b.removeEventListener(_.ii,c)})};Rr=function(a){return a.f.find(function(b){return 2===b.pg})||null};
Jr=function(a,b){for(var c=b.sort(function(m,n){return m.startTime-n.startTime}),d=a.h.resolutionOffsetSec,e=[],f=0;f<c.length-1;f++){var g=c[f],h=c[f+1];h&&h.startTime-g.endTime<d&&e.push(ib+g.id+" and "+h.id+" are too close to each other (less than "+(d+" s)."));h&&h.startTime<=g.endTime&&e.push(ib+g.id+" and "+h.id+" overlap.")}var l=[];b.forEach(function(m){var n=m.customAttributes[oc],p=m.customAttributes[pc];m.customAttributes[nc]||n?null!=p&&1>p&&a.g.warn(hb+m.id+" is invalid X-PLAYOUT-LIMIT is less than 1 s.",
m):l.push(hb+m.id+" is invalid it contains neither X-ASSET-LIST nor X-ASSET-URI.")});0<l.length?a.g.error("Invalid interstitials, all interstitials will be skipped. "+l.join(" ")):0<e.length&&a.g.warn("Unsupported format of interstitials, playback may not behave correctly. "+e.join(" "));return 0===l.length};Pr=function(a,b){return a.f.find(function(c){var d=c.startTime-b;return 1===c.pg&&[zr,Ar].includes(c.state)&&0<d&&d<=a.h.resolutionOffsetSec})||null};
yr=function(a,b){return a.f.find(function(c){return 1===c.pg&&b>c.startTime&&b<c.endTime})||null};
Mr=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:b.state=Ur;if(!b.Ug){b.Vg?(b.Aa=[{URI:b.Vg,DURATION:b.endTime-b.startTime}],a.Ua(new _.L(zc,{id:b.ia,detail:Vr(b)})),b.state=Wr):b.state=Xr;f.F(2);break}_.D(f,3);a.g.info("Load X-ASSET-LIST for "+b.ia);a.Ua(new _.L(xc));return _.y(f,Yr(a,b.Ug),5);case 5:c=f.f;b.Aa=c.ASSETS;b.Aa&&0!==b.Aa.length||a.g.info(gb+b.ia+" has no assets, will be smoothly skipped");null==b.ea&&(d=Aj(b.Aa.map(function(g){return g.DURATION})),b.ea=b.startTime+
d);b.state=Wr;a.Ua(new _.L(yc));a.Ua(new _.L(zc,{id:b.ia,detail:c}));_.sh(f,2);break;case 3:e=_.F(f),a.g.error("Failed to load X-ASSET-LIST",e),b.state=Xr;case 2:return f["return"](b.state===Wr)}})};Zr=function(a,b){var c=a.h.xn;if(c){var d=new URL(b);d.searchParams.set("_HLS_primary_id",c);return d.toString()}return b};
Nr=function(a,b,c,d){var e,f;return _.I(function(g){e=a.a.getCurrentItem();if(!e)return g["return"]();f=Sr(a,b,c);Tr(a,b,f);null!=b.ea&&nr(a.a,b.ea);return d?_.y(g,a.a.load(f[0].id),0):_.y(g,a.a.play(f[0].id),0)})};
Qr=function(a,b,c){if(b.Aa)if(0===b.Aa.length){var d=function(){c.isLive()?a.g.info("Skipping empty live interstitial "+b.ia):null!=b.ea&&0!==b.Ln?c.seek(b.ea):a.g.info("Empty VOD interstitial "+b.ia+", continuing to next segment")};c.one(_.ji,d);a.l.push(function(){c.off(_.ji,d)});a.g.info(gb+b.ia+" scheduled to be skipped")}else{var e=a.a.getCurrentItem();if(e){var f=Sr(a,b,1),g=f[0].id;null!=b.ea&&nr(a.a,b.ea);e.next=[g];e.transition={ig:{position:b.startTime,itemId:g,ea:b.ea}};Tr(a,b,f);a.g.info(gb+
b.ia+" scheduled for "+(b.startTime+" s"))}}};Tr=function(a,b,c){$q(a.a,c);pr(a.a);b.state=$r;a.Ua(new _.L(_.Bc,{detail:null}))};
Sr=function(a,b,c){var d=0,e=b.Aa.map(function(m,n){var p=b.ia+"-"+n;d+=m.DURATION;return{id:p,config:{source:{url:Zr(a,m.URI),type:_.gm}},duration:m.DURATION,Kd:d,Pe:b.ia,next:[],ec:new Gq(c,n+1,b.Aa.length,m.DURATION,b.ia)}});e.forEach(function(m,n){var p=n===e.length-1;p&&2===c||(p?(m.next=[Jf],m.transition={ub:Jf}):(p=p?Jf:m.Pe+"-"+(n+1),m.next=[p],m.transition={ub:p}))});e.forEach(function(m){m.bf=function(){a.g.info("Playing interstitial asset "+m.id,m)}});if(null!=b.Si){var f=b.Si;a.g.info("Playout limit for "+
b.ia+" is "+(f+" s"));var g=e[e.length-1],h=f-(g.Kd-g.duration);0>=f?e=[]:f<g.Kd?(e=e.filter(function(m){return m.Kd-m.duration<=f}),.1>Math.abs(h-g.duration)?g.transition.ub=Jf:g.transition.ig={position:h,itemId:Jf,ea:null}):f>g.Kd&&a.g.info("Playout limit ("+f+") islarger than total duration: ("+(g.Kd+")"))}var l=e[0].bf;e[0].bf=function(){a.g.info("Playing interstitial "+c+" "+b.ia+" with "+(b.Aa.length+" assets and will resume primary content ")+((b.ea?"at "+b.ea.toFixed(1)+" s":"after interstitial ended")+
"."),e);l()};e[0].Fi=function(m){null==b.ea&&(b.ea=b.startTime+m,nr(a.a,b.ea),a.g.info("Primary content will resume at",b.ea));b.state=as};e[e.length-1].ub=function(){b.state=Ar;ar(a.a,e.map(function(m){return m.id}))};return e};Yr=function(a,b){var c,d,e,f,g,h;return _.I(function(l){if(1==l.a){c=a.a.Le();if(!c)throw Error("No player found");d=c.getNetworkEngine();e=_.ek(Zr(a,b));return _.y(l,Ck(d,e),2)}f=l.f;g=bs(f);if(!g)throw new _.Si("Invalid X-ASSET-LIST list response");h=f;return l["return"](h)})};
bs=function(a){return a&&a.ASSETS&&Array.isArray(a.ASSETS)?a.ASSETS.every(function(b){return typeof b.URI===_.ig&&typeof b.DURATION===_.k}):!1};Vr=function(a){var b={URI:a.Aa[0].URI,DURATION:a.Aa[0].DURATION};a.bj&&(b[mc]=a.bj);return{ASSETS:[b]}};cs=function(){this.a=null};
ds=function(){try{var a=URL.createObjectURL(new Blob);URL.revokeObjectURL(a);return a.slice(a.lastIndexOf("/")+1)}catch(c){var b=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var e=(b+16*Math.random())%16|0;b=Math.floor(b/16);return("x"===d?e:e&3|8).toString(16)})}};fs=function(a){this.m=a;this.j=this.m.getNetworkEngine();this.a=new _.Wh;this.h=null;this.f=!0;es(this)};
es=function(a){a.a.on(window,"offline",function(){gs(a,!1)});a.a.on(window,"online",function(){a.f||hs(a)});a.a.on(a.m,dg,function(){return is(a)});a.a.on(a.m,"suspend",function(){return is(a)});a.a.on(a.m,_.Pg,function(){return is(a)});a.a.on(a.m,_.xf,function(){a.f||hs(a)});a.a.on(a.m,_.Kf,function(){a.f||hs(a)});a.a.on(a.m,_.fg,function(){switch(a.m.getState()){case _.$p:is(a);break;default:is(a)}})};hs=function(a){a.m.getConfiguration().connectivityCheck&&(js(a),a.h=(new _.xl(function(){return ks(a)})).ca(5))};
is=function(a){a.f&&hs(a)};js=function(a){a.h&&(a.h.stop(),a.h=null)};ks=function(a){var b,c;return _.I(function(d){if(1==d.a)return(b=a.m.getConfiguration().connectivityCheck)&&a.m?_.y(d,Dk(a.j,b.url,b.attemptParameters,b.method),2):d["return"]();c=d.f;gs(a,c);_.B(d)})};gs=function(a,b){js(a);a.f!==b&&(a.f=b,a.m&&a.m.getConfiguration().connectivityCheck&&a.m.trigger(new _.L(df,{online:a.f})))};ms=function(){for(var a=0;a<ls.length;++a)ls[a].Tc()};
_.ns=function(a,b){b=b||0;for(var c={priority:b,Tc:a},d=0;d<ls.length;d++)if(ls[d].priority<b){ls.splice(d,0,c);return}ls.push(c)};os=function(a,b){a.onError(b);a.release().then(function(){return a.destroy()})};ps=function(a,b,c){var d=_.T.$;this.h=a;this.f=b;JSON.parse(d(_.Rj(a)));this.a=JSON.parse(d(_.Rj(b)));this.j=c};
rs=function(a){var b=qs,c=_.T.$a,d={kty:"RSA",n:b.n,e:b.e},e=a.h+"."+a.f,f=a.j;return new Promise(function(g,h){try{var l=window&&window.crypto&&window.crypto.subtle}catch(n){}if(l){var m={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};l.importKey("jwk",d,m,!1,["verify"]).then(function(n){var p=c(e),q=_.Rj(f);return l.verify(m,n,q.buffer,p.buffer)}).then(function(n){n?g():h(new _.Si("Signature Verification failed",tg))})["catch"](h)}else g()})};ss=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.utils.LicenseKey")};
ts=function(a){if(!a.a){var b=a.f.split(".");if(3!==b.length)throw Error("Expected to find 3 data sections in JWT raw data");b=new ps(b[0],b[1],b[2]);a.a=b}return a.a};
us=function(a){var b,c,d;return _.I(function(e){if(1==e.a)return b=ts(a),_.D(e,2),_.y(e,rs(b),4);if(2!=e.a)return _.sh(e,0);if((c=_.F(e))&&c.code===tg)throw c;var f=window.location.href,g=new _.Xi(f);d=g.wb||g.nb?g:new _.Xi("//"+f);if(/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(d.nb))return e["return"]();throw c;})};
vs=function(a){switch((a.Z[0]||{src:"",type:""}).type){case _.Sc:a="dash";break;case _.Xc:a="ss";break;case _.gm:a="hls";break;case _.Jg:a="mp4";break;default:a=""}return a};ws=function(a){return a.viewerId?a.viewerId:(a=a.drm||null)&&a.customData&&a.customData.userId?""+a.customData.userId:""};xs=function(a){return(a=a.drm||null)&&a.customData&&a.customData.assetId?""+a.customData.assetId:""};ys=function(a){return(a=a.drm||null)&&a.customData&&a.customData.sessionId?""+a.customData.sessionId:""};
As=function(a){var b=a.configuration,c="no";b.drm&&!_.N.na(b.drm,{})&&(c="custom",b.drm.env&&b.drm.env.toLowerCase().startsWith(ke)||zs(a).endsWith("drmtoday.com"))&&(c=ke);return c};Bs=function(a){a=a.drmInfo;var b="";if(a)switch(a.keySystem){case _.Od:b="wv";break;case _.Md:b="pr";break;case _.Jd:b="fps"}return b};Cs=function(a){a=a.drmInfo;var b=!1;a&&(b=a.persistentStateRequired);return b.toString()};
Ds=function(a){a=a.drmInfo;var b="";if(a)switch(a.videoRobustness){case db:case bb:b="L1";break;case cb:b="L2";break;case _.Tb:case _.Sb:b="L3"}return b};zs=function(a){a=a.drmInfo;return(new _.Xi(a&&a.licenseServerUri||"")).nb};
Gs=function(a,b){var c="ie"===_.xk().browser,d=b.configuration,e=_.eh(Array.from(_.Hm.keys())).concat(_.eh(b.Ti));d={"CL-KEY":a.f,"CL-LOCATION":window.location.href,"CL-SDK-VERSION":_.ha,"CL-USER-ID":ws(d),"CL-ASSET-ID":xs(d),"CL-SESSION-ID":ys(d),"CL-PLAYBACK-TYPE":b.isLive?Es:Fs,"CL-CONTENT-TYPE":vs(b),"CL-PLUGINS":e.join(" "),"CL-DRM":As(b),"CL-DRM-CDM":Bs(b),"CL-DRM-SEC-LEVEL":Ds(b),"CL-DRM-OFFLINE":Cs(b),"CL-DRM-IP":zs(b)};c&&(e=window.localStorage.getItem("cl_et"))&&(d["CL-ETAG"]=e);e=_.ek(["https://downloads.castlabs.com/r/register/"]);
e.method="GET";e.headers=d;return(new _.Ak).fetch(e).T.then(function(f){200===f.status&&c&&window.localStorage.setItem("cl_et",f.headers.etag);return Promise.resolve()})["catch"](function(f){a:{var g=ts(a);f=f.data;var h=f.status;if(g.a&&g.a.ilv)f=Promise.resolve();else{switch(h){case 403:case 404:g=7101;var l="castLabs Player license is invalid";if(403===h){h=l;l="";try{l=JSON.parse(decodeURIComponent(f.responseText)).message}catch(m){}f=h+(": "+l)}else f=l+"!";l=f;break;case 412:g=7103;l="License requires a viewer ID. It should be supplied either via the `viewerId` config or in case of DRMtoday via the `drm.customData.userID` config.";
break;default:f=Promise.resolve();break a}a.g.error(ob+l);f=Promise.reject(new _.O(_.P,7,g,l))}}return f})};Is=function(a){this.m=a;this.f=a.getNetworkEngine();this.h=Hs(this);this.f.Rc(this.h);this.a=null};
Hs=function(a){return function(b){var c=b.headers,d=b=null,e=_.N.Wh(c,"cmsd-dynamic");c=_.N.Wh(c,"cmsd-static");e&&(b=Js(e),a.a=b);if(c)try{e={};var f=c.split(",");for(c=0;c<f.length;c++){var g=Ks(f[c]),h=g.key,l=g.value;Object.keys(Ls).includes(h)&&(e[Ls[h]]=l)}d=_.N.yc(e)?e:null}catch(m){Ms.error("CmsdManager parseCmsdStaticHeader_ failed:",m),d=null}(b||d)&&a.m.trigger(new _.L("cmsd-event",{No:b,$o:d}))}};
Js=function(a){try{var b=a.split(",").map(function(c){var d={};c=c.split(";");for(var e=0;e<c.length;e++){var f=Ks(c[e]),g=f.key;f=f.value;Object.keys(Ns).includes(g)&&(d[Ns[g]]=f)}return d}).filter(function(c){return _.N.yc(c)});return 0<b.length?b:null}catch(c){return Ms.error("CmsdManager parseCmsdDynamicHeader_ failed:",c),null}};
Ks=function(a){var b=a.split("\x3d"),c=b[0];b=b[1];if(!c)throw new _.Si("Parsing CMSD, missing parameter or wrong format");if(c&&!b)return{key:c,value:!0};var d=b[0];if('"'===d&&'"'===b[b.length-1])return{key:c,value:b.replaceAll(/(^")|("$)/g,"")};if(/^[-0-9]/.test(d))return{key:c,value:parseInt(b,10)};if(/^[a-zA-Z*]/.test(d))return{key:c,value:b};throw new _.Si("Parsing CMSD, not recognized value type of "+a);};
X=function(a,b,c){_.wm.call(this);var d=this;ms();this.g=new _.K("clpp.Player");if(!a)throw new _.O(_.P,7,7102);this.va=new _.Wh;this.f=this.C=b||_.Cm();this.l=null;void 0===this.f.license&&(this.f.license=Am,this.g.warn("You are using the embedded demo license!"));if(!this.f.license)throw this.g.error("You provided null or empty string as your license. Please check your license configuration."),new _.O(_.P,7,7101,"No license provided in configuration!");this.j=new Sq(a,c);this.H=this.A=this.a=this.G=
null;this.J=new _.Ak;this.h=null;this.fa=[];this.ga=!0;this.L={};this.Ha=null;this.Y=!0;this.aa=this.U=!1;this.M=this.bd=null;this.Mf=!1;this.bb=new fs(this);this.B=null;this.on(_.fg,function(){d.getState()===_.fq&&(d.a?d.a.unload():Promise.resolve())});this.on(_.Oc,this.zi.bind(this));this.on(_.Mc,this.zi.bind(this));this.on(_.ii,function(){return Os(d)});Ps(this,this.f.license);this.j.getMedia()&&(a=this.j.getMedia(),a.hasAttribute("autoplay")&&(a.removeAttribute("autoplay"),this.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),
void 0===this.f.autoplay&&(this.f.autoplay=!0,this.g.debug("Setting autoplay in configuration since it was specified in the video element"))));a=[];b=_.w(Qs);for(c=b.next();!c.done;c=b.next()){c=c.value;try{var e=c.create(this.f);e&&a.push(e)}catch(f){this.g.error("Error while creating player plugin",f)}}Rs(this,a);this.P=_.na;Nm(this)};
_.Ss=function(a,b,c){c=void 0===c?null:c;null!=b&&b===a.a?a.a.forwardEventsTo(a):(a.a&&(a.a.stopForwardingEventsTo(a),a.a.destroy(),a.a=null,a.A=null),b&&(b.init(a.j,a.C),b.setNetworkEngine(a.getNetworkEngine()),b.forwardEventsTo(a),a.a=b,a.A=c))};Ps=function(a,b){a.G=new ss(b);us(a.G)["catch"](function(c){setTimeout(function(){a.g.error(ob+c);a.trigger(new _.L(_.qe,{detail:new _.O(_.P,7,7101)}));a.destroy()},1E3)})};
Ts=function(a,b){var c,d;_.I(function(e){if(1==e.a)return a.j.getMedia()||a.j.getCastElement(),a.G||(a.G=new ss(a.f.license)),_.D(e,2),a.g.debug("Verifying license remotely"),_.y(e,Gs(a.G,b),4);if(2!=e.a)return a.g.debug("License verified remotely"),_.sh(e,0);c=_.F(e);a.g.debug("License rejected by remote",c);d={release:a.release.bind(a),destroy:a.destroy.bind(a),onError:a.onError.bind(a)};setTimeout(os,1E3,d,c);_.B(e)})};
Rs=function(a,b){a.fa=b;for(var c=_.w(a.fa),d=c.next();!d.done;d=c.next()){d=d.value;var e=d.id();e&&(a.L[e]=d)}a.Cc("onPlayerCreated")};
Us=function(a){var b,c;return _.I(function(d){switch(d.a){case 1:if(a.Y)return a.g.debug("The player is already released. No-op"),d["return"](new Promise(function(e){return e()}));a.va.off(document,Ng);a.trigger(new _.L(_.Of));a.j&&a.j.release();if(!a.h){d.F(2);break}return _.y(d,a.h.sc(),3);case 3:a.h=null;case 2:if(!a.B){d.F(4);break}return _.y(d,a.B.release(),5);case 5:a.B=null;case 4:if(a.a)return b=null,c=a.a.on(_.fg,function(e){b=e}),d["return"](a.Cc(_.bf).then(function(){a.a.stopForwardingEventsTo(a);
return Promise.all([a.a.release(),a.J.release()])}).then(function(){a.g.debug("Releasing player completed");b&&(a.g.debug("Re-post state change event after release"),a.trigger(b))})["finally"](function(){a.a.off(_.fg,c);a.trigger(new _.L(Nf))}));a.trigger(new _.L(Nf));return d["return"](new Promise(function(e){return e()}))}})};
Ws=function(a,b,c){if(a.P===_.Eb)b=Vs(b,c);else if(2!==(a.a?a.a.canPlay(b[0],c):0)||a.aa){a.aa=!1;if(b){for(var d=a=null,e=0;e<b.length;e++);e=Object.values(_.Ph);for(var f=0;f<b.length;f++)for(var g=0;g<e.length;g++){var h={Ca:e[g],confidence:e[g].canPlay(b[f],c)};if(null===a||a.confidence<h.confidence)a=h,d=f}a&&typeof d===_.k&&0<a.confidence?(_.Qh.debug("Player Factory '"+a.Ca.a()+"' can play",b[d]),b=new Oh(a.Ca,d)):(_.Qh.debug("No compatible Player Factory found for sources:",b),b=null)}else b=
null;if(!b)throw new _.O(_.P,7,7003,"No player factory compatible with given sources found!");c=b.Ca;a=c.create();b={Ca:c,player:a,sourceIndex:b.sourceIndex}}else b={Ca:a.A,player:a.a,sourceIndex:0};return b};Vs=function(a,b){var c=Sh(function(d){return d.f(_.Eb)&&a.every(function(e){return 2===d.canPlay(e,b)})});if(!c)throw new _.O(_.P,7,7003,"No compatible player implementing playlist mode found!");return{Ca:c,player:c.create(),sourceIndex:0}};
Ys=function(a){var b;return _.I(function(c){if(1==c.a){if(!a.a)return a.g.warn(Hb),c["return"]();b=a.a;if(!b.jh)return a.g.warn(Mb),c["return"]();a.trigger(new _.L(Le));return _.y(c,b.jh(),2)}return _.y(c,_.Xs(a),0)})};
_.bt=function(a,b,c){var d,e;return _.I(function(f){if(1==f.a){if(a.U)throw new _.O(_.P,7,7E3,"Player is already destroyed.");if(!a.j)throw new _.O(_.P,7,7E3,"No surface associated with this player!");_.Bo(sf);return _.y(f,a.release(),2)}if(3!=f.a){d=c||_.mq(b);if(!b||0===d.length)throw new _.O(_.P,7,7003,yb);a.Ha=d;a.f=_.Em(a.C,b,{source:d});a.Y=!1;e=Ws(a,d,a.f);_.Ss(a,e.player,e.Ca);Zs(a,a.a);a.a&&a.a.setSourceIndex(e.sourceIndex);$s(a);a.a&&a.a.setCdnErrorCallback(a.M);at(a,a.f);a.B=new Is(a);
a.a.setCmsdManager(a.B);if(a.f.pauseWhenInBackground)a.va.on(document,Ng,function(){document.hidden?(a.g.debug("Player is hidden: pausing..."),a.pause()):(a.g.debug("Player is visible: resuming..."),a.play())});Om(a);return _.y(f,a.Cc("onContentWillLoad",a.f.source[e.sourceIndex]),3)}_.Bo(rf);_.Co("player.beforeLoad",sf,rf);_.B(f)})};
_.ct=function(a){return _.I(function(b){a.j.getMedia()||a.j.getCastElement();a.trigger(new _.L(Le));return _.y(b,Promise.all([a.a.load(a.f),a.h?a.h.load():Promise.resolve()]),0)})};Zs=function(a,b){try{var c=crypto.randomUUID()}catch(d){c=ds()}a.g.info("Playback session started, ID:",c);b.setPlaybackSessionId(c);a.H=c};dt=function(a){a.H&&(a.g.info("Playback session ended, ID:",a.H),a.H=null,a.a&&a.a.setPlaybackSessionId(null))};
ft=function(a){var b,c,d,e;_.I(function(f){if(1==f.a){b=[];if(a.f.remoteTextTracks)for(c=_.w(a.f.remoteTextTracks),d=c.next();!d.done;d=c.next())e=d.value,b.push(a.getTrackManager().addTextTrack(e));return _.y(f,Promise.all(b),2)}et(a);_.B(f)})};
et=function(a){var b=_.zi(a.f.preferredTextLanguage).filter(function(f){return f}),c=a.f.preferForcedSubtitles,d=a.getTrackManager().ja().filter(function(f){return c?f.kind===_.se:f.kind!==_.se});if(0===d.length)c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles are available.");else{if(c&&0===b.length){var e=a.getTrackManager().oa();e&&e.language?(e=_.wj(e.language||""),b.push(e)):(e=a.getTrackManager().Ia())&&e.language&&(e=_.wj(e.language||""),b.push(e));0===
b.length&&a.g.warn("Forced subtitles are configured to be preferred, but neither the preferred text language is set, nor the audio or video track language is available to determine which forced subtitles language to select.")}b.some(function(f){var g=_.wj(f);if(f=d.find(function(h){h=_.wj(h.language||"");return _.xj(h,g)}))return a.getTrackManager().Ta(f),!0;c&&a.g.warn("Forced subtitles are configured to be preferred, but no forced subtitles match the preferred languages: ",b);return!1})}};
_.Xs=function(a){var b;return _.I(function(c){if(1==c.a)return _.Bo(of),Ts(a,{configuration:a.getConfiguration(),Z:a.$h(),drmInfo:a.getDrmInfo(),Ti:Object.keys(a.L),isLive:a.isLive()}),ft(a),Pm(),_.y(c,a.Cc(_.Ze),2);if(3!=c.a)return a.f.autoplay?(b=a.h?a.h.Sc():!0)?_.y(c,a.play(),3):c.F(3):c.F(3);_.Bo(nf);_.Co("player.afterLoad",of,nf);_.B(c)})};at=function(a,b){var c=Dq(a,b);c&&(a.h=c.create(a))};
Os=function(a){if(!a.h&&a.A&&a.a&&a.f.ads.hls.enable&&a.getTimelineCues().some(function(c){return c.schemeIdUri===Kd})){var b=a.f.mse.sendPlaybackSessionIdHeader?a.H:null;a.h=new cs;a.h.Vc(a.a,a.A,b)}};$s=function(a){a.a&&a.a.setDrmCustomDataModifier(function(b){return _.I(function(c){if(!a.bd||!a.Mf)return c.F(0);a.Mf=!1;return _.y(c,a.bd(b),0)})})};_.gt=function(a){a&&(0<=Qs.indexOf(a)||Qs.push(a))};
ht=function(a,b,c){X.call(this,a,b,c);a={manifest:{timeline:{version:2},keepTimelineLive:!0},streaming:{preferNativeHlsOnSafari:!1,enableLiveEdgeChasing:!1,startAtSegmentBoundary:!1}};this.C=_.N.qa(this.C,a);this.f=_.N.qa(this.f,a);this.I=0;this.o=[];this.ba=!1;this.w=null;this.K=[]};it=function(a){a.K.forEach(function(b){return b()});a.K=[]};
jt=function(a,b){function c(f){a.I=a.o.findIndex(function(g){return g.id===f.id})}a.addEventListener(_.Uf,c);a.K.push(function(){a.removeEventListener(_.Uf,c)});if(b.endTime){var d=b.endTime,e=function(){a.getPosition()>=d&&(a.removeEventListener(_.qg,e),a.g.info("Playlist end time reached. Stopping playback."),a.trigger(new _.L(_.Tf)),a.pause())};a.addEventListener(_.qg,e);a.K.push(function(){a.removeEventListener(_.qg,e)})}};
mt=function(a,b){var c,d;return _.I(function(e){switch(e.a){case 1:return _.D(e,2),_.Bo(wf),a.P=_.Eb,a.ga=!1,c=b.slice(1).map(function(f){return{config:f,Z:_.mq(f)}}),_.y(e,_.bt(a,b[0]),4);case 4:return c.forEach(function(f){kt(a,f.config,f.Z)}),a.trigger(new _.L(Le)),_.y(e,a.a.setupPlaylist(b),5);case 5:return _.y(e,_.Xs(a),6);case 6:c.forEach(function(f){lt(a,f.config,f.Z)});_.Bo(vf);_.Co("player.setupPlaylist",wf,vf);_.sh(e,0);break;case 2:d=_.F(e);if(a.l)throw a.g.info(pb),new _.O(_.P,7,7E3);
throw d;}})};nt=function(a,b){var c,d;return _.I(function(e){if(1==e.a)return _.D(e,2),_.Bo(qf),c=_.mq(b),kt(a,b,c),_.y(e,a.a.appendLoad(b),4);if(2!=e.a)return lt(a,b,c),_.Bo(pf),_.Co("player.appendLoad",qf,pf),_.sh(e,0);d=_.F(e);if(a.l)throw a.g.info(pb),new _.O(_.P,7,7E3,{id:b.id});throw d;})};lt=function(a,b,c){Ts(a,{configuration:b,Z:c,drmInfo:a.getDrmInfo(),Ti:Object.keys(a.L),isLive:c[0].isLive})};
kt=function(a,b,c){if(0===c.length)throw new _.O(_.P,7,7003,{message:yb,id:b.id});if(1<c.length)throw new _.O(_.P,7,7003,{message:"Multiple sources not supported!",id:b.id,source:c});if(2!==(a.a?a.a.canPlay(c[0],a.f):0))throw new _.O(_.P,7,7003,{message:"Source not supported by the current player!",id:b.id,source:c[0]});};
qt=function(a){_.wm.call(this);var b=this;this.h=_.N.qa({transition:_.hf,preloadMedia:!1},a);this.j=[];this.a=0;var c=ot(a.anchorId,this.h.config);this.w=new Hq(c);this.f=null;this.l=!1;this.o=new Map;this.A=a.toggleVisible;this.g=new _.K(Dd);this.w.a.forEach(function(d){return pt(b,d.player,!1)})};st=function(a){return Promise.all(Array.from(a.o.keys()).map(function(b){return rt(a,b)}))};
rt=function(a,b){var c;return _.I(function(d){if(1==d.a){c=a.o.get(b);if(!c)return d.F(0);a.g.info("Stop preloading item (index: "+b+")");return c.player?_.y(d,tt(a,c),3):d.F(3)}a.o["delete"](b);_.B(d)})};vt=function(a,b){return _.I(function(c){if(1==c.a)return a.g.info("Stop current playback (index: "+b.index+")"),b.player.pause(),pt(a,b.player,!1),_.y(c,tt(a,b),2);b.player=null;b.videoEl=null;b.role=ut;_.B(c)})};
tt=function(a,b){return _.I(function(c){b.disposers.forEach(function(d){return d()});b.disposers=[];return b.player?_.y(c,a.w.release(b.player),0):c.F(0)})};yt=function(a,b){var c;return _.I(function(d){if(1==d.a)return _.y(d,a.w.get(),2);if(3!=d.a)return c=d.f,a.f=b,b.role=wt,a.f.player=c,a.f.videoEl=c.getSurface().getMedia(),pt(a,c,!0),_.y(d,c.load(b.config),3);xt(a,b);return b.config.autoplay?d.F(0):_.y(d,c.play(),0)})};
zt=function(a,b){return _.I(function(c){switch(c.a){case 1:if(!b.player)return c["return"]();if(b.state!==Hf){c.F(2);break}a.g.info(ic);_.D(c,3);return _.y(c,b.preloadPromise,5);case 5:_.sh(c,2);break;case 3:_.F(c);case 2:a.f=b;b.role=wt;pt(a,b.player,!0);if(b.state===Gf)return _.Bo(Df),a.h.preloadMedia?_.y(c,b.player.play(),11):_.y(c,Ys(b.player),11);if(b.state!==Ff){c.F(7);break}return _.y(c,b.player.load(b.config),7);case 11:_.Bo(Af),_.Co("playlist.next",Df,Af);case 7:if(xt(a,b),b.config.autoplay)c.F(0);
else return _.y(c,b.player.play(),0)}})};xt=function(a,b){if(a.h.autoplayNext){var c=function(){a.g.info("Automatically transition to next item");a.Ri()};b.player.on(_.pe,c);var d=b.player;b.disposers.push(function(){d.off(_.pe,c)})}};Bt=function(a){var b;return _.I(function(c){b=a.a+1;a.g.info("Preload following item (index: "+b+")");return _.y(c,At(a,b),0)})};Ct=function(a){var b;return _.I(function(c){b=a.a-1;a.g.info("Preload preceding item (index: "+b+")");return _.y(c,At(a,b),0)})};
Dt=function(a){var b;_.I(function(c){if(0===a.a)return _.y(c,Bt(a),0);if(a.a===a.j.length-1)return _.y(c,Ct(a),0);b=[a.a-1,a.a+1];a.g.info("Preload items (indices: "+b+")");return _.y(c,Promise.all(b.map(function(d){return At(a,d)})),0)})};
At=function(a,b){var c,d,e;return _.I(function(f){switch(f.a){case 1:return _.y(f,a.w.get(),2);case 2:return c=f.f,d=a.j[b],d.player=c,d.videoEl=c.getSurface().getMedia(),d.role=ut,d.state=Hf,a.trigger(new _.L(wg)),_.D(f,3),a.o.set(b,d),a.h.preloadMedia?(d.config.autoplay&&(a.g.warn("Autoplay should not be used for preloaded streams. Force disabling autoplay (index: "+(b+")")),d.config.autoplay=!1),d.preloadPromise=c.load(d.config)):d.preloadPromise=c.preload(d.config),_.y(f,d.preloadPromise,5);case 5:d.state=
Gf;a.trigger(new _.L(wg));_.sh(f,0);break;case 3:e=_.F(f),7001===e.code?(a.g.info("Preload aborted (index: "+b+")"),d.state=Ef):(a.g.warn("Preload failed (index: "+b+")",e),a.trigger(new _.L(_.qe,{detail:e})),d.state=Ff),a.trigger(new _.L(wg)),_.B(f)}})};pt=function(a,b,c){var d=b.getSurface().getMedia();b=b.getSurface().getUniqueCssClass();d&&(c?(a.g.info(Wb+b),d.classList.add(yd)):(a.g.info(fb+b),d.classList.remove(yd)),a.A&&a.A(d,c))};
Et=function(a){var b;return _.I(function(c){if(1==c.a)return _.y(c,a.w.destroy(),2);b=document.getElementById(a.h.anchorId);if(!b)return c["return"]();b.classList.remove(xd);b.innerHTML="";_.B(c)})};
ot=function(a,b){var c=document.getElementById(a);if(!c)throw Error("Anchor element not found");c.classList.add(xd);return Array.from({length:3}).map(function(){var d=document.createElement(_.r);d.classList.add("clpp-mc-playlist-video-el");var e=document.createElement(_.Xd);e.classList.add("clpp-mc-playlist-item");e.appendChild(d);c.appendChild(e);return new X(d,b)})};
_.Gt=function(a){if(Ft.has(a))return Ft.get(a);if(window.ManagedMediaSource){var b=ManagedMediaSource.isTypeSupported(a);Ft.set(a,b);return b}return window.MediaSource?(b=MediaSource.isTypeSupported(a),Ft.set(a,b),b):!1};Ht=function(a){this.h=a;this.f={keepOriginalTimestamps:!0,remux:!1};this.a=new muxjs.mp4.Transmuxer(this.f)};
It=function(a,b){var c=b.replace(/mp2t/i,"mp4");a===_.Zc&&(c=c.replace(_.r,_.Zc));var d=/avc1\.(66|77|100)\.(\d+)/.exec(c);if(d){var e="avc1.",f=d[1],g=Number(d[2]);e=("66"===f?e+"4200":"77"===f?e+"4d00":e+"6400")+(g>>4).toString(16);e+=(g&15).toString(16);c=c.replace(d[0],e)}return c};Jt=function(){};_.Kt=function(){};Lt=function(){this.a=null;this.g=new _.K("clpp.drm.eme.StandardEmeManager")};Mt=function(){};Nt=function(){this.size=0;this.a=void 0;this.g=new _.K("clpp.drm.eme.MediaKeyStatusMap")};
Ot=function(a,b){a.size=void 0===b?0:1;a.g.debug("Setting key status to",b);a.a=b};Pt=function(){};Qt=function(){};Rt=function(){this.a=this.f=null};
St=function(a,b){this.keySystem=a;if(a.startsWith(_.Jd))for(var c=_.w(b),d=c.next();!d.done;d=c.next()){var e=d.value;if(e.persistentState===_.Qf)d=null;else{d={audioCapabilities:[],videoCapabilities:[],persistentState:_.ef,distinctiveIdentifier:_.ef,initDataTypes:e.initDataTypes,sessionTypes:[ng],label:e.label};var f=!1,g=!1;if(e.audioCapabilities)for(var h=_.w(e.audioCapabilities),l=h.next();!l.done;l=h.next())l=l.value,l.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,l.contentType.split(";")[0])&&
(d.audioCapabilities.push(l),g=!0));if(e.videoCapabilities)for(e=_.w(e.videoCapabilities),l=e.next();!l.done;l=e.next())h=l.value,h.contentType&&(f=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,h.contentType.split(";")[0])&&(d.videoCapabilities.push(h),g=!0));f||(g=WebKitMediaKeys.isTypeSupported(this.keySystem,_.Jg));d=g?d:null}if(d){this.a=d;return}}c=Error(ec);c.name=Db;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};
Tt=function(a){this.f=null;this.h=new WebKitMediaKeys(a);this.a=new _.Wh;this.j=0;this.g=new _.K(Bd);this.g.info("Created Media Keys for "+a)};
Ut=function(a,b){a.f=b;_.Zh(a.a);if(!b)return Promise.resolve();a.a.on(b,ne,function(c){_.Mh("AppleEmeManager.cancelNativeMediaEncryptedEvent_",c);"MediaEncryptedEvent"in window&&c instanceof MediaEncryptedEvent&&(a.g.info("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),c.stopImmediatePropagation())});a.a.on(b,Vg,function(c){a.g.debug("Handle webkitNeedKey event");c=_.Fj(c.initData);if(_.Mj(c).getUint32(0,!0)+4!==c.byteLength)throw new RangeError("Malformed FairPlay init data");
c=_.T.wc(c.subarray(4),!0);c=_.T.$a(c);var d=new Event(ne);d.initDataType="skd";d.initData=Nj(c);a.f.dispatchEvent(d)});Up(b,HTMLMediaElement.HAVE_METADATA,a.a,function(){return b.webkitSetMediaKeys(a.h)});return Promise.resolve()};Vt=function(a,b){_.wm.call(this);this.a=null;this.o=a;this.f=this.h=null;this.j=new _.Wh;this.sessionId=b;this.expiration=NaN;this.closed=new _.mk;this.l=!1;this.keyStatuses=new Nt;this.g=new _.K(Bd)};Wt=function(a,b){Ot(a.keyStatuses,b);a.dispatchEvent(new _.L(Ae))};
Xt=function(){};Yt=function(){this.f=this.a=null;this.h="";HTMLMediaElement.prototype.webkitGenerateKeyRequest&&(this.h="webkit")};
Zt=function(a,b,c,d){this.h=a;this.a=this.keySystem=c;a=!1;c===_.ff&&(this.a=Rg,a=!1);var e=!1;d=_.w(d);for(var f=d.next();!f.done;f=d.next()){f=f.value;var g=[],h=[],l=!1;if(f.audioCapabilities)for(var m=_.w(f.audioCapabilities),n=m.next();!n.done;n=m.next())n=n.value,n.contentType&&(l=!0,b.canPlayType(n.contentType.split(";")[0],this.a)&&(g.push(n),e=!0));if(f.videoCapabilities)for(g=_.w(f.videoCapabilities),n=g.next();!n.done;n=g.next())m=n.value,m.contentType&&(l=!0,b.canPlayType(m.contentType,
this.a)&&(h.push(m),e=!0));l||(e=b.canPlayType(_.Jg,this.a)||b.canPlayType("video/webm",this.a));f.persistentState!==_.Qf||a||(e=!1);if(e){this.f=f;return}}b=ec;if(c===_.ff||c===_.Od)b="None of the requested configurations were supported.";c=Error(b);c.name=Db;c.code=DOMException.NOT_SUPPORTED_ERR;throw c;};$t=function(a,b){this.h=a;this.o=b;this.a=null;this.f=new _.Wh;this.j=[];this.l=new Map};
cu=function(a,b){a.a=b;_.Zh(a.f);b&&(a.f.on(b,a.h+"needkey",function(c){var d=new Event(ne);d.initDataType=_.qd;d.initData=Nj(c.initData);a.a.dispatchEvent(d)}),a.f.on(b,a.h+"keymessage",function(c){var d=au(a,c.sessionId);if(d){var e=void 0===d.keyStatuses.getStatus();c=new _.L(_.Pe,{messageType:e?De:Ce,message:c.message});_.Mh("WebkitEmeManager.MediaKeySession.generated");d.f&&(d.f.resolve(),d.f=null);d.dispatchEvent(c)}else _.Nh("Session not found",c.sessionId)}),a.f.on(b,a.h+"keyadded",function(c){(c=
au(a,c.sessionId))&&c.ready()}),a.f.on(b,a.h+"keyerror",function(c){var d=au(a,c.sessionId);if(d){var e=Error("EME v0.1b key error"),f=c.errorCode;f.systemCode=c.systemCode;e.errorCode=f;!c.sessionId&&d.f?(45===c.systemCode&&(e.message="Unsupported session type."),d.f.reject(e),d.f=null):c.sessionId&&d.a?(d.a.reject(e),d.a=null):(e=c.systemCode,c.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?bu(d,_.gf):1===e?bu(d,"expired"):bu(d,_.ze))}}))};
au=function(a,b){var c=a.l.get(b);return c?c:(c=a.j.shift())?(c.sessionId=b,a.l.set(b,c),c):null};du=function(a,b,c,d){_.wm.call(this);this.w=a;this.j=b;this.o=!1;this.a=this.f=null;this.h=c;this.l=d;this.sessionId="";this.expiration=NaN;this.closed=new _.mk;this.keyStatuses=new Nt};
fu=function(a,b,c){if(a.o)return Promise.reject(Error("The session is already initialized."));a.o=!0;try{if(a.l===_.kf)if(c)var d=_.Fj(_.T.$a("LOAD_SESSION|"+c));else{var e=_.T.$a("PERSISTENT|"),f=new Uint8Array(e.byteLength+b.byteLength);f.set(e,0);f.set(_.Fj(b),e.byteLength);d=f}else d=_.Fj(b)}catch(h){return Promise.reject(h)}a.f=new _.mk;var g=eu(a,"generateKeyRequest");try{a.j[g](a.h,d)}catch(h){if(h.name!==lb)return a.f=null,Promise.reject(h);(new _.xl(function(){try{a.j[g](a.h,d)}catch(l){a.f.reject(l),
a.f=null}})).ca(.01)}return a.f};gu=function(a,b,c){if(a.a)a.a.then(function(){return gu(a,b,c)})["catch"](function(){return gu(a,b,c)});else{a.a=b;if(a.h===Rg){var d=_.T.$(c);var e=JSON.parse(d);"oct"!==e.keys[0].kty&&(a.a.reject(Error("Response is not a valid JSON Web Key Set.")),a.a=null);d=_.Rj(e.keys[0].k);e=_.Rj(e.keys[0].kid)}else d=_.Fj(c),e=null;var f=eu(a,"addKey");try{a.j[f](a.h,d,e,a.sessionId)}catch(g){a.a.reject(g),a.a=null}}};bu=function(a,b){Ot(a.keyStatuses,b);a.dispatchEvent(new _.L(Ae))};
eu=function(a,b){return a.w?a.w+b.charAt(0).toUpperCase()+b.slice(1):b};hu=function(){};
iu=function(a,b,c,d,e){_.bn.call(this,eb);this.l=a;this.j=b;this.h=c;this.a=d;this.o=e;this.g=new _.K(Ad);_.T.empty(this.l)?this.g.warn(_.kc):this.Ya(_.Od,{licenseUrl:this.l,videoRobustness:[_.Tb,void 0],audioRobustness:[_.Sb,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:this.ke.bind(this)}});_.T.empty(this.j)?this.g.warn(_.Gb):this.Ya(_.Md,{licenseUrl:this.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:this.ke.bind(this)}});
_.T.empty(this.h)?this.g.warn(_.$a):_.T.empty(this.a)?this.g.warn(_.Za):this.Ya(_.Jd,{licenseUrl:this.h,certificateUrl:this.a,modifiers:{licenseRequest:this.Ci.bind(this),licenseResponse:this.Di.bind(this),certificateRequest:this.ke.bind(this),extractContentId:this.Kh.bind(this)}})};ju=function(){};ku=function(a){var b=a.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if(typeof Event===_.ue)var c=new Event(b,a);else c=document.createEvent("Event"),c.initEvent(b,a.bubbles,a.cancelable);a.target.dispatchEvent(c)};
lu=function(a){a=a.target;if(a.webkitPresentationMode===lf){document.pictureInPictureElement=a;var b=new Event("enterpictureinpicture");a.dispatchEvent(b)}else document.pictureInPictureElement===a&&(document.pictureInPictureElement=null),b=new Event("leavepictureinpicture"),a.dispatchEvent(b)};mu=function(){return this.webkitSupportsPresentationMode(lf)?(this.webkitSetPresentationMode(lf),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))};
nu=function(){var a=document.pictureInPictureElement;return a?(a.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))};ou=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}};pu=function(a,b,c){return new window.TextTrackCue(a,b,c)};
qu=function(a,b,c){return new window.TextTrackCue(a+"-"+b+"-"+c,a,b,c)};su=function(a,b,c){if("input"===a)switch(this.type){case "range":a=td}ru.call(this,a,b,c)};uu=function(){this.a=tu()};vu=function(a){return tu()-a.a};wu=function(a){var b=new uu;b.a=a.a;return b};tu=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()};_.xu=function(a){var b=[];a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=_.w(c.value.variants);for(var d=c.next();!d.done;d=c.next())b.push(d.value)}return b};
yu=function(a){var b=void 0===b?2:b;this.a=new Uint8Array(a);this.h=b;this.f=0};zu=function(a,b){var c=a.f+b.byteLength;if(c>a.a.byteLength){var d=a.a;a.a=new Uint8Array(Math.max(Math.ceil(a.a.buffer.byteLength*a.h),c));a.a.set(d)}a.a.set(b,a.f);a.f+=b.byteLength};_.Au=function(a,b,c){this.h=a;this.j=b;this.f=c||this.h.getMedia();this.a=null};_.Cu=function(){this.a=new Blob([Bu],{type:_.Jg})};_.Du=function(a,b,c,d){this.id=a;this.f=b;this.a=c;this.h=d};_.Eu=function(){this.a=[];this.f=-1;this.h=null};
_.Gu=function(a,b,c,d){var e,f;return _.I(function(g){if(1==g.a)return _.D(g,2),_.y(g,Fu(a,b,c,d),4);if(2!=g.a)return e=g.f,g["return"](new e);f=_.F(g);f.a(_.P);throw f;})};
Fu=function(a,b,c,d){var e,f,g,h;return _.I(function(l){if(1==l.a){if(d){if(e=_.Hu[d.toLowerCase()])return l["return"](e);_.Hh("Could not determine manifest type using MIME type ",d)}if(f=_.Iu(a)){if(g=_.Ju[f])return l["return"](g);_.Hh("Could not determine manifest type for extension ",f)}else _.Hh("Could not find extension for ",a);return d?l.F(2):_.y(l,Ku(a,b,c),3)}if(2!=l.a&&(d=l.f)){if(h=_.Hu[d])return l["return"](h);_.Hh("Could not determine manifest type using MIME type",d)}throw new _.O(_.P,
4,4E3,{url:a});})};Ku=function(a,b,c){var d,e,f;return _.I(function(g){if(1==g.a)return d=_.ek(a),bk(d,c),d.type=1,d.method="HEAD",_.y(g,b.fetch(d).T,2);e=g.f;f=e.headers["content-type"];return g["return"](f?f.toLowerCase():"")})};_.Iu=function(a){a=(new _.Xi(a)).Ja.split("/").pop().split(".");return 1===a.length?"":a.pop().toLowerCase()};Lu=function(a){this.a=new Uint8Array(a||65536);this.f=0;this.h=new uu};
Nu=function(a,b,c){return b.read().then(function(d){var e=d.done;d=d.value;null!=d&&(Mu(a,d),kk(c,d.byteLength,vu(a.h)),a.h.a=tu());return e?(e=a.a.buffer,a.a.byteLength!==a.f&&(e=e.slice(0,a.f)),Promise.resolve(e)):Promise.resolve().then(function(){return Nu(a,b,c)})})};Mu=function(a,b){var c=a.f+b.byteLength;if(a.a.byteLength<c){for(var d=a.a.byteLength;d<c;)d*=2;c=new Uint8Array(d);c.set(a.a);a.a=c}a.a.set(b,a.f);a.f+=b.byteLength};
yk=function(a){var b=a.uris[a.uriIndex],c=new Ou,d=new uu,e=wu(d),f=0,g,h=new _.mk;c.open(a.method,b,!0);c.responseType="arraybuffer";c.timeout=a.timeout;c.withCredentials=a.allowCrossSiteCredentials;var l=!1,m=!1;c.onreadystatechange=function(p){p=p.target;p.readyState>=XMLHttpRequest.LOADING&&0===f&&(g=vu(e));p.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!l&&(p=p.getResponseHeader(va),jk(a,p),l=!0)};c.onload=function(p){p=p.target;var q=(p.getAllResponseHeaders()||"").trim().split("\r\n"),t={};
q=_.w(q);for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ");try{var z=vu(e);m||kk(a,p.response?p.response.length:0,z);var A=_.ik(t,p.response,p.status,b,p.responseURL,a,z,g);a.rateLimitBps?lk(a.rateLimitBps,vu(e),a.bytesLoaded).then(function(){h.resolve(A)}):h.resolve(A)}catch(G){h.reject(G)}};c.onerror=function(p){p=p.target;if(0>=p.status)h.reject(new _.O(1,1,1002,{url:b,request:a,status:p.status}));else{var q=p.getAllResponseHeaders(),t={};if(q){q=
_.w(q.trim().split("\r\n"));for(var v=q.next();!v.done;v=q.next())v=v.value.split(": "),t[v[0].toLowerCase()]=v.slice(1).join(": ")}p=_.ik(t,p.response,p.status,b,p.responseURL,a,vu(e),g);h.resolve(p)}};c.ontimeout=function(){h.reject(new _.O(1,1,1003,{url:b,request:a}))};c.onprogress=function(p){var q=vu(d);d.a=tu();if(100<q||p.lengthComputable&&p.loaded===p.total)kk(a,p.loaded-f,q),f=p.loaded,m=!0};for(var n in a.headers)c.setRequestHeader(n.toLowerCase(),a.headers[n]);c.send(a.body);return{T:h,
request:a,abort:function(){c.abort();h.reject(new _.O(1,1,7001,{url:b,request:a}));return Promise.resolve()}}};Pu=function(a,b){a=void 0===a?1E6:a;b=void 0===b?!0:b;this.j=new yu(a);this.length=a;this.A=b;this.f=this.a=this.h=0;this.l=null;this.o=-1;this.w=new uu};
Su=function(a,b,c,d){return b.read().then(function(e){var f=e.done;e=e.value;d&&e&&(d(e.byteLength,vu(a.w)),a.w.a=tu());if(f)return f=Qu(a),(f=c(!0,f))?f.then(function(){return a.j.a.buffer}):Promise.resolve(a.j.a.buffer);var g=Promise.resolve();if(null!=e){zu(a.j,e);a.a=a.h;a.f=a.j.f;a.l=new DataView(a.j.a.buffer,0,a.j.f);e=Ru(a);for(f=[];e;)f.push(e),e=Ru(a);if(!a.A)f.forEach(function(m){g=g.then(function(){return c(!1,m)})});else if(0<f.length){e=f[0];if(1<f.length){e=f[0];var h=f[f.length-1],
l=h.end-e.start;e={start:e.start,end:h.end,length:l,data:new DataView(a.j.a.buffer,e.start,l),count:f.length}}(f=c(!1,e))&&(g=f)}}return g.then(function(){return Su(a,b,c,d)})})};Ru=function(a){if(0<=a.o&&a.f<a.o)return null;for(var b=Tu(a);null!==b;){if(b.name===_.Ne){var c={start:a.h,end:b.end,length:b.end-a.h,data:new DataView(a.j.a.buffer,a.h,b.end-a.h),count:1};a.h=b.end;return c}b=Tu(a)}return null};
Tu=function(a){var b=a.a;if(a.a+4>=a.f)return a.a=a.f,null;var c=Uu(a);if(a.a+4>=a.f)return a.a=a.f,null;var d=Uu(a);d=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);switch(c){case 0:c=a.f-b;break;case 1:if(a.a+8>=a.f)return a.a=a.f,null;try{var e=a.l.getUint32(a.a,!1);var f=a.l.getUint32(a.a+4,!1)}catch(g){throw new _.O(_.P,3,3E3);}if(2097151<e)throw new _.O(_.P,3,3E3);a.a+=8;c=e*Math.pow(2,32)+f}c=b+c;a.o=c;return a.f>=c?(a.a=c,{name:d,start:b,end:c}):null};
Uu=function(a){var b=a.l.getUint32(a.a,!1);a.a+=4;return b};Qu=function(a){var b=null;a.h!==a.f&&(b={start:a.h,end:a.f,length:a.f-a.h,data:new DataView(a.j.a.buffer,a.h,a.f-a.h),count:-1});return b};Wu=function(a){_.nk.call(this,new _.mk,function(){return Promise.resolve()});this.B=a;this.h=null;this.w=this.T;this.f=-1;this.j=this.l=this.o=null;Vu(this)};Xu=function(a,b,c){a.o=setTimeout(b,c)};
Vu=function(a){a.h=a.B.then(function(e){a.j=e.request;e.request.uriIndex=e.request.currentAttempt%e.request.uris.length;if(0<e.request.currentAttempt){-1===a.f&&(a.f=Yu(e.request.baseDelay,1E3));var f=a.f*(1+(2*Math.random()-1)*Yu(e.request.fuzzFactor,.5));a.f*=Yu(e.request.backoffFactor,2);if(0<f)return(new Promise(function(g,h){a.l=h;Xu(a,function(){g(e.plugin(e.request))},f)}))["catch"](function(g){if(!a.a)throw g;})}if(a.a)throw new _.O(1,1,7001,{url:e.request.uris[e.request.uriIndex],request:e.request});
return e.plugin(e.request)});var b=0,c=0,d=0;return a.h.then(function(e){var f=e.request;f.currentAttempt+=1;b=f.currentAttempt;c=f.maxAttempts;d=f.uris.length;return e.T}).then(function(e){a.w.resolve(e)})["catch"](function(e){if(e instanceof _.O){var f=b<d,g=7001!==e.code,h=b<c;if((1===e.severity||f)&&g&&h)return Vu(a);g&&e.a(_.P);a.w.reject(e)}else a.w.reject(e)})};Yu=function(a,b){return null===a||void 0===a?b:a};
zk=function(a){var b=new Zu,c;for(c in a.headers)b.append(c.toLowerCase(),a.headers[c]);var d=new $u,e={Cd:!1,ej:!1};b={T:av(a.uris[a.uriIndex],a,{body:a.body||void 0,headers:b,method:a.method,signal:d.signal,credentials:a.allowCrossSiteCredentials?"include":void 0},e),request:a,abort:function(){e.Cd||(e.Cd=!0,d.abort());return Promise.resolve()}};if(a=a.timeout){var f=window.setTimeout(function(){e.ej=!0;d.abort()},a);b.T=b.T["finally"](function(){window.clearTimeout(f)})}return b};
av=function(a,b,c,d){var e,f,g,h,l,m,n,p,q,t,v,z,A,G,E,C,H;return _.I(function(M){switch(M.a){case 1:return e=bv,f=new uu,g=wu(f),_.D(M,2),_.y(M,e(a,c),4);case 4:h=M.f;l=ck(h.headers);m={uri:h.url,data:null,headers:l,status:h.status,timeMs:0,responseStartMs:vu(g),request:b};if(fk(h.status)){M.F(5);break}n=m;return _.y(M,h.arrayBuffer(),6);case 6:throw n.data=M.f,m.timeMs=vu(f),hk(m);case 5:p=h.headers.get(va);jk(b,p);q=p?parseInt(p,10):0;if(b.onFragment&&!b.disableFragmentSupport&&2===b.type)return A=
h.body.getReader(),G=new Pu(q,!b.disableMergedFragments),E=function(R,V){if(d.Cd)return null;V&&V.data&&(kk(b,V.data.byteLength,vu(g)),g.a=tu());return b.onFragment&&V?b.rateLimitBps?lk(b.rateLimitBps,vu(f),b.bytesLoaded).then(function(){return b.onFragment(V)}):b.onFragment(V):null},C=m,_.y(M,Su(G,A,E,b.onProgress),12);t=h.body.getReader();v=new Lu(q);return _.y(M,Nu(v,t,b),9);case 9:z=M.f;if(!b.rateLimitBps){M.F(10);break}return _.y(M,lk(b.rateLimitBps,vu(f),z.byteLength),10);case 10:m.data=z;M.F(8);
break;case 12:C.data=M.f;case 8:if(d.Cd)throw Error("Request was aborted");m.timeMs=vu(f);return M["return"](gk(m));case 2:H=_.F(M);if(d.Cd)throw new _.O(1,1,7001,{url:a,request:b});if(d.ej)throw new _.O(1,1,1003,{url:a,request:b});if(H&&1001===H.code)throw H;_.Nh("Error while fetching data:",H);throw new _.O(1,1,1002,{url:a,error:H,request:b,status:-1},H);}})};
uk=function(a){try{var b=a.uris[a.uriIndex],c=_.cv(b);return{T:Promise.resolve({uri:b,data:c.data,request:a,headers:{"content-type":c.contentType}}),request:a,abort:function(){return Promise.resolve()}}}catch(d){return{T:Promise.reject(d),request:a,abort:function(){return Promise.resolve()}}}};
_.cv=function(a){var b=a.split(":");if(2>b.length||"data"!==b[0])throw _.Nh("Bad data URI, failed to parse scheme"),new _.O(_.P,1,1004,{uri:a});b=b.slice(1).join(":").split(",");if(2>b.length)throw _.Nh("Bad data URI, failed to extract encoding and MIME type"),new _.O(_.P,1,1004,{uri:a});var c=b[0];a=window.decodeURIComponent(b.slice(1).join(","));b=c.split(";");c=b[0];var d=!1;1<b.length&&"base64"===b[b.length-1]&&(d=!0,b.pop());return{data:d?_.Rj(a).buffer:_.T.$a(a).buffer,contentType:c}};
_.lv=function(a,b){var c=_.sl(_.tl(a),_.ul(a));_.dv[c]=b};_.uv=function(a){a=_.sl(_.tl(a),_.ul(a));return _.dv[a]||null};_.vv=function(a){a=_.sl(_.tl(a),_.ul(a));delete _.dv[a]};
_.wv=function(a){a=a.getConfiguration();a=_.N.cb(a.textStyle||a.textstyle||{});this.K=typeof a.backgroundColor===_.ig?a.backgroundColor:null;this.U=typeof a.windowColor===_.ig?a.windowColor:null;this.M=typeof a.fontColor===_.ig?a.fontColor:null;this.P=typeof a.fontFamily===_.ig?a.fontFamily:null;this.I=typeof a.fontSize===_.ig?a.fontSize:null;this.B=typeof a.fontSizePercent===_.k?a.fontSizePercent:null;this.H=typeof a.edgeColor===_.ig?a.edgeColor:"rgba(0, 0, 0, 1)";this.o=null;typeof a.edgeType===
_.ig&&(this.o=a.edgeType)};_.Bv=function(a){if(!a.o)return null;var b=a.H;switch(a.o){case xv:return"-2px -2px 0 "+b+", -1px -1px 0 "+b;case yv:return"2px 2px 0 "+b+", 1px 1px 0 "+b;case zv:return"-1px 0 "+b+", 0 1px "+b+", 1px 0 "+b+", 0 -1px "+b;case Av:return"2px 2px 3px "+b+", 2px 2px 4px "+b+", 2px 2px 5px "+b;default:return _.We}};Cv=function(a){this.f=a;this.a=null;this.g=new _.K("clpp.text.Mp4TextParser")};
_.Ev=function(a){_.wv.call(this,a);this.l=a.getSurface().getMedia();this.f="clpp-video-"+Dv++;this.h=document.createElement(_.kg);this.j=this.w=!1;_.Jq(this.l,this.f);document.head.appendChild(this.h);this.Nb()};Fv=function(){};_.Gv=function(){};_.bh=[];fh=typeof Object.create==_.ue?Object.create:function(a){function b(){}b.prototype=a;return new b};
if(typeof Object.setPrototypeOf==_.ue)Hv=Object.setPrototypeOf;else{var Iv;a:{var Jv={tj:!0},Kv={};try{Kv.__proto__=Jv;Iv=Kv.tj;break a}catch(a){}Iv=!1}Hv=Iv?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var gh=Hv,kh=typeof Object.defineProperties==_.ue?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ih="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;lh.prototype.toString=function(){return this.a};var jh=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new lh("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();
oh.prototype.A=function(a){this.f=a};oh.prototype["return"]=function(a){this.h={"return":a};this.a=this.j};oh.prototype.F=function(a){this.a=a};
Bh("Promise",function(a){function b(g){this.f=0;this.l=void 0;this.a=[];var h=this.j();try{g(h.resolve,h.reject)}catch(l){h.reject(l)}}function c(){this.a=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.f=function(g){if(null==this.a){this.a=[];var h=this;this.h(function(){h.l()})}this.a.push(g)};var e=ih.setTimeout;c.prototype.h=function(g){e(g,0)};c.prototype.l=function(){for(;this.a&&this.a.length;){var g=this.a;this.a=[];for(var h=0;h<g.length;++h){var l=
g[h];g[h]=null;try{l()}catch(m){this.j(m)}}}this.a=null};c.prototype.j=function(g){this.h(function(){throw g;})};b.prototype.j=function(){function g(m){return function(n){l||(l=!0,m.call(h,n))}}var h=this,l=!1;return{resolve:g(this.C),reject:g(this.h)}};b.prototype.C=function(g){if(g===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.G(g);else{a:switch(typeof g){case _.Xe:var h=null!=g;break a;case _.ue:h=!0;break a;default:h=!1}h?this.B(g):this.o(g)}};
b.prototype.B=function(g){var h=void 0;try{h=g.then}catch(l){this.h(l);return}typeof h==_.ue?this.H(h,g):this.o(g)};b.prototype.h=function(g){this.w(2,g)};b.prototype.o=function(g){this.w(1,g)};b.prototype.w=function(g,h){if(0!=this.f)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.f);this.f=g;this.l=h;this.A()};b.prototype.A=function(){if(null!=this.a){for(var g=0;g<this.a.length;++g)f.f(this.a[g]);this.a=null}};var f=new c;b.prototype.G=function(g){var h=this.j();
g.Ce(h.resolve,h.reject)};b.prototype.H=function(g,h){var l=this.j();try{g.call(h,l.resolve,l.reject)}catch(m){l.reject(m)}};b.prototype.then=function(g,h){function l(q,t){return typeof q==_.ue?function(v){try{m(q(v))}catch(z){n(z)}}:t}var m,n,p=new b(function(q,t){m=q;n=t});this.Ce(l(g,m),l(h,n));return p};b.prototype["catch"]=function(g){return this.then(void 0,g)};b.prototype.Ce=function(g,h){function l(){switch(m.f){case 1:g(m.l);break;case 2:h(m.l);break;default:throw Error("Unexpected state: "+
m.f);}}var m=this;null==this.a?f.f(l):this.a.push(l)};b.resolve=d;b.reject=function(g){return new b(function(h,l){l(g)})};b.race=function(g){return new b(function(h,l){for(var m=_.w(g),n=m.next();!n.done;n=m.next())d(n.value).Ce(h,l)})};b.all=function(g){var h=_.w(g),l=h.next();return l.done?d([]):new b(function(m,n){function p(v){return function(z){q[v]=z;t--;0==t&&m(q)}}var q=[],t=0;do q.push(void 0),t++,d(l.value).Ce(p(q.length-1),n),l=h.next();while(!l.done)})};return b});var Dh=this||self;
Dh.a=!0;_.N={qj:20,cb:function(a){var b=_.N.R,c=_.N.li,d=_.N.qa;return b(a)||c(a)?a:d(a)}};_.J("clpp.utils.obj.cloneItem",_.N.cb);_.N.qa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c]=arguments[c];c={};for(var d=0;d<b.length;d++)null!=b[d]&&(c=_.N.vi(c,{merging:b[d]},1));return c.merging||null};_.J("clpp.utils.obj.merge",_.N.qa);_.N.yc=function(a){for(var b in a)if(void 0!==a[b])return!0;return!1};
_.N.vi=function(a,b,c){var d=_.N.R,e=_.N.li,f=_.N.vi,g=_.N.Lb,h=_.N.dm,l=_.N.Xf,m=_.N.$l,n=_.N.gd;c+=1;if(d(a)||!n(a))a={};for(var p in b)n=b[p],e(n)||d(n)||g(n)||m(n)?a[p]=n:h(n)?a[p]=n.subarray(0):n instanceof Array?a[p]=f([],n,c):!d(n)&&l(n)&&c<_.N.qj&&(a[p]=f(a[p],n,c));return a};_.N.li=function(a){a=typeof a;return a===_.ig||a===_.k||a===_.hd};_.N.$l=function(a){return a instanceof Element};_.N.R=function(a){return null===a||"undefined"===typeof a};_.N.gd=function(a){return typeof a===_.Xe};
_.N.Lb=function(a){return typeof a===_.ue};_.N.da=function(a){return typeof a===_.ig};_.N.ua=function(a){return typeof a===_.k};_.N.gi=function(a){return typeof a===_.hd};_.N.Xf=function(a){var b=_.N.gd,c=_.N.R;if(c(a)||!b(a))return!1;a=Object.getPrototypeOf(a);return a===Object.prototype||null===a};_.N.dm=function(a){var b=_.N.gd,c=_.N.Lb;return!!(b(a)&&a.buffer&&a.buffer instanceof ArrayBuffer&&c(a.subarray))};
_.N.na=function(a,b,c,d){if(a===b||null===a&&null===b||void 0===a&&void 0===b)return!0;if(null===a&&null!==b||null!==a&&null===b||void 0!==a&&void 0===b||void 0===a&&void 0!==b||!_.N.gd(a)||!_.N.gd(b))return!1;for(var e=c||Object.keys(a),f={},g=0;g<e.length;g++){var h=e[g];if(_.N.R(d)||0>d.indexOf(h))if(f[h]=!0,a[h]!==b[h])return!1}if(_.N.R(c))for(a=Object.keys(b),b=0;b<a.length;b++)if(c=a[b],(_.N.R(d)||0>d.indexOf(c))&&!f[c])return!1;return!0};
_.N.isNaN=function(a){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(b){return b!==b})(a)};_.N.am=function(a,b,c){return a>=b&&a<=c};_.N.Sg=function(a){for(var b=new Map,c=_.w(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.set(d,a[d]);return b};_.N.Tg=function(a){var b={};a.forEach(function(c,d){b[d]=c});return b};
_.N.Wh=function(a,b){for(var c=b.toLowerCase(),d=_.w(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=_.w(e.value);e=f.next().value;f=f.next().value;if(e.toLowerCase()===c)return f}return null};_.N.ni=function(a,b){for(var c in a){if(!(c in b))return!1;var d=a[c],e=b[c];if(d&&typeof d===_.Xe&&e&&typeof e===_.Xe){if(!_.N.ni(d,e))return!1}else if(void 0!==d&&void 0!==e&&d!==e)return!1}return!0};
_.N.oi=function(a,b){if(!_.N.ni(a,b))return!1;for(var c in b){if(!(c in a))return!0;var d=a[c],e=b[c];if(!d&&e||d&&typeof d===_.Xe&&e&&typeof e===_.Xe&&_.N.oi(d,e))return!0}return!1};var Ih={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};_.J("clpp.log.Level",Ih);var Fh=3,Eh={},Lv=[];_.J("clpp.log.getLoggers",function(){return _.N.cb(Eh)});_.J("clpp.log.addInterceptor",function(a){a&&Lv.push(a)});_.J("clpp.log.removeInterceptor",function(a){a&&(a=Lv.indexOf(a),0<=a&&Lv.splice(a,1))});_.J("clpp.log.getTagLevel",Gh);_.J("clpp.log.hasTagLevel",function(a){return void 0===a?!1:0<=Eh[a]});_.J("clpp.log.setTagLevel",function(a,b){a&&(_.N.da(b)&&(b=Jh(b)),Eh[a]=b)});
_.J("clpp.log.setLogLevel",function(a){-1===a&&(a=3);_.N.da(a)&&(a=Jh(a));Fh=a});_.J("clpp.log.getLogLevel",function(){return Fh});_.u=_.K.prototype;
_.u.log=function(a,b){if(window.console){if(1<arguments.length){var c=arguments[0];Array.prototype.shift.call(arguments)}else c=3;var d=Gh(this.tag);if(0<=d){if(d<c)return}else if(Fh<c)return;this.tag&&Array.prototype.unshift.call(arguments,"["+this.tag+"]");d=new Date;d.toISOString&&(d=d.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,d));4===c?console.log.apply(console,arguments):3===c?console.info.apply(console,arguments):2===c?console.warn.apply(console,arguments):
1===c?console.error.apply(console,arguments):console.log.apply(console,arguments);d=_.w(Lv);for(var e=d.next();!e.done;e=d.next())e=e.value,e.call(e,c,arguments)}};_.u.info=function(a){Array.prototype.unshift.call(arguments,3);this.log.apply(this,arguments)};_.u.debug=function(a){Array.prototype.unshift.call(arguments,4);this.log.apply(this,arguments)};_.u.warn=function(a){Array.prototype.unshift.call(arguments,2);this.log.apply(this,arguments)};
_.u.error=function(a){Array.prototype.unshift.call(arguments,1);this.log.apply(this,arguments)};_.u.bl=function(a){return a?this.tag?new _.K(this.tag+"."+a):new _.K(a):this};_.J("clpp.log.Logger",_.K);_.K.prototype.createChild=_.K.prototype.bl;_.K.prototype.error=_.K.prototype.error;_.K.prototype.warn=_.K.prototype.warn;_.K.prototype.debug=_.K.prototype.debug;_.K.prototype.info=_.K.prototype.info;_.K.prototype.log=_.K.prototype.log;var Kh=new _.K("clpp");_.J("clpp.log.info",_.Lh);
_.J("clpp.log.debug",_.Mh);_.J("clpp.log.warn",_.Hh);_.J("clpp.log.error",_.Nh);(function(){var a=console.assert;a?a.bind||(console.assert=function(){a.apply(console,arguments)}):console.assert=function(){}})();_.Qh=new _.K("clpp.players");_.Ph={};_.Th.prototype.push=function(a,b){a in this.a?this.a[a].push(b):this.a[a]=[b]};_.Th.prototype.get=function(a){return(a=this.a[a])?a.slice():[]};_.Th.prototype.remove=function(a,b){var c=this.a[a];if(!c)return!1;for(var d=!1,e=0;e<c.length;++e)c[e]===b&&(c.splice(e,1),--e,d=!0);return d};_.Th.prototype.clear=function(){this.a={}};Uh.prototype.Ua=function(a){try{this.Tc.handleEvent?this.Tc.handleEvent(a):this.Tc.call(this.a,a)}catch(b){_.Nh("clpp","Uncaught exception in event handler for event '"+this.f+"'",b,b?b.message:null,b?b.stack:null)}};_.L.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)};_.L.prototype.stopImmediatePropagation=function(){this.f=!0};_.L.prototype.stopPropagation=function(){};_.u=Vh.prototype;
_.u.trigger=function(a){var b=this.a.get(a.type);if(b)for(var c=0;c<b.length&&(a.target=this.f,a.currentTarget=this.f,b[c].Ua(a),b[c].Fn&&this.a.remove(a.type,b[c]),!a||!a.f);c++);};_.u.on=function(a,b,c){this.a.push(a,new Uh(a,b,c||this.f));return b};_.u.one=function(a,b,c){this.a.push(a,new Uh(a,b,c||this.f,!0));return b};_.u.off=function(a,b){var c=this.a.get(a),d=!1;if(c)for(var e=0;e<c.length;e++)c[e].Tc===b&&(d=this.a.remove(a,c[e])||d);return d};_.u.clear=function(){this.a.clear()};_.Wh.prototype.release=function(){_.Zh(this)};_.Wh.prototype.on=function(a,b,c,d){a=new $h(a,b,c,void 0===d?!1:d);this.a.push(b,a)};_.Wh.prototype.one=function(a,b,c){function d(f){e.off(a,b,d);return c(f)}var e=this;this.on(a,b,d)};_.Wh.prototype.off=function(a,b,c){for(var d=this.a.get(b)||[],e=0;e<d.length;++e){var f=d[e];f.target!==a||c!==f.a&&c||(Yh(f),this.a.remove(b,f))}};bi.prototype.release=function(){this.j.release();this.a=new Set;this.f.clear();null!=this.h&&(clearInterval(this.h),this.h=null)};bi.prototype.destroy=function(){var a=this;return _.I(function(b){a.release();_.B(b)})};bi.prototype.getTimelineCues=function(){return Array.from(this.a.values()).sort(function(a,b){return a.startTime-b.startTime})};_.Li.prototype.na=function(a){return this.payload===a.payload&&this.startTime===a.startTime&&this.endTime===a.endTime&&this.payloadType===a.payloadType};_.J("clpp.text.Cue",_.Li);_.Li.positionAlign={LEFT:_.Ee,RIGHT:_.Fe,CENTER:_.rd,AUTO:"auto"};_.Fi="text";_.Li.payloadType={TEXT:_.Fi,VTT_XML:_.Og,TTML_XML:_.sg};_.Gi=_.rd;_.Mv={LEFT:_.Be,RIGHT:_.Sf,CENTER:_.Gi,START:_.Be,END:_.Sf};_.Li.textAlign=_.Mv;var Ki="ltr";_.Li.direction={HORIZONTAL_LEFT_TO_RIGHT:Ki,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};_.Hi="horizontal-tb";
_.Li.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Hi,VERTICAL_LEFT_TO_RIGHT:_.Eg,VERTICAL_RIGHT_TO_LEFT:_.Hg};_.Ii=0;_.Li.lineInterpretation={LINE_NUMBER:_.Ii,PERCENTAGE:1};_.Ji=_.eg;_.Nv={CENTER:_.rd,START:_.Ji,END:_.oe};_.Li.lineAlign=_.Nv;_.J("clpp.text.CueRegion",_.Oi);_.Mi=1;_.Oi.units={PX:0,PERCENTAGE:_.Mi,LINES:2};var Ni="";_.Oi.scrollMode={NONE:Ni,UP:"up"};_.Oi.displayAlign={BEFORE:"flex-end",CENTER:_.rd,AFTER:"flex-start"};
_.Oi.writingMode={HORIZONTAL_TOP_TO_BOTTOM:_.Gd,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"};Pi.prototype.destroy=function(){this.a.release();this.j=!1;this.l=this.a=this.h=this.f=null;return Promise.resolve()};Pi.prototype.start=function(a){var b=this;this.j?this.g.warn("Already started. Ignoring request..."):(this.j=!0,this.h=a,this.f=this.h.textTracks,this.a.on(this.f,_.Kc,function(c){return Qi(b,c)}),this.a.on(this.f,td,function(){for(var c=b.f,d=0;d<c.length;d++){var e=c[d];e.mode===_.Zf&&(e.mode=_.we)}}))};
Pi.prototype.o=function(a){var b=new _.Li(a.startTime,a.endTime,a.text,_.Og);if(_.N.da(a.vertical))switch(a.vertical){case "lr":b.writingMode=_.Eg;break;case "rl":b.writingMode=_.Hg}_.N.ua(a.size)&&(b.size=a.size);if(_.N.da(a.align))switch(a.align){case _.Be:case _.eg:b.textAlign=_.Be;break;case _.rd:b.textAlign=_.Gi;break;case _.Sf:case _.oe:b.textAlign=_.Sf}_.N.ua(a.position)&&(b.position=a.position);if(_.N.da(a.positionAlign))switch(a.positionAlign){case _.Ee:b.positionAlign=_.Ee;break;case _.rd:b.positionAlign=
_.rd;break;case _.Fe:b.positionAlign=_.Fe}_.N.ua(a.line)&&(b.line=a.line);if(_.N.da(a.lineAlign))switch(a.lineAlign){case _.eg:b.lineAlign=_.Ji;break;case _.rd:b.lineAlign=_.rd;break;case _.oe:b.lineAlign=_.oe}_.N.gi(a.snapToLines)&&(b.lineInterpretation=a.snapToLines?_.Ii:1);return b};_.x(_.O,Error);_.O.prototype.a=function(a){this.severity!==a&&(this.severity=a,this.message=Ri(this.severity,this.category,this.code,this.data))};_.O.prototype.toString=function(){var a=this.message;this.cause&&(a+="\n Caused by "+this.cause);return a};_.J("clpp.Error",_.O);_.P=2;_.O.Severity={RECOVERABLE:1,FATAL:_.P};_.O.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10};
_.O.Code={UNSUPPORTED_SCHEME:1E3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2E3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,
TEXT_PARSER_MISSING:2012,THUMBNAILS_FAILED_TO_LOAD:2013,THUMBNAIL_ERROR:2014,BUFFER_READ_OUT_OF_BOUNDS:3E3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,
MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,PAUSE_FAILED:3201,UNABLE_TO_GUESS_MANIFEST_TYPE:4E3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,
DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,
DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,HLS_MSE_ENCRYPTED_TS_NOT_SUPPORTED:4041,HLS_PLAYLIST_NOT_UTF8:4042,HLS_PLAYLIST_EMPTY:4043,
HLS_INVALID_VALUE:4044,HLS_DISCONTINUITY_NOT_SUPPORTED:4045,HLS_UNSUPPORTED_FEATURE:4046,HLS_INCOMPATIBLE_PLAYLIST_UPDATE:4047,INVALID_STREAMS_CHOSEN:5005,STREAMING_ERROR:5006,NO_RECOGNIZED_KEY_SYSTEMS:6E3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,
NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7E3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,MEDIA_ELEMENT_NOT_FOUND:7004,INVALID_MEDIA_ELEMENT:7005,
INVALID_CONTAINER_ELEMENT:7006,INVALID_ARGUMENT:7007,WRONG_ORDER_OF_OPERATIONS:7008,NOT_SUPPORTED:7009,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8E3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9E3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,GL_CONTEXT_ERROR:9003,GL_SHADER_ERROR:9004,
YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,YOUBORA_SDK_VERSION_NOT_SUPPORTED:9102,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1E4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,SIMID_CONTAINER_MISSING:10100,BROADPEAK_SDK_MISSING:11E3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12E3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14E3,
SESSIONS_INVALID_CONFIGURATION:15E3};_.x(_.Si,Error);var cj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;_.u=_.Xi.prototype;_.u.wb="";_.u.Ec="";_.u.nb="";_.u.md=null;_.u.Ja="";_.u.vc="";_.u.toString=function(){var a=[],b=this.wb;b&&a.push(fj(b,Ov,!0),":");if(b=this.nb){a.push("//");var c=this.Ec;c&&a.push(fj(c,Ov,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.md;null!=b&&a.push(":",String(b))}if(b=this.Ja)this.nb&&"/"!=b.charAt(0)&&a.push("/"),a.push(fj(b,"/"==b.charAt(0)?Pv:Qv,!0));(b=this.a.toString())&&a.push("?",b);(b=this.vc)&&a.push("#",fj(b,Rv));return a.join("")};
_.u.resolve=function(a){var b=new _.Xi(this);"data"===b.wb&&(b=new _.Xi);var c=!!a.wb;c?Yi(b,a.wb):c=!!a.Ec;c?b.Ec=a.Ec:c=!!a.nb;c?_.Zi(b,a.nb):c=null!=a.md;var d=a.Ja;if(c)$i(b,a.md);else if(c=!!a.Ja){if("/"!=d.charAt(0))if(this.nb&&!this.Ja)d="/"+d;else{var e=b.Ja.lastIndexOf("/");-1!=e&&(d=b.Ja.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){e=0==d.lastIndexOf("/",0);d=d.split("/");for(var f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):
".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.Ja=d:c=""!==a.a.toString();c?_.aj(b,bj(a.a)):c=!!a.vc;c&&(b.vc=a.vc);return b};var Ov=/[#\/\?@]/g,Qv=/[#\?:]/g,Pv=/[#\?]/g,gj=/[#\?@]/g,Rv=/#/g;_.ej.prototype.a=null;_.ej.prototype.h=null;_.ej.prototype.add=function(a,b){_.ij(this);this.f=null;var c=this.a.hasOwnProperty(a)&&this.a[a];c||(this.a[a]=c=[]);c.push(b);null!==this.h&&this.h++;return this};
_.ej.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="\x3d"+encodeURIComponent(d[e]));a.push(f)}return this.f=a.join("\x26")};var jj;_.Q="text";_.tq={VIDEO:_.r,AUDIO:_.Zc,TEXT:_.Q,oo:_.Qc,IMAGE:_.ye,sj:_.lg};_.Sv=1/15;jj={audio:[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/],video:[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]};jj[_.Q]=[/^vtt$/,/^wvtt/,/^stpp/];var lj={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av0?1/],text:[/^vtt$/,/^wvtt/,/^stpp/]};_.oj={text:{mp4:Tc,m4s:Tc,m4i:Tc,cmft:Tc,vtt:_.og,ttml:_.Wc},video:{mp4:_.Jg,m4s:_.Jg,m4i:_.Jg,m4v:_.Jg,cmfv:_.Jg,ts:_.Ig},audio:{mp4:_.cd,m4s:_.cd,m4i:_.cd,m4a:_.cd,cmfa:_.cd,ts:_.Ig,aac:_.$c,ec3:_.bd,ac3:_.ad},image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}};_.qj.prototype.toString=function(){function a(d){return d.name+"\x3d"+(isNaN(Number(d.value))?'"'+d.value+'"':d.value)}var b="#"+this.name,c=this.attributes?this.attributes.map(a):[];this.value&&c.unshift(this.value);0<c.length&&(b+=":"+c.join(","));return b};_.qj.prototype.getAttribute=function(a){var b=this.attributes.filter(function(c){return c.name===a});return b.length?b[0]:null};_.qj.prototype.hasAttribute=function(a){return null!=this.getAttribute(a)};_.uj.prototype.getPosition=function(){return this.position};_.uj.prototype.Xd=function(){return this.ma?this.ma-this.za+1:null};_.uj.prototype.f=ch(0);_.x(_.vj,_.uj);var yj=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze",
"cs"],["dan","da"],["deu","de"],[_.Xd,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice",
"is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao",
"mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san",
"sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie",
"vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);var Gj=function Tv(a){var c;return _.Ah(Tv,function(d){1==d.a&&(c=0);if(3!=d.a)return c<a?_.y(d,c,3):d.F(0);c++;return d.F(2)})};_.J("clpp.utils.BufferUtils",Dj);Dj.toArrayBuffer=Nj;Dj.toDataView=_.Mj;Dj.toInt32Array=_.Lj;Dj.toUint32Array=Kj;Dj.toUint16Array=Jj;Dj.toUint8Array=_.Fj;Dj.equal=Hj;_.T={};_.T.jd=new _.K("clpp.utils.strings");_.T.pj=16E3;_.T.fromCharCode=function(a){for(var b=_.T.pj,c="",d=0;d<a.length;d+=b)c+=String.fromCharCode.apply(null,a.subarray(d,d+b));return c};_.T.$=function(a){if(!a)return"";a=_.Fj(a);239===a[0]&&187===a[1]&&191===a[2]&&(a=a.subarray(3));if("TextDecoder"in window){a=(new TextDecoder).decode(a);if(a.includes("\ufffd"))throw Error(Xa);return a}a=escape(_.T.fromCharCode(a));try{return decodeURIComponent(a)}catch(b){throw Error(Xa);}};
_.J("clpp.utils.strings.fromUtf8",_.T.$);
_.T.wc=function(a,b,c){if(!a)return"";var d=_.T.jd;if(!c&&0!==a.byteLength%2)throw d.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");c=_.Fj(a);if(b&&255===c[0]&&254===c[1]||254===c[0]&&255===c[1])a=c.subarray(2);a instanceof ArrayBuffer?d=a:(c=new Uint8Array(a.byteLength),c.set(_.Fj(a)),d=c.buffer);a=Math.floor(a.byteLength/2);c=new Uint16Array(a);d=new DataView(d);for(var e=0;e<a;e++)c[e]=d.getUint16(2*e,b);return _.T.fromCharCode(c)};
_.T.Sd=function(a,b){if(_.N.da(a))return a;var c="",d=!!b,e=_.Fj(a);239===e[0]&&187===e[1]&&191===e[2]?c=_.T.$(e):254===e[0]&&255===e[1]?c=_.T.wc(e.subarray(2),!1):255===e[0]&&254===e[1]&&(c=_.T.wc(e.subarray(2),!0));var f=function(g,h){return g.byteLength<=h||32<=g[h]&&126>=g[h]}.bind(null,e);_.T.jd.debug("Unable to find byte-order-mark, making an educated guess.");0===e[0]&&0===e[2]?c=_.T.wc(a,!1):0===e[1]&&0===e[3]?c=_.T.wc(a,!0):f(0)&&f(1)&&f(2)&&f(3)&&(c=_.T.$(a));if(c)return d&&(c=escape(c)),
c;throw Error("Unable to detect text encoding");};_.J("clpp.utils.strings.fromBytesAutoDetect",_.T.Sd);_.T.$a=function(a){if("TextEncoder"in window)return(new TextEncoder).encode(a);a=encodeURIComponent(a);a=unescape(a);for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b};_.J("clpp.utils.strings.toUtf8",_.T.$a);_.T.jf=function(a,b){for(var c=new Uint8Array(2*a.length),d=new DataView(c.buffer),e=0;e<a.length;++e)d.setUint16(2*e,a.charCodeAt(e),b);return c.buffer};
_.J("clpp.utils.strings.toUtf16",_.T.jf);_.T.od=function(a,b){var c=b||1,d=a.length,e=new ArrayBuffer(d*c),f;4===c?f=Kj(e):2===c?f=Jj(e):f=_.Fj(e);for(c=0;c<d;c++)f[c]=a.charCodeAt(c);return e};_.J("clpp.utils.strings.toByteArray",_.T.od);_.T.startsWith=function(a,b){return String.prototype.startsWith?a.startsWith(b):0===a.indexOf(b)};_.J("clpp.utils.strings.startsWith",_.T.startsWith);
_.T.endsWith=function(a,b){if(String.prototype.endsWith)return a.endsWith(b);var c=a.length-b.length,d=a.lastIndexOf(b,c);return-1!==d&&d===c};_.J("clpp.utils.strings.endsWith",_.T.endsWith);_.T.Xe=function(a){return!!(a&&0<a.length)};_.T.empty=function(a){return!a||0===a.length};_.T.Ho=function(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()};_.T.Ko=function(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})};
_.T.Bf=function(a){if(void 0===a||null===a||""===a)return"";try{var b=Number(a);if(_.N.isNaN(b))return"";a="bps";1E3<=Math.abs(b)&&(a="Kbps",b/=1E3);1E3<=Math.abs(b)&&(a="Mbps",b/=1E3);return b.toFixed(2).replace(/[.,]00$/,"")+a}catch(c){return""}};_.J("clpp.utils.strings.bitrateToString",_.T.Bf);
_.T.jl=function(a,b){function c(h){return function(l,m){return d(h,m.length-1)}}function d(h,l){return h.length<l?d("0"+h,l):h}b=void 0===b?"%h:%mm:%ss":b;if(null===a||void 0===a)a=0;if(null===b||void 0===b)b="%h:%mm:%ss";var e=Math.floor(a/3600),f=Math.floor((a-3600*e)/60),g=Math.floor(a-3600*e-60*f);return b.replace(/(%h+)/,c(String(e))).replace(/(%m+)/,c(String(f))).replace(/(%s+)/,c(String(g)))};_.J("clpp.utils.strings.durationToString",_.T.jl);
_.T.ll=function(a,b){for(var c in b)if(b[c]===a)return c;return""};_.T.Tl=function(a){var b=0;if(0===a.length)return b;for(var c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return b};_.J("clpp.utils.strings.hashCode",_.T.Tl);_.T.ho=function(a){_.T.aj.innerHTML=a;return _.T.aj.textContent};_.T.aj=document.createElement("span");_.T.Eg=function(a){a=a.replace(/<[^>]+>/gi,"");a=_.T.ho(a);return a=a.replace(/<[^>]+>/gi,"")};_.T.xi=function(a){return a.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")};_.J("clpp.utils.Uint8ArrayUtils",Oj);Oj.toStandardBase64=_.Pj;Oj.concat=Vj;Oj.equal=_.Uj;Oj.toHex=_.Tj;Oj.fromHex=_.Sj;Oj.fromBase64=_.Rj;Oj.toBase64Url=_.Qj;_.Y={Qb:function(a,b){return a.filter(function(c){return c.name===b})},fj:function(a){var b=/^[a-zA-Z0-9_-]+$/,c=new Set;a.forEach(function(d){var e=_.rj(d,"VALUE"),f=_.rj(d,"NAME"),g=_.rj(d,"IMPORT"),h=_.rj(d,"QUERYPARAM");if(1!==[f,g,h].filter(Boolean).length||f&&null==e)throw new _.O(_.P,4,4044,{message:"Invalid tag.",text:d.toString()});d=f||g||h;if(c.has(d))throw new _.O(_.P,4,4044,'EXT-X-DEFINE redefined variable "'+d+'".');if(!b.test(d))throw new _.O(_.P,4,4044,'EXT-X-DEFINE invalid variable name "'+
d+'".');c.add(d)})},Qf:function(a,b){var c=Array.isArray(b)?b:[b];return a.filter(function(d){d=_.sj(d,_.Zb);return c.includes(d)})},fd:function(a,b){return a.some(function(c){return c.name===b})},Wa:function(a,b,c){c=void 0===c?{}:c;a=a.find(function(d){return d.name===b})||null;if(!a&&c.required)throw new _.O(_.P,4,4024,{missingTag:b});return a},Yh:function(a,b){return _.Y.Wa(a,b,{required:!0})},El:function(a,b,c){c=void 0===c?0:c;return(a=_.Y.Wa(a,b))?Number(a.value):c},Po:function(a,b,c){return a.filter(function(d){var e=
d.getAttribute(_.Zb);d=d.getAttribute(_.ab);return e.value===b&&d.value===c})},sn:function(a){var b=_.Y.Wa(a,"EXT-X-TILES");if(!b)return{Yd:1,re:1,durationPerTile:null};a=_.rj(b,"LAYOUT")||"1x1";b=_.rj(b,_.Ea);a=_.Bj(a);return{Yd:a.Yd,re:a.re,durationPerTile:b?Number(b):null}},Jd:function(a,b,c){c=void 0===c?!0:c;a=new _.Xi(a);b=new _.Xi(b);b=a.resolve(b).toString();return c?b:decodeURI(b)},hi:function(a){return/^#(?!EXT)/m.test(a)},fm:function(a,b){Array.isArray(a)||(a=[a]);a.forEach(function(c){for(var d=
_.w(_.Y.gf(c)),e=d.next();!e.done;e=d.next())b(e.value,c)})},gf:function(a){var b=new Set;a.variants.forEach(function(c){c.audio&&b.add(c.audio);c.video&&b.add(c.video)});a.textStreams.forEach(function(c){return b.add(c)});a.thumbStreams.forEach(function(c){return b.add(c)});return Array.from(b)},Ul:function(a){return a.some(function(b){return _.Y.fd(b.W,Ka)})},Bj:function(a){return _.Y.gf(a).filter(_.Y.fi)},rn:function(a){if(_.Y.Wa(a,Ka))return _.hc;a=_.Y.Wa(a,Qa);if(!a)return"LIVE";if(a.value===
_.hc)return _.hc;if("EVENT"===a.value)return"EVENT";throw new _.O(_.P,4,4044,"Invalid EXT-X-PLAYLIST-TYPE value: "+a.value);},Ah:function(a){a={AUDIO:_.Zc,VIDEO:_.r,SUBTITLES:_.Q,"CLOSED-CAPTIONS":_.Q}[a.toUpperCase()];if(!a)throw new _.O(_.P,4,4044,"EXT-X-MEDIA tag has an invalid TYPE attribute.");return a},al:function(a){var b=_.sj(a,_.Zb).toUpperCase();if(_.Y.Ah(b)!==_.Q)return null;a=a.getAttribute("FORCED");a=!(!a||!a.value||"YES"!==a.value.toUpperCase());var c=_.lg;b===_.pa&&(c=_.md);a&&(c=
_.se);return c},Mi:function(a,b,c){c=void 0===c?!1:c;var d=0,e=null;if(a){d=a.split("@");a=Number(d[0]);if(0>=a)throw new _.O(_.P,4,4044,"Byte range length must be positive.");if(d[1]){if(d=Number(d[1]),0>d)throw new _.O(_.P,4,4044,"Byte range start byte must not be negative.");}else{if(c)throw new _.O(_.P,4,4044,"Invalid byte range, offset is required but missing.");if(null==b)throw new _.O(_.P,4,4044,"Invalid byte range, cannot calculate offset based on previous byte ranges.");d=b+1}e=d+a-1}return{za:d,
ma:e}},Oi:function(a,b){var c=_.Y.Wa(a,Ga);return _.Y.Mi(c?c.value:null,b)},ln:function(a){a=_.Y.Yh(a,"EXTINF").value.split(",");return{duration:Number(a[0]),title:a[1]||null}},Pi:function(a,b){function c(f){return null==f?null:Number(f)}b=void 0===b?{}:b;var d={dh:!1,Fj:!1,Gj:null,Vl:null,Qi:null},e=_.Y.Wa(a,Ta,{required:b.Xi});if(!e)return d;d.dh="YES"===_.rj(e,"CAN-BLOCK-RELOAD");d.Fj="YES"===_.rj(e,"CAN-SKIP-DATERANGES");d.Gj=c(_.rj(e,"CAN-SKIP-UNTIL"));d.Vl=c(_.rj(e,"HOLD-BACK"));d.Qi=c(_.rj(e,
"PART-HOLD-BACK",void 0,{required:b.Xi}));return d},Ni:function(a,b,c){c=void 0===c?!1:c;a=_.rj(a,"BYTERANGE");return _.Y.Mi(a,b,c)},pn:function(a){var b=_.Y.Qb(a,"EXT-X-MEDIA"),c=_.Y.Qb(a,_.Ua);a=_.Y.Qb(a,"EXT-X-IMAGE-STREAM-INF");return{kd:{zj:_.Y.Qf(b,["AUDIO",_.gc]),closedCaptions:_.Y.Qf(b,_.pa),Zn:_.Y.Qf(b,_.Rb)},se:c,Vf:a}},cl:function(a,b){var c=_.Y.Oi(a.W,null);return new _.vj(0,0,0,function(){return[a.a]},c.za,c.ma,0,b)},Sf:function(a,b){if(null==a)return null;var c=Object.assign({},a);null==
c.iv&&(c.iv=Vj(new Uint8Array(12),new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255])));return c},Ml:function(a){var b=a.S;a=b[0].startTime;b=b[b.length-1].endTime;return{hc:a,Ue:b,duration:b-a}},Jl:function(a){var b=Infinity,c=Infinity;_.Y.Bj(a).forEach(function(d){d=_.Y.Ml(d);b=Math.min(b,d.hc);c=Math.min(c,d.duration)});return{hc:b,duration:c}},fi:function(a){return a.type===_.Zc||a.type===_.r},ml:function(a){return a.filter(_.Y.fi)},Hl:function(a){return a.map(function(b){return _.Y.Jl(b).duration}).reduce(function(b,
c){return b+c},0)},Al:function(a,b){return a&&b?_.Ep(a.drmInfos,b.drmInfos)?_.Dp(a.drmInfos,b.drmInfos):null:a?a.drmInfos:b?b.drmInfos:null},el:function(a,b){return(b?b.Ub():"")+" - "+(a?a.Ub():"")},Ch:function(a){return(a.video?a.video.oc:"")+" - "+(a.audio?a.audio.oc:"")},nn:function(a,b,c,d){if(b===_.hc)return{delay:0,qe:0};b=_.Y.Wa(a,Pa);if(c&&b)return c=Number(_.sj(b,"PART-TARGET")),null!=d?{delay:d,qe:c}:{delay:_.Y.Pi(a,{Xi:!0}).Qi,qe:c};a=_.Y.Yh(a,Va);a=Number(a.value);return null!=d?{delay:d,
qe:a}:{delay:3*a,qe:a}},Ie:function(a,b){return a+":"+b},co:function(a){var b=_.Y.Ie,c=new Map;a.forEach(function(d){var e=b(d.Fd(),d.Fl());c.has(e)?(e=c.get(e),e.includes(d)||e.push(d)):c.set(e,[d])});return c},Th:function(a){return _.wj(a||_.ug)},gn:function(a){var b=new Map;a=_.w(a);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=_.rj(c,_.nb);d=_.Y.Th(d);var e=_.sj(c,_.ab);c=_.sj(c,"INSTREAM-ID");b.has(e)||b.set(e,new Map);b.get(e).set(c,d)}return b},il:function(a){a=_.w(a.audio.concat(a.video));
for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=b.zl().filter(function(d){return"mp4a.40.34"!==d});b.Pn(c)}},tn:function(a){if(!a.hasAttribute("FRAME-RATE")&&!a.hasAttribute(_.Ob))return null;var b=_.rj(a,"FRAME-RATE");a=_.rj(a,_.Ob);var c=_.w(a?a.split("x"):[null,null]);a=c.next().value;c=c.next().value;return{frameRate:zj(b),width:zj(a),height:zj(c)}},em:function(a){return"EXT-X-MEDIA"!==a.name?!0:_.rj(a,_.Zb)===_.Rb},hn:function(a,b,c,d){var e=_.rj(a,"ID"),f=_.rj(a,"START-DATE");if(null===
e||null===f)return _.Y.g.warn("Invalid  EXT-X-DATERANGE missing mandatory ID or START-DATE attribute, ignoring the EXT-X-DATERANGE tag.",a),null;b=d?c-b:-b;var g=new Date(f);f=g.getTime()/1E3+b;e={id:e,startTime:f,startDate:g};c=zj(_.rj(a,_.Ea));void 0!==c&&0<=c&&(e.duration=c);d=zj(_.rj(a,"PLANNED-DURATION"));void 0!==d&&0<=d&&(e.plannedDuration=d);var h=_.rj(a,"CLASS");null!==h&&(e.schemeIdUri=h);var l=_.rj(a,"END-DATE");l=l?new Date(l):null;null!==l&&l.getTime()>=g.getTime()&&(e.endDate=l);g=_.Y.fn(a)||
{};var m=_.rj(a,"CUE");m&&(g.CUE=m.split(","));if(h===Kd){h=_.Y.mn(a);if(null===h)return _.Y.g.warn("Invalid interstitial attributes, ignoring the EXT-X-DATERANGE tag.",a),null;g=Object.assign(g,h)}_.N.yc(g)&&(e.customAttributes=g);e.endTime=l?l.getTime()/1E3+b:c?f+c:d?f+d:f;e.type=_.ui;return e},fn:function(a){var b=a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())c=c.value,c.name.trim().startsWith("X-")&&(a[c.name]=c.value);return _.N.yc(a)?a:null},mn:function(a){var b=
a.attributes;if(null==b)return null;a={};b=_.w(b);for(var c=b.next();!c.done;c=b.next())switch(c=c.value,c.name){case oc:a[oc]=c.value;break;case nc:a[nc]=c.value;break;case qc:a[qc]=zj(c.value);break;case pc:a[pc]=zj(c.value);break;case "X-SNAP":a["X-SNAP"]=c.value.split(",");break;case "X-RESTRICT":a["X-RESTRICT"]=c.value.split(",")}return a[oc]&&a[nc]||!a[oc]&&!a[nc]?(_.Y.g.warn("Invalid EXT-X-DATERANGE Interstitial attributes X-ASSET-URI, X-ASSET-LIST"),null):_.N.yc(a)?a:null},Mh:function(a,b){if(!a)return null;
var c=a.oc;return b.find(function(d){return d.Ub()===c})||null}};_.Y.g=new _.K("clpp.hls.Utils");_.Uv=new Set([_.Ja,Ka,"EXT-X-I-FRAMES-ONLY",_.Oa,Pa,Qa,Ta,Va]);_.Vv=new Set(["EXTINF",Ga,_.Ia,_.La,_.Na,_.Sa]);_.Wv=new Set(["EXT-X-PART",_.Ra]);_.Xv=new Set([_.Ha]);var Zj=[403,401];_.J("clpp.net.DEFAULT_FATAL_STATUS_CODES",Zj);_.J("clpp.net.makeRequest",_.ek);_.dk=6;_.J("clpp.net.RequestType",{MANIFEST:1,SEGMENT:2,LICENSE:3,APP:4,TIMING:5,OTHER:_.dk,CONTENT_STEERING:7});_.mk.prototype.resolve=function(){};_.mk.prototype.reject=function(){};_.nk.prototype.abort=function(){this.a=!0;return this.A()};_.sk.prototype.destroy=function(){for(var a=[],b=_.w(this.a),c=b.next();!c.done;c=b.next())c=c.value,c.T["catch"](function(){}),a.push(c.abort());this.a=[];return Promise.all(a)};_.u=_.Ak.prototype;_.u.Un=function(a){0<a?_.Hh("Rate limit set to "+a+"bps"):_.Hh("Rate limit disabled");this.l=a};_.u.release=function(){return this.o.destroy()};_.u.destroy=function(){this.w=!0;this.f=[];this.h=[];return this.o.destroy()};_.u.zf=function(a){this.f.push(a)};_.u.Rc=function(a){this.h.push(a)};_.u.vg=function(a){this.f=this.f.filter(function(b){return b!==a})};_.u.me=function(a){this.h=this.h.filter(function(b){return b!==a})};
_.u.fetch=function(a){var b=this;if(this.w)return new Wu(Promise.reject(new _.O(1,1,7001,{url:a.uris[a.uriIndex],request:a})));this.l&&0<this.l&&(a.rateLimitBps=this.l);for(var c=[],d=_.w(this.f),e=d.next();!e.done;e=d.next())c.push(e.value);if(a.requestModifiers)for(d=_.w(a.requestModifiers),e=d.next();!e.done;e=d.next())c.push(e.value);a.requestModifiers=c;Ek(this,a);c=[];d=_.w(this.h);for(e=d.next();!e.done;e=d.next())c.push(e.value);if(a.responseModifiers)for(d=_.w(a.responseModifiers),e=d.next();!e.done;e=
d.next())c.push(e.value);a.responseModifiers=c;d=c=new _.mk;try{var f={},g=_.w(a.requestModifiers);for(e=g.next();!e.done;f={rf:f.rf},e=g.next())f.rf=e.value,d=d.then(function(n){return function(p){if(h.a)throw new _.O(_.P,1,7001,p?{url:p.uris[p.uriIndex],request:p}:null);return n.rf(p)||p}}(f))["catch"](function(n){if(n instanceof _.O)throw n;throw new _.O(_.P,1,1006,null,n);});d=d.then(function(n){return{request:n,plugin:Fk(b,n)}});var h=new Wu(d);g={};var l=_.w(a.responseModifiers);for(e=l.next();!e.done;g=
{we:g.we},e=l.next())g.we=e.value,h.then(function(n){return function(p){function q(){if(h.a)throw new _.O(_.P,1,7001,p?{url:p.request.uris[p.request.uriIndex],request:p.request}:null);}q();var t=n.we(p)||p;q();return t}}(g))["catch"](function(n){return function(p){if(p instanceof _.O&&p.data&&p.data.response){var q=n.we(p.data.response);if(q&&q.then)return q.then(function(){return Promise.reject(p)})}return Promise.reject(p)}}(g))["catch"](function(n){if(n instanceof _.O)throw n;throw new _.O(_.P,
1,1007,null,n);});l={};var m=_.w(this.j);for(e=m.next();!e.done;l={tf:l.tf},e=m.next())l.tf=e.value,h["catch"](function(n){return function(p){p instanceof _.O&&p.data&&p.data.response||n.tf({uri:a.uris[a.uriIndex],data:(new Uint8Array(0)).buffer,status:-1,timeMs:0,headers:{},request:a});return Promise.reject(p)}}(l))["catch"](function(n){if(n instanceof _.O)throw n;throw new _.O(_.P,1,1007,null,n);});_.tk(this.o,h);c.resolve(a);return h}catch(n){return new Wu(Promise.reject(n))}};
_.J("clpp.net.NetworkEngine",_.Ak);_.Ak.prototype.fetch=_.Ak.prototype.fetch;_.Ak.prototype.removeResponseModifier=_.Ak.prototype.me;_.Ak.prototype.removeRequestModifier=_.Ak.prototype.vg;_.Ak.prototype.addResponseModifier=_.Ak.prototype.Rc;_.Ak.prototype.addRequestModifier=_.Ak.prototype.zf;_.Ak.prototype.setRateLimit=_.Ak.prototype.Un;var Kk;_.Gk.prototype.na=function(a){return this.type===a.type&&this.channelsCount===a.channelsCount&&this.frameRate===a.frameRate&&this.trickPlay===a.trickPlay&&this.kind===a.kind&&this.label===a.label&&this.language===a.language&&this.mimeType===a.mimeType&&Ci(this.roles,a.roles)&&Ci(this.accessibility,a.accessibility,Ok)};_.Gk.prototype.toString=function(){return"Track type: "+this.type+" id: "+this.id+"\n        renditions size: "+this.renditions.length};_.J("clpp.Track",_.Gk);
_.Gk.prototype.toString=_.Gk.prototype.toString;_.J("clpp.Rendition",_.Pk);_.Mk=1;_.Jk=_.r;_.Ik=_.Zc;_.U="text";Kk=_.Qe;_.Yv={VIDEO:_.Jk,AUDIO:_.Ik,TEXT:_.U,METADATA:Kk};_.Gk.Type=_.Yv;_.J("clpp.utils.url.queryString",_.Sk);Vk.prototype.h=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){switch(n.a){case 1:return d=null,_.D(n,2),_.y(n,al(c,a),4);case 4:d=n.f;_.sh(n,3);break;case 2:return e=_.F(n),c.g.warn("Failed to fetch playlist in order metadata from HLS playlist.",e.message),n["return"](Promise.resolve({}));case 3:f={};_.D(n,5);if(!b.enableHlsVideoTrackInfo){n.F(7);break}return _.y(n,Yk(c,d,a),8);case 8:g=n.f,f.renditions=g.renditions,f.mimeType=g.mimeType;case 7:_.sh(n,6);break;case 5:h=_.F(n),c.g.warn("Failed to parse video metadata from HLS playlist.",
h.message);case 6:return _.D(n,9),_.y(n,$k(d),11);case 11:l=n.f;f.kd=l;_.sh(n,10);break;case 9:m=_.F(n),c.g.warn("Failed to parse metadata from HLS playlist.",m.message);case 10:return n["return"](f)}})};_.hl=[];_.u=_.kl.prototype;_.u.Ef=function(){return!0};_.u.sl=function(a){return this.getVideoTracks().find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};_.u.ol=function(a){return this.getAudioTracks().find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};_.u.ql=function(a){return this.ja().find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};_.u.rl=function(a){return this.getVideoTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};
_.u.nl=function(a){return this.getAudioTracks().flatMap(function(b){return b.renditions}).find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};_.u.pl=function(a){return this.ja().flatMap(function(b){return b.renditions}).find(function(b){return _.N.na(b,a,a&&Object.keys(a))})};_.J("clpp.TrackManager",_.kl);_.kl.prototype.isAbrEnabled=_.kl.prototype.ta;_.kl.prototype.addTextTrack=_.kl.prototype.addTextTrack;_.kl.prototype.findTextRendition=_.kl.prototype.pl;_.kl.prototype.findAudioRendition=_.kl.prototype.nl;
_.kl.prototype.findVideoRendition=_.kl.prototype.rl;_.kl.prototype.findTextTrack=_.kl.prototype.ql;_.kl.prototype.findAudioTrack=_.kl.prototype.ol;_.kl.prototype.findVideoTrack=_.kl.prototype.sl;_.kl.prototype.setTextRendition=_.kl.prototype.yb;_.kl.prototype.setAudioRendition=_.kl.prototype.xb;_.kl.prototype.setVideoRendition=_.kl.prototype.jb;_.kl.prototype.setTextTrack=_.kl.prototype.Ta;_.kl.prototype.setAudioTrack=_.kl.prototype.Fa;_.kl.prototype.setVideoTrack=_.kl.prototype.zb;
_.kl.prototype.getTextTrack=_.kl.prototype.ya;_.kl.prototype.getAudioTrack=_.kl.prototype.oa;_.kl.prototype.getVideoTrack=_.kl.prototype.Ia;_.kl.prototype.getLoadingTextRendition=_.kl.prototype.Eb;_.kl.prototype.getLoadingAudioRendition=_.kl.prototype.Db;_.kl.prototype.getLoadingVideoRendition=_.kl.prototype.rb;_.kl.prototype.getTextRendition=_.kl.prototype.Sa;_.kl.prototype.getAudioRendition=_.kl.prototype.Va;_.kl.prototype.getVideoRendition=_.kl.prototype.ka;_.kl.prototype.getTextTracks=_.kl.prototype.ja;
_.kl.prototype.getAudioTracks=_.kl.prototype.getAudioTracks;_.kl.prototype.getVideoTracks=_.kl.prototype.getVideoTracks;_.kl.prototype.canSelectVideoTracks=_.kl.prototype.Ef;var ml=new Map,ll=1,ql=2,pl=3,ol=4;_.Zv=(new Map).set(_.Fd,_.Fd).set("frameRate","framerate").set("bandwidth","bitrate").set(_.Wg,_.Wg).set(_.ve,_.ve).set("channelsCount","channels");_.vl.prototype.ca=function(a){return wl(this,a,!1)};_.vl.prototype.Ab=function(a){return wl(this,a,!0)};_.vl.prototype.stop=function(){this.a&&(this.a(),this.a=null)};_.xl.prototype.Hg=function(){this.stop();this.f();return this};_.xl.prototype.ca=function(a){var b=this;this.stop();this.a=(new _.vl(function(){b.f()})).ca(a);return this};_.xl.prototype.Ab=function(a){var b=this;this.stop();this.a=(new _.vl(function(){b.f()})).Ab(a);return this};_.xl.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)};_.J("clpp.utils.Timer",_.xl);_.xl.prototype.stop=_.xl.prototype.stop;_.xl.prototype.tickEvery=_.xl.prototype.Ab;_.xl.prototype.tickAfter=_.xl.prototype.ca;
_.xl.prototype.tickNow=_.xl.prototype.Hg;_.J(Ed,zl);zl.getInfo=_.xk;
var Jl=null,Il=null,Ll=new _.K(Ed),Sl="android",Rl="ios",Xl="linux",Tl="osx",Ul="windows",Vl="tizen",Wl="webos",Ql=_.vg,$l=_.vg,Zl={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,
chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,
chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},
webos:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}};_.x(am,_.kl);_.u=am.prototype;_.u.Ef=function(){return!_.Fl()};
_.u.kg=function(a,b){var c=this,d,e,f,g,h,l,m,n,p,q,t,v,z,A,G,E,C,H;return _.I(function(M){if(1==M.a){if(!b)return c.g.warn(vb),M["return"]();d=b.track;if(!d)return c.g.warn(zb),M["return"]();e=a===_.Ik;f=a===_.Jk;g=a===_.U;h=e||f;l=b.target;if(m=c.h.find(function(R){return om(R,d,a)}))return c.g.warn("Track from event already exists",d,m),M["return"]();n=Nk(a,d);p=sm(d);if(g){if(d.kind===_.Qe)return M["return"]();void 0!==d.id?q=c.o[d.id]:(t=Object.values(c.o),q=t.find(function(R){return om(n,R,
a)}));n.kind&&"captions"===n.kind&&(n.mimeType=_.Rc);q&&(n.src=q.url,n.mimeType=q.mimeType)}else if(m=c.h.find(function(R){return R.type===a&&_.N.na(R,n,["kind","label","language"])}))return m.id=d.id,p&&(c.g.debug(Vb+a+" track active"),c.a.set(a,m)),c.g.debug("Track from event seems to already exists, flipped native track to",d),M["return"]();_.D(M,2);v=new _.Pk(n.id,n);n.renditions.push(v);c.h.push(n);z=c.m.getConfiguration().safari;return em(c,a,z)?_.y(M,hm(c,n,z),5):fm(c,a,z)?_.y(M,im(c,n,z),
5):M.F(5)}if(2!=M.a)return c.g.debug(a+" Track added",n),c.m.trigger(new _.L(_.$v)),A=lm(c,a).length,G=!(!l||!l.length),E=l&&l.length||0,C=function(){c.g.debug(Vb+a+" track active. Native track active: "+(p+". Number of tracks: ")+A,d);c.a.set(a,n)},p?C():1===A&&h&&(f?C():G&&1!==E||C()),_.sh(M,0);H=_.F(M);c.g.error("Error while converting track data",H);_.B(M)})};
_.u.mg=function(a,b){if(b){var c=b.track;if(!c)this.g.warn(zb);else if(a===_.U&&c.kind!==_.Qe){var d=this.h.find(function(e){return om(e,c,a)});d&&(this.h.splice(this.h.indexOf(d),1),(this.a.get(a)||null)===d&&(this.a.set(a,null),um(this)),this.g.debug(a+" Track removed, id: ",d.id))}}else this.g.warn(vb)};
_.u.lg=function(a,b){this.g.debug(a+" Track changed",b);a===_.U&&um(this);var c=km(this,a);if(c)for(var d={Kc:0};d.Kc<c.length;d={Kc:d.Kc},++d.Kc)if(sm(c[d.Kc])){if(d=this.h.find(function(e){return function(f){return om(f,c[e.Kc],a)}}(d)))this.a.set(a,d),this.g.debug("Track change detected, id:",d.id),d===this.l.get(a)&&this.l.set(a,null),a===_.Ik?this.m.trigger(new _.L(_.pm)):a===_.U&&this.m.trigger(new _.L(_.qm));break}};_.u.initialize=function(a){this.m=a;this.j=new Vk(a.getNetworkEngine())};
_.u.load=function(){this.A=!1;var a=jm(this,_.U);a&&(this.f.on(a,_.Kc,this.J),this.f.on(a,Pf,this.L),this.f.on(a,td,this.K));if(a=jm(this,_.Ik))this.f.on(a,_.Kc,this.G),this.f.on(a,Pf,this.I),this.f.on(a,td,this.H);if(a=jm(this,_.Jk))this.f.on(a,_.Kc,this.M),this.f.on(a,Pf,this.U),this.f.on(a,td,this.P);this.f.one(this.m,ld,this.Fk.bind(this))};_.u.release=function(){this.A=!0;this.h=[];this.o={};this.a.clear();this.l.clear();this.f.release()};_.u.destroy=function(){this.release();this.m=null};
_.u.getVideoTracks=function(){return lm(this,_.Jk)};_.u.getAudioTracks=function(){return lm(this,_.Ik)};_.u.ja=function(){return lm(this,_.U)};_.u.ka=function(){var a=this,b=this.a.get(_.Jk)||null;if(!b)return null;if(this.w){var c=b.renditions.find(function(d){return d.width===a.w.width&&d.height===a.w.height});if(c)return c}return b.renditions[0]||null};_.u.Va=function(){return mm(this,_.Ik)};_.u.Sa=function(){return mm(this,_.U)};_.u.rb=function(){return nm(this,_.Jk)};
_.u.Db=function(){return nm(this,_.Ik)};_.u.Eb=function(){return nm(this,_.U)};_.u.Ia=function(){return this.a.get(_.Jk)||null};_.u.oa=function(){return this.a.get(_.Ik)||null};_.u.ya=function(){return this.a.get(_.U)||null};_.u.zb=function(a){rm(this,_.Jk,a)};_.u.Fa=function(a){rm(this,_.Ik,a)};_.u.Ta=function(a){rm(this,_.U,a)};_.u.jb=function(a){rm(this,_.Jk,a&&a.track)};_.u.xb=function(a){rm(this,_.Ik,a&&a.track)};_.u.yb=function(a){rm(this,_.U,a&&a.track)};
_.u.addTextTrack=function(a){var b=this,c;return _.I(function(d){return a.mimeType.match(/text\/vtt/)?(c="External_"+b.B++,b.o[c]=a,bm(b,a,c),d.F(0)):_.y(d,cm(b,a),0)})};_.u.ta=function(){return 1>=this.getVideoTracks().flatMap(function(a){return a.renditions}).length};
_.u.Fk=function(){var a=this,b,c,d;return _.I(function(e){if(1==e.a){b=a.m.getConfiguration();tm(a,_.Ik,b.preferredAudioLanguage);c=km(a,_.U);if(c.some(function(f){return sm(f)}))return e.F(2);d=jm(a,_.U);return _.y(e,new Promise(function(f){a.f.one(d,td,f);(new _.xl(f)).ca(1)}),2)}if(a.A)return e["return"]();tm(a,_.U,b.preferredTextLanguage);_.B(e)})};am.prototype.isAbrEnabled=am.prototype.ta;am.prototype.addTextTrack=am.prototype.addTextTrack;am.prototype.setTextRendition=am.prototype.yb;
am.prototype.setAudioRendition=am.prototype.xb;am.prototype.setVideoRendition=am.prototype.jb;am.prototype.setTextTrack=am.prototype.Ta;am.prototype.setAudioTrack=am.prototype.Fa;am.prototype.setVideoTrack=am.prototype.zb;am.prototype.getTextTrack=am.prototype.ya;am.prototype.getAudioTrack=am.prototype.oa;am.prototype.getVideoTrack=am.prototype.Ia;am.prototype.getLoadingTextRendition=am.prototype.Eb;am.prototype.getLoadingAudioRendition=am.prototype.Db;am.prototype.getLoadingVideoRendition=am.prototype.rb;
am.prototype.getTextRendition=am.prototype.Sa;am.prototype.getAudioRendition=am.prototype.Va;am.prototype.getVideoRendition=am.prototype.ka;am.prototype.getTextTracks=am.prototype.ja;am.prototype.getAudioTracks=am.prototype.getAudioTracks;am.prototype.getVideoTracks=am.prototype.getVideoTracks;am.prototype.canSelectVideoTracks=am.prototype.Ef;_.u=_.vm.prototype;_.u.start=function(a){if(this.f)return this.f.start(a);if(a<this.a.length)return this.a[a].start;throw Error($b);};_.u.end=function(a){if(this.f)return this.f.end(a);if(a<this.a.length)return this.a[a].end;throw Error($b);};_.u.Oa=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)};_.u.ha=function(){return!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)?null:this.end(this.length-1)};
_.u.Jb=function(a,b,c){b=void 0===b?!0:b;c=void 0===c?0:c;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0)||a>this.end(this.length-1))return!1;if(b)return c+a>=this.start(0)&&a<=this.end(this.length-1);for(b=0;b<this.length;b++)if(c+a>=this.start(b)&&a<=this.end(b))return!0;return!1};
_.u.Ba=function(a,b){b=void 0===b?!1:b;if(!this.length||1===this.length&&1E-6>this.end(0)-this.start(0))return 0;var c=0;if(b){var d=this.ha();null!=d&&(c=Math.max(0,d-a))}else for(d=this.length-1;0<=d&&this.end(d)>a;--d)c+=this.end(d)-Math.max(this.start(d),a);return c};_.u.toString=function(){for(var a="",b=0;b<this.length;b++)0<b&&(a+=" "),a+=this.start(b).toFixed(3)+"-"+this.end(b).toFixed(3);return a};_.J("clpp.BufferInfo",_.vm);_.vm.prototype.bufferedAheadOf=_.vm.prototype.Ba;
_.vm.prototype.isBuffered=_.vm.prototype.Jb;_.vm.prototype.bufferEnd=_.vm.prototype.ha;_.vm.prototype.bufferStart=_.vm.prototype.Oa;_.vm.prototype.end=_.vm.prototype.end;_.vm.prototype.start=_.vm.prototype.start;_.u=_.wm.prototype;_.u.addEventListener=function(a,b){this.on(a,b)};_.u.removeEventListener=function(a,b){this.off(a,b)};_.u.on=function(a,b,c){return this.Qd.on(a,b,c)};_.u.one=function(a,b,c){return this.Qd.one(a,b,c)};_.u.off=function(a,b){return this.Qd.off(a,b)};_.u.forwardEventsTo=function(a){a&&(0<=this.Nd.indexOf(a)||this.Nd.push(a))};_.u.dispatchEvent=function(a){this.trigger(a);return a.defaultPrevented};
_.u.stopForwardingEventsTo=function(a){a&&(a=this.Nd.indexOf(a),0<=a&&this.Nd.splice(a,1))};_.u.trigger=function(a){this.Qd.trigger(a);for(var b=_.w(this.Nd),c=b.next();!c.done;c=b.next())c.value.dispatchEvent(a)};_.wm.prototype.off=_.wm.prototype.off;_.wm.prototype.one=_.wm.prototype.one;_.wm.prototype.on=_.wm.prototype.on;_.wm.prototype.removeEventListener=_.wm.prototype.removeEventListener;_.wm.prototype.addEventListener=_.wm.prototype.addEventListener;_.J("clpp.events.ERROR",_.qe);_.J("clpp.events.LOADEDMETADATA",_.Ke);_.J("clpp.events.BUFFERING_ENDED",_.id);_.J("clpp.events.BUFFERING_STARTED",_.jd);_.J("clpp.events.STATE_CHANGED",_.fg);_.pm="audiotrackchanged";_.J("clpp.events.AUDIO_TRACK_CHANGED",_.pm);_.qm="texttrackchanged";_.J("clpp.events.TEXT_TRACK_CHANGED",_.qm);_.J("clpp.events.VIDEO_TRACK_CHANGED",_.Lg);_.J("clpp.events.BITRATE_CHANGED",_.gd);_.$v="tracksadded";_.J("clpp.events.TRACKS_ADDED",_.$v);_.J("clpp.events.LOAD_START",Le);
_.J("clpp.events.RELEASING",_.Of);_.J("clpp.events.RELEASED",Nf);_.J("clpp.events.DESTROYING","destroying");_.J("clpp.events.DESTROYED","destroyed");_.J("clpp.events.VIDEO_BUFFER_CHANGED",_.Kg);_.J("clpp.events.AUDIO_BUFFER_CHANGED",_.ed);_.J("clpp.events.DOWNLOAD_TRACE","downloadtrace");_.J("clpp.events.DRM_SESSION_CREATED",ge);_.J("clpp.events.DRM_SESSION_UPDATE",_.ie);_.J("clpp.events.DRM_SESSION_PERSISTED",_.he);_.J("clpp.events.DRM_RENEWAL_STARTED",fe);
_.J("clpp.events.DRM_EXPIRATION_UPDATE",_.de);_.J("clpp.events.DRM_LICENSE_REQUESTED",ee);_.J("clpp.events.AUTOPLAY_NOT_ALLOWED",_.fd);_.J("clpp.events.PLAY",_.mf);_.J("clpp.events.SEEKING",_.Yf);_.J("clpp.events.SEEKED",_.Xf);_.J("clpp.events.USER_SEEKING",_.Ag);_.J("clpp.events.USER_SEEKED",_.zg);_.cq={SEEKING:1,NO_DATA:2};_.J("clpp.events.BufferingReasons",_.cq);_.J("clpp.events.ADS_TIMELINE_CHANGED",_.Lc);_.J("clpp.events.AD_LOADED",_.Bc);_.J("clpp.events.AD_BREAK_STARTED",_.rc);
_.J("clpp.events.AD_STARTED",_.Hc);_.J("clpp.events.AD_BUFFERING",_.tc);_.J("clpp.events.AD_PROGRESS",_.Ec);_.J("clpp.events.AD_FIRST_QUARTILE",_.wc);_.J("clpp.events.AD_MIDPOINT",_.Cc);_.J("clpp.events.AD_THIRD_QUARTILE",_.Jc);_.J("clpp.events.AD_PAUSED",_.Dc);_.J("clpp.events.AD_RESUMED",_.Fc);_.J("clpp.events.AD_SKIPPED",_.Gc);_.J("clpp.events.AD_CLICKED",_.uc);_.J("clpp.events.AD_IMPRESSION",_.Ac);_.J("clpp.events.AD_COMPLETED",_.vc);_.J("clpp.events.AD_STOPPED",_.Ic);
_.J("clpp.events.AD_BREAK_STOPPED",_.sc);_.J("clpp.events.AD_HLS_ASSET_LIST_REQUEST",xc);_.J("clpp.events.AD_HLS_ASSET_LIST_RESPONSE",yc);_.J("clpp.events.AD_HLS_RESOLVED",zc);_.J("clpp.events.SIMID_CREATIVE_STARTED",_.$f);_.J("clpp.events.SIMID_CREATIVE_STOPPED",_.ag);_.J("clpp.events.CASTING_STARTED",_.nd);_.J("clpp.events.CASTING_ENDED","castingended");_.J("clpp.events.CAST_STATUS_CHANGED",_.od);_.J("clpp.events.AIRPLAY_STATUS_CHANGED",_.Pc);_.J("clpp.events.AIRPLAY_CASTING_STARTED",_.Oc);
_.J("clpp.events.AIRPLAY_CASTING_ENDED",_.Mc);_.oi="timeline-cue-added";_.J("clpp.events.TIMELINE_CUE_ADDED",_.oi);_.ji="timeline-cue-enter";_.J("clpp.events.TIMELINE_CUE_ENTER",_.ji);_.ki="timeline-cue-exit";_.J("clpp.events.TIMELINE_CUE_EXIT",_.ki);_.ii="timeline-cues-changed";_.J("clpp.events.TIMELINE_CUES_CHANGED",_.ii);_.J("clpp.events.MPD_TYPE_CHANGED",_.Ue);_.J("clpp.events.LIVE_TURNED_STATIC",_.Ge);_.J("clpp.events.VIMOND_RESPONSE",_.Mg);_.J("clpp.events.PLAYLIST_ITEM_CHANGED",_.yf);
_.J("clpp.events.PLAYLIST_MODIFIED",_.zf);_.J("clpp.events.SC_PLAYLIST_TIMELINE_CHANGED",_.Wf);_.J("clpp.events.SC_PLAYLIST_ITEM_CHANGED",_.Uf);_.J("clpp.events.SC_PLAYLIST_ENDED",_.Tf);_.J("clpp.events.SC_PLAYLIST_LIVE_TURNED_STATIC",_.Vf);_.J("clpp.events.CDN_SWITCH_SUCCESS",_.pd);_.J("clpp.events.ONLINE_STATUS_CHANGED",df);_.J("clpp.events.CMSD_EVENT","cmsd-event");_.J("clpp.events.YOSPACE_SESSION_STARTED",_.ah);_.J("clpp.events.YOSPACE_SESSION_ENDED",_.$g);
_.J("clpp.events.CONTENT_STEERING_CHANGE",_.Qd);_.J("clpp.events.CONTENT_STEERING_LOCATION_BAN_UPDATE",_.Rd);var xm=["play() failed because the user didn't interact","The play method is not allowed by the user agent","The request is not allowed by the user agent or the platform"];_.J("clpp.version",_.ha);_.J("clpp.name",_.ta);_.gm="application/x-mpegurl";_.J("clpp.Type",{DASH:_.Sc,HLS:_.gm,SMOOTH_STREAMING:_.Xc,MP4:_.Jg,MP3:"audio/mp3"});_.vi="scte35";_.ui="hls-daterange";_.J("clpp.TimelineCueType",{SCTE35:_.vi,DASH_CALLBACK:_.Ve,HLS_DATERANGE:_.ui,UNKNOWN:_.vg});_.J("clpp.SpeedUpMode",{DECODER:_.Ud,SEEK:"seek"});_.J("clpp.CodecSwitchingStrategy",{PREVENT:_.If,SMOOTH:_.cg});_.J("clpp.utils.PlayerConfiguration",zm);zm.create=_.Em;var aw=["abort",kd,ld,le,"emptied",ne,_.pe,_.qe,"interruptbegin","interruptend",_.Ie,_.Ke,Le,"mozaudioavailable",_.hf,_.mf,_.xf,_.Kf,_.Mf,_.Xf,_.Yf,dg,"suspend",_.qg,"volumechange",_.Pg,_.Qg,_.Rf,Vg,Ug,Sg,Tg];_.x(_.Gm,_.wm);_.u=_.Gm.prototype;_.u.init=function(a,b){this.configuration=this.Ha=b;this.C=a;this.log.info("Initializing Player surface");var c=this.C.getMedia();this.log.info("Attaching media element listeners");for(var d=_.w(aw),e=d.next();!e.done;e=d.next())e=e.value,this.M.on(c,e,this.kj,e!==_.qe);this.yd||(this.yd=this.Dh());this.yd.initialize(this);this.C.showMediaElement()};_.u.release=function(){this.U&&(this.U.destroy(),this.U=null);return Promise.resolve()};
_.u.destroy=function(){this.M.release();return this.tg.release()};_.u.canPlay=function(a,b){return _.Ph[this.namespace()].canPlay(a,b)};_.u.getTimeline=function(){return null};_.u.setupPlaylist=function(){return Promise.reject(_.Bb)};_.u.appendLoad=function(){return Promise.reject(_.Bb)};_.u.seekWith=function(){return Promise.reject(_.Bb)};_.u.detach=function(){return Promise.resolve()};_.u.setSeekInterceptor=function(){};_.u.setPlaybackSessionId=function(){};
_.u.play=function(){var a=this;if(!this.Z)return Promise.reject("No sources specified yet. You need to load content before calling play.");var b=this.C.getMedia().play();return Promise.resolve(b)["catch"](function(c){a.log.info("Caught play promise exception",c);var d={name:c.name||"",message:c.message||"",stack:c.stack||""};ym(d)?(a.trigger(new _.L(_.fd)),a.log.warn(_.la)):d.name===Cb&&a.log.warn('Unrecognized "NotAllowedError" on play(). '+(c.name+": "+c.message));throw c;})};
_.u.pause=function(){var a=this;return this.Z?new Promise(function(b,c){var d=a.getState();if(d!==_.$p&&d!==_.bq&&d!==_.iq&&d!==_.hq)c(new _.O(_.P,7,3201,"The player state does not allow pause."));else if(a.C.getMedia().pause(),a.getState()===_.iq)a.M.one(a,_.fg,function(){b()});else b()}):Promise.reject(new _.O(_.P,7,3201,"No sources specified yet. You need to load content before calling pause."))};_.u.isPaused=function(){return this.C.getMedia().paused};_.u.isEnded=function(){return this.C.getMedia().ended};
_.u.getConfiguration=function(){return this.configuration};_.u.setDrmCustomDataModifier=function(a){this.bd=a};_.u.setCdnErrorCallback=function(a){this.Nc=a};_.u.dd=function(){return this.bd};_.u.getSurface=function(){return this.C};_.u.getBufferInfo=function(a){var b=this.getSurface().getMedia();return new _.vm(b?b.buffered:void 0,a)};_.u.getPosition=function(){return this.getMediaPosition()};
_.u.getMediaPosition=function(){var a=this.C.getMedia();if(a)return a.currentTime;this.log.warn("No media element available, can not report current time!");return 0};
_.u.seek=function(a){var b=this,c=this.getMediaPosition();if(void 0===a||null===a||typeof a!==_.k||a===c)return Promise.resolve();var d=this.C.getMedia();if(!d)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var e=a-c;return.1>=Math.abs(e)?(this.log.info("Skip seek. Delta "+Math.abs(e)+" \x3c 0.1"),Promise.resolve()):new Promise(function(f,g){function h(){if(d.readyState>HTMLMediaElement.HAVE_NOTHING)m();else b.M.one(d,_.Ke,m)}function l(n){var p=b.getMediaPosition(),
q=.1>=Math.abs(a-p),t=.25<p-a,v=d.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,z=n.type===_.Xf,A=n.type===_.Kf,G=n.type===_.qg,E=A&&v;t=z||q&&E||G&&t;b.log.debug("Checking seeking state after "+n.type+" event. Seek completed:",t,"Current Time:",p,"Target Time:",a,"Native Event:",z,"Time reached",q,"Timeupdate:",G,"Progress:",A,"ReadyState:",v,"Progress Ready:",E);t?(b.wg=!1,b.ee=!1,b.M.off(d,_.Xf,l),b.M.off(d,_.qg,l),b.M.off(d,_.Kf,l),b.Ki(),b.trigger(new _.L(_.zg)),f()):A&&c===p&&(b.log.debug("Seek seemed to have been ignored. Trying again"),
d.currentTime=a)}function m(){b.trigger(new _.L(_.Ag));b.M.on(d,_.Xf,l);b.M.on(d,_.qg,l);b.M.on(d,_.Kf,l);b.log.info("Seeking to "+a+". Delta "+e);b.wg=!0;b.ee=!0;d.currentTime=a}b.getState()===_.Vp?(b.log.debug("Player is in IDLE state. Postpone seek."),b.M.one(b,_.fg,function(){switch(b.getState()){case _.$p:case _.iq:case _.hq:b.log.debug("Valid seek state reached.");h();break;default:b.log.warn("Invalid seek target state. Aborting seek"),g()}})):h()})};
_.u.getVolume=function(){var a=this.C.getMedia();if(a)return a.volume;this.log.warn("No media element available, can not report volume!");return null};_.u.setVolume=function(a){var b=this.C.getMedia();b?_.N.ua(a)?0>a||1<a?this.log.warn(ra+a+".\n          Value must be between 0 and 1."):b.volume=a:this.log.warn(ra+a+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")};_.u.isMuted=function(){return this.C.getMedia().muted};
_.u.setMuted=function(a){var b=this.C.getMedia();typeof a===_.hd&&(b.muted=a)};_.u.getDuration=function(){return this.getMediaDuration()};_.u.getMediaDuration=function(){return this.Z?this.C.getMedia().duration:-1};_.u.getTrackManager=function(){return this.yd};_.u.getPlaybackRate=function(){var a=this.C.getMedia();return a&&a.playbackRate||1};_.u.setPlaybackRate=function(a){var b=this.C.getMedia();void 0!==a&&b&&(b.playbackRate=a)};_.u.setSourceIndex=function(a){this.Re=a};_.u.getSourceIndex=function(){return this.Re};
_.u.getLoadedSource=function(){return this.Z&&-1!==this.Re?this.Z[this.Re]:null};_.u.getPeriods=function(){return[]};_.u.getNetworkEngine=function(){return this.tg};_.u.setNetworkEngine=function(a){this.tg=a};_.u.setCmsdManager=function(a){this.sg=a};_.u.getTextDisplayer=function(){return this.U};_.u.getTimelineCues=function(){return[]};_.u.getCueTimeline=function(){return null};_.u.resetAbr=function(){};
_.u.En=function(a){var b=this.getSurface().getMedia(),c=this.getPosition(),d="Received Video Element Event: '"+a.type+"' with playhead at: "+c;if(a.type===_.qg||a.type===_.Kf)this.Rg.debug(d);else{var e="";switch(a.type){case _.Mf:e="Rate: "+this.getPlaybackRate();break;case le:e="Duration: "+this.getDuration();break;case "volumechange":e="Volume: "+this.getVolume()+" Muted: "+this.isMuted();break;case _.mf:case _.xf:case "suspend":case _.Pg:case dg:case _.Yf:case _.Xf:case _.qg:case _.Kf:case kd:case ld:b=
this.getBufferInfo().Ba(c);e="State "+this.getSurface().getMedia().readyState+" Buffer: "+b;break;case _.Rf:null!=b&&(e="Size: "+b.videoWidth+"x"+b.videoHeight)}e&&(d+=". "+e);this.Rg.info(d)}a.type!==_.qe&&this.trigger(new _.L(a.type,{detail:a}))};_.u.Ki=function(){};var Jm;Jm=new _.K("clpp.Components");_.Hm=new Map;_.J("clpp.install",function(a){Rm(a)});_.J("clpp.uninstall",function(a){Sm(a)});Tm.prototype.release=function(){this.a=this.f=null};_.J("clpp.drm.WidevineRobustnessLevel",{SW_SECURE_CRYPTO:_.Sb,SW_SECURE_DECODE:_.Tb,HW_SECURE_CRYPTO:cb,HW_SECURE_DECODE:db,HW_SECURE_ALL:bb});_.J("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"});_.J("clpp.drm.KeySystem",{NONE:_.We,CLEAR_KEY:_.ff,WIDEVINE:_.Od,PLAYREADY:_.Md,FAIRPLAY:_.Jd,PRIMETIME:_.Hd});_.Wm={};_.J("clpp.drm.registerDrmEnvironment",_.Xm);var $m={V1_STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,
96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,
134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,
185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,
48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,
153,20],V1_PROD:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,
224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,
211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,
28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,
73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,
244],V2:[10,187,2,8,3,18,16,160,220,209,96,48,44,4,19,213,32,118,162,12,129,36,76,24,191,132,241,238,5,34,142,2,48,130,1,10,2,130,1,1,0,188,93,207,198,77,28,25,14,217,103,5,56,106,241,93,252,216,61,104,36,3,52,23,246,32,9,11,77,12,188,251,189,53,137,249,11,36,52,104,185,13,221,170,204,238,44,227,192,167,199,144,75,188,190,7,211,16,145,75,13,132,119,167,164,29,39,107,69,76,50,161,131,132,248,207,237,214,130,27,113,204,37,77,14,232,248,26,85,213,126,147,7,183,241,23,44,117,142,192,109,70,192,86,166,
21,58,231,13,118,215,58,166,74,44,51,103,50,120,198,197,213,64,34,105,66,115,72,235,88,51,28,238,54,93,147,140,187,28,173,50,109,5,234,155,141,29,52,234,135,38,55,103,111,116,98,171,210,13,211,129,249,70,57,64,155,151,38,8,225,188,229,3,247,234,26,46,91,211,250,252,38,87,111,205,37,108,74,168,112,74,116,191,73,170,243,167,54,36,20,23,72,67,35,181,159,241,102,250,221,22,18,92,161,54,236,172,183,214,18,160,199,92,46,171,180,211,90,64,62,144,121,201,77,74,211,17,244,49,124,244,120,116,148,234,184,79,
136,12,176,34,231,39,149,87,28,219,2,3,1,0,1,58,12,99,97,115,116,108,97,98,115,46,99,111,109,64,1,18,128,3,50,97,151,165,120,63,210,172,84,187,10,36,166,202,149,32,118,107,37,251,186,217,170,254,4,95,20,85,66,157,43,154,24,66,136,147,101,223,78,204,173,228,175,111,100,168,97,164,222,84,160,51,79,233,227,223,105,252,85,11,242,129,199,206,11,9,236,118,163,118,204,179,159,69,108,223,229,114,176,8,26,36,9,23,103,233,62,55,162,154,209,96,98,102,80,173,114,233,213,36,56,135,65,188,245,176,95,70,189,199,
143,81,72,182,124,207,225,238,28,172,144,110,89,44,12,137,51,52,239,130,117,119,15,207,200,229,142,166,8,80,79,111,255,191,70,47,189,108,75,234,184,241,119,21,255,98,167,124,132,30,239,102,113,7,132,96,39,134,123,220,209,255,110,222,35,147,0,77,125,253,129,139,66,158,126,221,13,117,113,163,143,235,9,130,180,3,133,94,152,45,199,69,168,182,95,122,82,25,203,10,99,191,186,193,238,225,224,140,156,142,171,110,26,214,32,240,6,218,138,10,47,114,133,17,1,151,43,213,223,198,210,186,81,18,50,221,84,177,180,
26,58,164,235,113,177,235,207,22,230,8,119,76,167,166,176,173,209,214,53,116,116,231,227,221,238,174,87,249,19,166,195,81,47,210,172,15,75,251,202,192,80,85,213,23,17,178,104,181,193,115,239,91,72,230,167,55,143,10,250,26,54,8,60,13,213,206,235,3,215,179,205,232,1,144,158,35,48,196,149,117,219,63,196,130,117,40,165,193,65,215,122,44,201,218,67,216,6,131,178,5,168,229,21,137,112,215,254,127,48,160,181,68,49,255,64,46,247,236,85,155,146,208,5,219,252,37,174,31,218,136,135,55,119,112]};_.bn.prototype.Ya=function(a,b){this.f[a]=b};_.J("clpp.drm.DrmEnvironment",_.bn);_.bn.prototype.setDrmSystem=_.bn.prototype.Ya;_.cn.prototype.getPosition=function(){return this.a};_.cn.prototype.Pa=function(){return this.f.byteLength};_.cn.prototype.seek=function(a){(0>a||a>=this.f.byteLength)&&_.dn();this.a=a};_.fn.prototype.getPosition=function(){return this.a};_.fn.prototype.Pa=function(){return this.f.byteLength};_.fn.prototype.skip=function(a){this.a+a>this.f.byteLength&&_.hn();this.a+=a};_.fn.prototype.seek=function(a){if(0>a||a>=this.f.byteLength)throw _.hn();this.a=a};_.J("clpp.utils.dataview.DataViewReader",_.fn);_.u=_.qn.prototype;_.u.N=function(a,b){var c=un(a);this.h[c]=bw;this.f[c]=b;return this};_.u.X=function(a,b){var c=un(a);this.h[c]=cw;this.f[c]=b;return this};_.u.stop=function(){this.a=!0};_.u.parse=function(a,b){var c=_.Fj(a);c=new _.fn(new DataView(c.buffer,c.byteOffset,c.byteLength),!1);for(this.a=!1;_.gn(c)&&!this.a;)this.df(0,c,b)};
_.u.df=function(a,b,c){var d=b.getPosition(),e=_.ln(b),f=_.ln(b),g=!1;this.g.debug("Parsing MP4 box",_.vn(f));switch(e){case 0:e=b.Pa()-d;break;case 1:e=_.nn(b),g=!0}var h=this.f[f];if(h){var l=null,m=null;this.h[f]===cw&&(m=_.ln(b),l=m>>>24,m&=16777215);f=b.getPosition()-d;var n=d+e;c&&n>b.Pa()&&(n=b.Pa());n-=b.getPosition();b=0<n?_.pn(b,n):new Uint8Array(0);b=new _.fn(new DataView(b.buffer,b.byteOffset,b.byteLength),!1);h({parser:this,partialOkay:c||!1,version:l,flags:m,reader:b,size:e,start:d+
a,headerSize:f,has64BitSize:g})}else a=Math.min(d+e-b.getPosition(),b.Pa()-b.getPosition()),b.skip(a)};_.J("clpp.utils.Mp4Parser",_.qn);_.qn.typeToString=_.vn;_.qn.allData=_.tn;_.qn.sampleDescription=_.sn;_.qn.children=_.rn;_.qn.prototype.parseNext=_.qn.prototype.df;_.qn.prototype.parse=_.qn.prototype.parse;_.qn.prototype.stop=_.qn.prototype.stop;_.qn.prototype.fullBox=_.qn.prototype.X;_.qn.prototype.box=_.qn.prototype.N;_.qn.headerSize=_.wn;var bw=0,cw=1;_.J("clpp.utils.FairplayUtils",xn);xn.parseFairPlayResponse=_.Dn;xn.formatFairPlayRequest=_.Cn;xn.createFairplayPayload=Bn;xn.extractContentId=_.zn;xn.extractExtXKeyUri=yn;var Pn=new _.K("clpp.drm.DrmToday"),Fn="PRODUCTION",Gn="STAGING",Hn="DEMO",In="TEST",dw={PRODUCTION:Fn,STAGING:Gn,DEMO:Hn,TEST:In};_.J("clpp.drm.DrmToday.Environment",dw);_.J("clpp.drm.DrmToday.WidevineCertificates",{V1_PROD:"V1_PROD",V1_STAGING:"V1_STAGING",V2:"V2"});
for(var Kn="/license-proxy-widevine/cenc/",Ln="/license-proxy-headerauth/drmtoday/RightsManager.asmx",Mn="/license-server-fairplay/",Yn={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",10001:"Bad Request",3E4:"General DRM error",4E4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41E3:"General Widevine Classic error",
42E3:"General Playready error",43E3:"General Fairplay error",44E3:"General OMA error",44001:"OMA Device registration failed",45E3:"General CDRM error",45001:"CDRM Device registration failed",6E4:"CSL",60001:"CSL - INVALID",60100:"CSL - Denied by Stream Limiting",7E4:"General Output Protection",70001:"All keys filtered by EOP settings",8E4:"TAKE DOWN",80001:"TAKE DOWN - Denied by Take Down",9E4:"General GBL error",90001:"License delivery prohibited in your region"},ew={video:[bb,db,cb,_.Tb,_.Sb],audio:[bb,
db,cb,_.Tb,_.Sb]},fw={video:["3000","2000","150"],audio:["2000","150"]},gw=_.w(Object.keys(dw)),hw=gw.next();!hw.done;hw=gw.next()){var En=hw.value,iw=Aa;En!==Fn&&(iw+="_"+En);var jw=new _.bn(iw),kw=null;switch(En){case Fn:case Gn:case Hn:kw=an("V2");break;case In:kw=null}jw.Ya(_.Od,{licenseUrl:Nn(_.Od),videoRobustness:ew.video,audioRobustness:ew.audio,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:kw,modifiers:{licenseRequest:_.Sn,licenseResponse:_.Xn}});jw.Ya(_.Jd,
{licenseUrl:Nn(_.Jd),certificateUrl:Jn()+"/license-server-fairplay/cert/",modifiers:{licenseRequest:_.Un,licenseResponse:_.Vn,extractContentId:_.Qn,certificateRequest:_.Wn}});jw.Ya(_.Md,{licenseUrl:Nn(_.Md),videoRobustness:fw.video,audioRobustness:fw.audio,modifiers:{licenseRequest:Tn}});_.Xm(jw)};_.J("clpp.drm.eme.EmeFactory",ao);var bo=[];ao.Apis={STANDARD:Qb,APPLE:"APPLE",WEBKIT:"WEBKIT",NOP:"NOP"};var lo;_.yo=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149];lo=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237];_.x(ko,jo);_.x(_.oo,jo);var Ao=!!(performance&&performance.mark&&performance.measure);Do.prototype.j=function(a){if(1<a.version)_.Hh("Unrecognized PSSH version found!");else{var b=_.Tj(_.pn(a.reader,16)),c=[];if(0<a.version)for(var d=_.ln(a.reader),e=0;e<d;++e){var f=_.Tj(_.pn(a.reader,16));c.push(f)}d=_.ln(a.reader);a.reader.skip(d);this.h.push.apply(this.h,c);this.f.push(b);this.a.push({start:a.start,end:a.start+a.size-1});a.reader.getPosition()!==a.reader.Pa()&&_.Hh("Mismatch between box size and data size!")}};_.u=_.Ho.prototype;_.u.destroy=function(){var a=this;return _.I(function(b){if(1==b.a){if(a.j)return _.y(b,a.Ha,0);a.j=!0;return _.y(b,Jo(a),4)}a.Ha.resolve();return b.F(0)})};_.u.keySystem=function(){return this.a?_.mp(this.a.keySystem):""};_.u.getDrmInfo=function(){return this.a};_.u.Ji=function(a){var b=this;return _.I(function(c){return b.H&&b.L===Ko?c["return"]():!b.f.delayLicenseRequestUntilPlayed||b.C&&!b.C.paused||b.bb?_.y(c,zp(b,a),0):(b.fa.push(a),c.F(0))})};
_.u.Ei=function(a){var b=this,c=a.target;this.g.info("Key status changed for session",c.sessionId);var d=this.h.get(c),e=!1;c.keyStatuses.forEach(function(g,h){if(typeof h===_.ig){var l=h;h=g;g=l}if(tp(b.a.keySystem)&&16===h.byteLength&&_.Al()){l=_.Mj(h);var m=l.getUint32(0,!0),n=l.getUint16(4,!0),p=l.getUint16(6,!0);l.setUint32(0,m,!1);l.setUint16(4,n,!1);l.setUint16(6,p,!1)}d&&g!==gg&&(d.loaded=!0);d&&d.hb&&d.hb.resolve();"expired"===g&&(e=!0);l=_.Fj(h);var q=_.Tj(l);"00"===q&&d&&d.keyId?q=d.keyId:
b.a.keySystem.startsWith(_.Jd)&&16!==l.byteLength&&(q=_.T.fromCharCode(l));(l=q||"")?b.g.info(mb+q+"': "+g):b.g.info("Key status global keys: "+g);b.o.set(l,g);d&&!d.keyId&&b.h.forEach(function(t,v){v===c||t.keyId!==q||t.loaded||(t.loaded=!0)})});d&&d.loaded&&d.lb.forEach(function(g){b.o.get(g)===gg&&(b.g.warn(mb+g+da),b.o.set(g,_.gf))});for(a=0;a<this.a.initData.length;a++){var f=this.a.initData[a];f.keyId&&this.o.get(f.keyId)===gg&&_.Uj(f.initData,d.initData)&&(this.g.warn(mb+f.keyId+da),this.o.set(f.keyId,
_.gf))}a=c.expiration-Date.now();(0>a||e&&1E3>a)&&d&&!d.nc&&(this.g.debug("Session has expired",c.sessionId),(a=this.h.get(c))&&a.Zc&&a.Zc.stop(),this.h["delete"](c),c.close()["catch"](function(){}));op(this)&&(this.I.resolve(),1!==this.h.size||e?this.ba.ca(.5):Fo(this))};var Ko=0,Eo=3;_.Gp=new Map;_.Hp=new _.K("clpp.text");_.Qp.prototype.getStats=function(){return{width:this.w,height:this.h,streamBandwidth:this.o,decodedFrames:this.j,droppedFrames:this.l,corruptedFrames:this.C,estimatedBandwidth:this.f,loadLatency:this.A,playTime:Mp(this.a,_.iq),pauseTime:Mp(this.a,_.hq),bufferingTime:Mp(this.a,_.$p),stateHistory:Np(this.a),switchHistory:Pp(this.B)}};_.Sp.prototype.value=function(){void 0===this.a&&(this.a=this.f());return this.a};var Tp=new _.Sp(function(){return new Map([[HTMLMediaElement.HAVE_METADATA,_.Ke],[HTMLMediaElement.HAVE_CURRENT_DATA,_.Ie],[HTMLMediaElement.HAVE_FUTURE_DATA,kd],[HTMLMediaElement.HAVE_ENOUGH_DATA,ld]])});Yp.prototype.Ua=function(a,b){this.m&&this.m.trigger(new _.L(a,{detail:b}))};Yp.prototype.getState=function(){return aq(this,"")};Yp.prototype.destroy=function(){this.g.debug("Stop watching for video events for "+this.m.namespace());this.a.release()};_.J("clpp.utils.media.detectType",kq);var nq=new _.K("clpp.sources");_.x(oq,_.Gm);_.u=oq.prototype;_.u.init=function(a,b){_.Gm.prototype.init.call(this,a,b);this.j=new Yp(this);eq(this.j,_.Vp)};_.u.namespace=function(){return Cd};
_.u.unload=function(){var a=this,b;return _.I(function(c){if(!a.Z)return c.F(0);a.log.debug("Releasing player with source",a.Z);a.B&&(a.B.stop(),a.B=null);(b=a.getTrackManager())&&b.release();a.A&&(a.A.destroy(),a.A=null);a.U&&(a.U.destroy(),a.U=null);a.l&&a.l.release();a.o&&(a.o.destroy(),a.o=null);_.Zh(a.h);a.f&&(a.f=new _.Qp);a.G=null;a.Z=null;a.H=!1;a.a&&(a.a.removeAttribute("src"),a.a.load());return _.y(c,sq(a),0)})};
_.u.release=function(){var a=this;return _.Gm.prototype.release.call(this).then(function(){return a.unload()}).then(function(){a.j&&eq(a.j,_.Vp)})};
_.u.destroy=function(){var a=this;if(this.w)return this.log.warn("Player is already destroyed!"),Promise.resolve();this.w=!0;return _.Gm.prototype.destroy.call(this).then(function(){return a.release()}).then(function(){a.log.debug(Fa);var b=a.getTrackManager();b&&b.destroy();a.l&&(a.l.destroy()["catch"](function(c){a.log.warn("Error while disposing metadata handler",c)}),a.l=null);a.j&&(a.j.destroy(),a.j=null);a.f=null})};_.u.getDrmInfo=function(){return this.o?this.o.getDrmInfo():null};
_.u.getTrackManager=function(){return this.yd};
_.u.load=function(a){var b=this,c,d,e,f,g;return _.I(function(h){switch(h.a){case 1:if(b.w)return h["return"](pq());if(!b.getSurface()||!b.getSurface().getMedia())return h["return"](Promise.reject("No surface or no media element in surface"));c=_.N;d=b.C.getMedia();b.I=Date.now()/1E3;b.f=new _.Qp;b.h.on(b,_.fg,function(){b.f&&_.Lp(b.f.a,b.getState())});eq(b.j,_.gq);b.Z=_.mq(a);b.configuration=_.Em(b.Ha,a);b.log.debug(_.qb,b.configuration);b.log.debug(_.Ib,b.Z);e=_.Jp(b.configuration,[_.xe,"native"]);
b.U=e.create(b);b.U.setTextVisibility(!0);b.configuration.enableHtmlCue&&_.Im(_.mg)&&!_.Hl()&&(b.A=new Pi(b),b.A.start(d));b.l?b.l.release():b.l=new bi(b);d.textTracks&&di(b.l,d.textTracks);f=b.getTrackManager();f.load();d.loop=!!b.configuration.loop;c.R(b.configuration.volume)||b.setVolume(b.configuration.volume);c.R(b.configuration.muted)||b.setMuted(b.configuration.muted);b.h.one(d,kd,function(){b.trigger(new _.L(_.$v))});null==b.configuration.startTime&&xq(b,d);_.Fl()&&yq(b,d);_.D(h,2);return _.y(h,
rq(b,d),4);case 4:return _.y(h,uq(b),5);case 5:return _.y(h,wq(b).T,6);case 6:_.sh(h,0);break;case 2:g=_.F(h),b.H=!1,b.onError(g),_.B(h)}})};_.u.onError=function(a){this.H||(a.severity===_.P&&null!==this.j&&eq(this.j,_.fq),this.trigger(new _.L(_.qe,{detail:a})))};_.u.Dh=function(){return new am};_.u.getState=function(){return null!==this.j?this.j.getState().currentState:_.Wp};
_.u.getPresentationStartTime=function(){if(this.a&&this.a.getStartDate&&this.isLive()){var a=this.a.getStartDate();return isNaN(a.getTime())?null:a.getTime()/1E3}return null};_.u.getSeekRange=function(){var a=this.getSurface().getMedia();if(a&&a.src){a=a.seekable;if(a.length)return this.G=a={start:a.start(0),end:a.end(a.length-1)};if(this.G)return this.G}return{start:0,end:0}};_.u.isLive=function(){return this.a&&this.a.src?Infinity===this.a.duration:!1};
_.u.getStats=function(){if(!this.f||!this.a)return _.Rp();this.f&&_.Lp(this.f.a,this.getState());var a=this.a,b=this.f,c=a.videoHeight;b.w=a.videoWidth;b.h=c;a.getVideoPlaybackQuality&&(a=a.getVideoPlaybackQuality(),b=this.f,c=Number(a.totalVideoFrames),b.l=Number(a.droppedVideoFrames),b.j=c,this.f.C=Number(a.corruptedVideoFrames));if(a=this.getTrackManager())if(a=a.ka())a.bandwidth&&(this.f.o=a.bandwidth),a.xd&&(this.f.f=a.xd);return this.f.getStats()};
_.u.getTimelineCues=function(){return this.l?this.l.getTimelineCues():[]};_.u.getCueTimeline=function(){return null};zq.prototype.a=function(){return Cd};zq.prototype.canPlay=function(a,b){var c=a.type||"",d=c===_.Sc,e=c===_.Xc,f=c===_.gm;return _.El()||d||e||f&&!_.Fl()?0:""!==Kl().canPlayType(c)?f&&_.Fl()&&(window.ManagedMediaSource||window.MediaSource&&MediaSource.isTypeSupported)&&!b.streaming.preferNativeHlsOnSafari?1:2:0};zq.prototype.f=function(a){return a===_.na};zq.prototype.create=function(){return new oq};
_.Rh(new zq);_.J("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2});_.J("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1,SERVER_GUIDED:2});_.J("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var Bq=new _.K("clpp.ads"),Aq=[];_.u=Eq.prototype;_.u.load=function(){};_.u.start=function(){};_.u.Vc=function(){};_.u.resume=function(){};_.u.pause=function(){};_.u.skip=function(){};_.u.getVolume=function(){};_.u.setVolume=function(){};_.u.getPosition=function(){};_.u.sc=function(){};_.u.Sc=function(){};_.J("clpp.ads.IAdsManager",Eq);Eq.prototype.getPosition=Eq.prototype.getPosition;Eq.prototype.setVolume=Eq.prototype.setVolume;Eq.prototype.getVolume=Eq.prototype.getVolume;Eq.prototype.skip=Eq.prototype.skip;
Eq.prototype.pause=Eq.prototype.pause;Eq.prototype.resume=Eq.prototype.resume;_.u=Fq.prototype;_.u.ob=function(){};_.u.pb=function(){};_.u.sb=function(){};_.u.getId=function(){};_.u.getCreativeId=function(){};_.u.Sb=function(){};_.u.getApiFramework=function(){};_.u.getAdSystem=function(){};_.u.getAdvertiserName=function(){};_.u.getTitle=function(){};_.u.getDuration=function(){};_.u.getPosition=function(){};_.u.getSkipTimeOffset=function(){};_.u.Wb=function(){};_.u.qb=function(){};_.u.getMediaUrl=function(){};_.u.fb=function(){};_.u.eb=function(){};_.u.Qa=function(){};
_.u.Ra=function(){};_.u.getPodIndex=function(){};_.u.Fb=function(){};_.u.Gb=function(){};_.u.gb=function(){};_.u.getWrapperAdIds=function(){};_.u.getWrapperAdSystems=function(){};_.u.getWrapperCreativeIds=function(){};_.u.Vb=function(){};_.J("clpp.ads.IAd",Fq);Fq.prototype.getVideoElement=Fq.prototype.Vb;Fq.prototype.getWrapperCreativeIds=Fq.prototype.getWrapperCreativeIds;Fq.prototype.getWrapperAdSystems=Fq.prototype.getWrapperAdSystems;Fq.prototype.getWrapperAdIds=Fq.prototype.getWrapperAdIds;
Fq.prototype.getSequenceLength=Fq.prototype.gb;Fq.prototype.getPositionInSequence=Fq.prototype.Gb;Fq.prototype.getPodTimeOffset=Fq.prototype.Fb;Fq.prototype.getPodIndex=Fq.prototype.getPodIndex;Fq.prototype.getPodType=Fq.prototype.Ra;Fq.prototype.getMediaBitrate=Fq.prototype.Qa;Fq.prototype.getMediaHeight=Fq.prototype.eb;Fq.prototype.getMediaWidth=Fq.prototype.fb;Fq.prototype.getMediaUrl=Fq.prototype.getMediaUrl;Fq.prototype.getClickThroughUrl=Fq.prototype.qb;Fq.prototype.isBumper=Fq.prototype.Wb;
Fq.prototype.getSkipTimeOffset=Fq.prototype.getSkipTimeOffset;Fq.prototype.getPosition=Fq.prototype.getPosition;Fq.prototype.getDuration=Fq.prototype.getDuration;Fq.prototype.getTitle=Fq.prototype.getTitle;Fq.prototype.getAdvertiserName=Fq.prototype.getAdvertiserName;Fq.prototype.getAdSystem=Fq.prototype.getAdSystem;Fq.prototype.getApiFramework=Fq.prototype.getApiFramework;Fq.prototype.getSourceId=Fq.prototype.Sb;Fq.prototype.getCreativeId=Fq.prototype.getCreativeId;Fq.prototype.getId=Fq.prototype.getId;
Fq.prototype.getTechnology=Fq.prototype.sb;Fq.prototype.getAdManagerVersion=Fq.prototype.pb;Fq.prototype.getAdManagerName=Fq.prototype.ob;_.u=Gq.prototype;_.u.ob=function(){return""};_.u.pb=function(){return""};_.u.sb=function(){return 2};_.u.getId=function(){return this.A};_.u.getCreativeId=function(){return""};_.u.Sb=function(){return this.C};_.u.getApiFramework=function(){return null};_.u.getAdSystem=function(){return""};_.u.getAdvertiserName=function(){return""};_.u.getTitle=function(){return""};_.u.getDuration=function(){return this.h};_.u.getPosition=function(){return this.j};_.u.getSkipTimeOffset=function(){return-1};
_.u.Wb=function(){return!1};_.u.qb=function(){return null};_.u.getMediaUrl=function(){return null};_.u.fb=function(){return 0};_.u.eb=function(){return 0};_.u.Qa=function(){return 0};_.u.Ra=function(){return this.B};_.u.getPodIndex=function(){return 0};_.u.Fb=function(){return 0};_.u.Gb=function(){return this.a};_.u.gb=function(){return this.f};_.u.getWrapperAdIds=function(){return[]};_.u.getWrapperAdSystems=function(){return[]};_.u.getWrapperCreativeIds=function(){return[]};_.u.Vb=function(){return this.videoEl};
Gq.prototype.getVideoElement=Gq.prototype.Vb;Gq.prototype.getWrapperCreativeIds=Gq.prototype.getWrapperCreativeIds;Gq.prototype.getWrapperAdSystems=Gq.prototype.getWrapperAdSystems;Gq.prototype.getWrapperAdIds=Gq.prototype.getWrapperAdIds;Gq.prototype.getSequenceLength=Gq.prototype.gb;Gq.prototype.getPositionInSequence=Gq.prototype.Gb;Gq.prototype.getPodTimeOffset=Gq.prototype.Fb;Gq.prototype.getPodIndex=Gq.prototype.getPodIndex;Gq.prototype.getPodType=Gq.prototype.Ra;
Gq.prototype.getMediaBitrate=Gq.prototype.Qa;Gq.prototype.getMediaHeight=Gq.prototype.eb;Gq.prototype.getMediaWidth=Gq.prototype.fb;Gq.prototype.getMediaUrl=Gq.prototype.getMediaUrl;Gq.prototype.getClickThroughUrl=Gq.prototype.qb;Gq.prototype.isBumper=Gq.prototype.Wb;Gq.prototype.getSkipTimeOffset=Gq.prototype.getSkipTimeOffset;Gq.prototype.getPosition=Gq.prototype.getPosition;Gq.prototype.getDuration=Gq.prototype.getDuration;Gq.prototype.getTitle=Gq.prototype.getTitle;
Gq.prototype.getAdvertiserName=Gq.prototype.getAdvertiserName;Gq.prototype.getAdSystem=Gq.prototype.getAdSystem;Gq.prototype.getApiFramework=Gq.prototype.getApiFramework;Gq.prototype.getSourceId=Gq.prototype.Sb;Gq.prototype.getCreativeId=Gq.prototype.getCreativeId;Gq.prototype.getId=Gq.prototype.getId;Gq.prototype.getTechnology=Gq.prototype.sb;Gq.prototype.getAdManagerVersion=Gq.prototype.pb;Gq.prototype.getAdManagerName=Gq.prototype.ob;Hq.prototype.has=function(){return this.a.some(function(a){return a.Be})};Hq.prototype.get=function(){var a=this,b;return _.I(function(c){if(1==c.a){b=a.a.find(function(d){return d.Be});if(!b)throw Error("No available players in the pool");b.Be=!1;return _.y(c,b.ready,2)}return c["return"](b.player)})};
Hq.prototype.release=function(a){var b=this,c=this.a.find(function(d){return d.player===a});if(!c)return Promise.resolve();c.Be=!0;c.ready=new Promise(function(d){a.release()["catch"](function(e){b.g.error("Failed to unload player",e)}).then(d)});return c.ready};Hq.prototype.destroy=function(){var a=this;return _.I(function(b){return _.y(b,Promise.all(a.a.map(function(c){return c.player.destroy()})),0)})};_.J("clpp.utils.dom.createHTMLElement",_.Lq);Mq.prototype.set=function(a){this.h.clear();this.f&&(this.f.disconnect(),this.f=null);if(this.a=a)this.f=Oq(this,a)};Mq.prototype.get=function(){return this.a};_.u=Sq.prototype;_.u.getMedia=function(){return this.f.get()};_.u.getContainer=function(){return this.a.get()};_.u.getSafeContainer=function(){return this.a};_.u.getId=function(){return this.l};_.u.getUniqueCssClass=function(){return this.o};_.u.getCastElement=function(){return this.h};_.u.isFullscreen=function(){return!!document.fullscreenElement};_.u.hideMediaElement=function(){var a=this.getMedia();a?_.Jq(a,wd):this.g.debug("No media element available that could be hidden")};
_.u.showMediaElement=function(){var a=this.getMedia();a?a.classList.remove(wd):this.g.debug("No media element available that could be shown")};_.u.addElementToContainer=function(a,b,c){b=void 0===b?!1:b;c=void 0===c?!1:c;var d=this.getContainer();if(!d)throw Error("No container is available. Unable to add element");b&&_.Jq(a,_.vd);c?d.insertBefore(a,d.firstElementChild):d.appendChild(a)};
_.u.removeElementFromContainer=function(a){var b=this.getContainer();if(!b)throw Error("No container is available. Unable to remove element");b.removeChild(a)};_.u.hide=function(a){_.Jq(a,wd)};_.u.show=function(a){a.classList.remove(wd)};_.u.release=function(){this.j.release()};Sq.prototype.removeElementFromContainer=Sq.prototype.removeElementFromContainer;Sq.prototype.addElementToContainer=Sq.prototype.addElementToContainer;Sq.prototype.getCastElement=Sq.prototype.getCastElement;
Sq.prototype.getContainer=Sq.prototype.getContainer;Sq.prototype.getMedia=Sq.prototype.getMedia;var Pq={disableContainer:!1,webOSStartupPatch:!0,crossorigin:"anonymous",containerEl:null},Qq=1;_.u=Xq.prototype;_.u.getCurrentItem=function(){return this.a};_.u.Le=function(){return this.a?this.a.player:null};_.u.Uh=function(){return Array.from(this.l.values())};_.u.$d=function(){return 0<this.l.size};_.u.play=function(a){return lr(this,a,_.mf)};_.u.load=function(a){return lr(this,a,_.He)};_.u.release=function(){var a=this;return _.I(function(b){if(1==b.a)return _.y(b,Promise.all([jr(a),a.a?ir(a,a.a):Promise.resolve()]),2);a.a=null;a.A=!1;ar(a);_.B(b)})};
_.u.destroy=function(){var a=this;return _.I(function(b){if(1==b.a)return a.g.info("Destroy"),_.y(b,a.release(),2);if(3!=b.a)return _.y(b,a.o.destroy(),3);xr(a);_.B(b)})};var sr="preload",ur=_.Me;_.x(Dr,_.wm);Dr.prototype.destroy=function(){var a=this;return _.I(function(b){Or(a);a.f=[];a.o=!1;a.j.setSeekInterceptor(null);return _.y(b,a.a.destroy(),0)})};Dr.prototype.Ib=function(){return this.o};Dr.prototype.isLive=function(){var a=this.a.Le();return a?a.isLive():null};Dr.prototype.Ua=function(a){this.j.trigger(a)};var zr=0,Ur=1,Wr=2,Xr=3,$r=4,as=5,Ar=6;_.u=cs.prototype;_.u.load=function(){return Promise.resolve()};_.u.start=function(){return Promise.resolve()};_.u.Vc=function(a,b,c){var d=a.getConfiguration();a=Object.assign({},{config:d,player:a,Ca:b},d.ads.hls||{},{xn:c});this.a=new Dr(a);Gr(this.a)};_.u.resume=function(){var a=Er(this.a);a&&a.play()};_.u.pause=function(){var a=Er(this.a);a&&a.pause()};_.u.skip=function(){};_.u.getVolume=function(){var a=Er(this.a);return a?a.getVolume()||0:0};_.u.setVolume=function(a){var b=Er(this.a);if(b)return b.setVolume(a)};
_.u.getPosition=function(){var a=Er(this.a);return a?a.getPosition():-1};_.u.Sc=function(){return!this.a.Ib()};_.u.sc=function(){return this.a.destroy()};cs.prototype.getPosition=cs.prototype.getPosition;cs.prototype.setVolume=cs.prototype.setVolume;cs.prototype.getVolume=cs.prototype.getVolume;cs.prototype.skip=cs.prototype.skip;cs.prototype.pause=cs.prototype.pause;cs.prototype.resume=cs.prototype.resume;fs.prototype.release=function(){this.a.release();js(this);this.m=null};_.J("clpp.polyfill.installAll",ms);var ls=[];_.J("clpp.polyfill.register",_.ns);var qs={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},Am="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g";var Fs="vod",Es="live";var Ns,Ls,Ms;Is.prototype.release=function(){this.a=null;this.f.me(this.h)};_.lw="maxSuggestedBitrateKbps";Ns={du:"duress",etp:_.re,mb:_.lw,rd:"responseDelay",rtt:"roundTripTime"};Ls={at:"availabilityTime",br:"encodedBitrateKbps",ht:"heldTime",n:"intermediaryIdentifier",nor:"nextObjectResponse",nrr:"nextRangeResponse",d:"objectDuration",ot:"objectType",su:"startup",st:"streamType",sf:"streamingFormat",v:Dg};Ms=new _.K("clpp.net.CmsdManager");_.x(X,_.wm);_.u=X.prototype;_.u.on=function(a,b,c){return _.wm.prototype.on.call(this,a,b,c)};_.u.one=function(a,b,c){return _.wm.prototype.one.call(this,a,b,c)};_.u.off=function(a,b){return _.wm.prototype.off.call(this,a,b)};_.u.onError=function(a){if(null!==this.a)this.a.onError(a);else this.trigger(new _.L(_.qe,{detail:a}))};_.u.Wd=function(a){a=this.L[a];void 0===a&&(a=null);return a};_.u.getSurface=function(){return this.j};_.u.getConfiguration=function(){return _.N.cb(this.f)};
_.u.getDrmInfo=function(){return this.a?this.a.getDrmInfo():null};_.u.detach=function(){return this.a?this.a.detach():Promise.resolve()};_.u.release=function(){var a=this;if(null!=this.l)return this.g.info("Player release already in progress"),this.l;this.g.debug("Releasing player");this.l=Us(this);return this.l["finally"](function(){dt(a);a.g.debug("Player released");a.l=null})};
_.u.destroy=function(){var a=this;if(this.U)return this.g.debug("The player is already destroyed. No-op"),new Promise(function(b){return b()});this.U=!0;return this.release().then(function(){a.g.debug(Fa);a.trigger(new _.L("destroying"));return a.Cc(_.af)}).then(function(){a.a&&a.a.stopForwardingEventsTo(a);a.Qd.clear();a.bb.release();if(a.a)return a.a.destroy()}).then(function(){return a.J.destroy()}).then(function(){Qm();a.a=null;a.A=null;a.trigger(new _.L("destroyed"))})};
_.u.load=function(a){var b=this,c,d,e;return _.I(function(f){switch(f.a){case 1:_.D(f,2);_.Bo(uf);b.P=_.na;b.ga=!0;c=_.mq(a);d=Fm(a)?a:{};if(d.license)throw new _.O(_.P,7,7100,"License cannot be passed into the load method.");return _.y(f,_.bt(b,d,c),4);case 4:return _.y(f,_.ct(b),5);case 5:return _.y(f,_.Xs(b),6);case 6:_.Bo(tf);_.Co("player.load",uf,tf);_.sh(f,0);break;case 2:e=_.F(f);dt(b);if(b.l)throw b.g.info(pb),new _.O(_.P,7,7E3);throw e;}})};
_.u.preload=function(a){var b=this,c;return _.I(function(d){if(1==d.a)return _.y(d,_.bt(b,a),2);if(!b.a)return b.g.warn(Hb),d["return"]();c=b.a;return c.preload?_.y(d,c.preload(b.f),0):(b.g.warn(Mb),d["return"]())})};_.u.Cc=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!this.ga)return Promise.resolve();var e=this;d=this.fa.map(function(f){var g=f[a];return g.call.apply(g,[f,e].concat(_.eh(c)))}).filter(function(f){return f instanceof Promise});return Promise.all(d)};
_.u.use=function(a){(a=Rm(a))&&a.o(this)};_.u.remove=function(a){return(this.getState()<=_.Vp||this.Y)&&null!==Lm(a)?(Sm(a),this.aa=!0):!1};_.u.play=function(){return this.a?!this.h||this.h instanceof cs||this.a.namespace()===_.zd?this.a.play():this.h.start(this.a):Promise.reject("No player initialized. You need to load content before calling play.")};_.u.pause=function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")};
_.u.getTrackManager=function(){return this.a&&this.a.getTrackManager()};_.u.getBufferInfo=function(a){return this.a?this.a.getBufferInfo(a):new _.vm};_.u.getState=function(){return this.a?this.a.getState():_.Vp};_.u.getPeriods=function(){return this.a?this.a.getPeriods():[]};_.u.isEnded=function(){return this.a&&this.a.isEnded()||!1};_.u.isPaused=function(){return this.a&&this.a.isPaused()||!1};_.u.getPosition=function(){return this.a?this.a.getPosition():0};
_.u.seek=function(a){return this.getState()===_.fq?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(a):Promise.reject("delegate does not exist")};_.u.getPresentationStartTime=function(){return this.a?this.a.getPresentationStartTime():null};_.u.getSeekRange=function(){return this.a?this.a.getSeekRange():{start:0,end:0}};_.u.xc=function(){var a=this.a;return a&&a.xc?a.xc():null};_.u.getVolume=function(){return this.a?this.a.getVolume():null};_.u.setVolume=function(a){this.a&&this.a.setVolume(a)};
_.u.getDuration=function(){return this.a?this.a.getDuration():-1};_.u.getAdsManager=function(){return this.h};_.u.namespace=function(){return this.a&&this.a.namespace()||"Undefined"};_.u.getPlaybackRate=function(){return this.a?this.a.getPlaybackRate():1};_.u.setPlaybackRate=function(a,b){this.a&&this.a.setPlaybackRate(a,b)};_.u.isMuted=function(){return this.a&&this.a.isMuted()||!1};_.u.setMuted=function(a){this.a&&this.a.setMuted(a)};_.u.getNetworkEngine=function(){return this.J};
_.u.setNetworkEngine=function(a){this.J=a};_.u.getTextDisplayer=function(){return this.a&&this.a.getTextDisplayer()};_.u.isLive=function(){return!!this.a&&this.a.isLive()};_.u.getStats=function(){return this.a?this.a.getStats():null};_.u.$h=function(){return Object.freeze(this.Ha)};_.u.getLoadedSource=function(){return this.a&&this.a.getLoadedSource()};_.u.getTimelineCues=function(){return this.a?this.a.getTimelineCues():[]};_.u.getCueTimeline=function(){return this.a?this.a.getCueTimeline():null};
_.u.resetAbr=function(){this.a&&this.a.resetAbr()};_.u.setDrmCustomDataModifier=function(a){this.bd=a;$s(this)};_.u.setCdnErrorCallback=function(a){this.M=a;this.a&&this.a.setCdnErrorCallback(this.M)};_.u.zi=function(){this.Mf=!0};_.J("clpp.Player",X);X.registerPlugin=_.gt;X.prototype.setCdnErrorCallback=X.prototype.setCdnErrorCallback;X.prototype.setDrmCustomDataModifier=X.prototype.setDrmCustomDataModifier;X.prototype.resetAbr=X.prototype.resetAbr;X.prototype.getTimelineCues=X.prototype.getTimelineCues;
X.prototype.getLoadedSource=X.prototype.getLoadedSource;X.prototype.getSources=X.prototype.$h;X.prototype.getStats=X.prototype.getStats;X.prototype.isLive=X.prototype.isLive;X.prototype.getTextDisplayer=X.prototype.getTextDisplayer;X.prototype.setNetworkEngine=X.prototype.setNetworkEngine;X.prototype.getNetworkEngine=X.prototype.getNetworkEngine;X.prototype.setMuted=X.prototype.setMuted;X.prototype.isMuted=X.prototype.isMuted;X.prototype.setPlaybackRate=X.prototype.setPlaybackRate;
X.prototype.getPlaybackRate=X.prototype.getPlaybackRate;X.prototype.namespace=X.prototype.namespace;X.prototype.getAdsManager=X.prototype.getAdsManager;X.prototype.getDuration=X.prototype.getDuration;X.prototype.setVolume=X.prototype.setVolume;X.prototype.getVolume=X.prototype.getVolume;X.prototype.getTimelineOffset=X.prototype.xc;X.prototype.getSeekRange=X.prototype.getSeekRange;X.prototype.getPresentationStartTime=X.prototype.getPresentationStartTime;X.prototype.seek=X.prototype.seek;
X.prototype.getPosition=X.prototype.getPosition;X.prototype.isPaused=X.prototype.isPaused;X.prototype.isEnded=X.prototype.isEnded;X.prototype.getState=X.prototype.getState;X.prototype.getBufferInfo=X.prototype.getBufferInfo;X.prototype.getTrackManager=X.prototype.getTrackManager;X.prototype.pause=X.prototype.pause;X.prototype.play=X.prototype.play;X.prototype.remove=X.prototype.remove;X.prototype.use=X.prototype.use;X.prototype.load=X.prototype.load;X.prototype.destroy=X.prototype.destroy;
X.prototype.release=X.prototype.release;X.prototype.getDrmInfo=X.prototype.getDrmInfo;X.prototype.getConfiguration=X.prototype.getConfiguration;X.prototype.getSurface=X.prototype.getSurface;X.prototype.getPlugin=X.prototype.Wd;X.prototype.off=X.prototype.off;X.prototype.one=X.prototype.one;X.prototype.on=X.prototype.on;_.Vp=0;_.gq=1;_.$p=2;_.iq=3;_.hq=4;_.bq=5;_.fq=6;_.Wp=7;_.dq={IDLE:_.Vp,PREPARING:_.gq,BUFFERING:_.$p,PLAYING:_.iq,PAUSED:_.hq,ENDED:_.bq,ERROR:_.fq,UNSET:_.Wp};X.State=_.dq;
var Qs=[];_.x(ht,X);_.u=ht.prototype;
_.u.open=function(a,b){var c=this,d,e,f,g,h,l,m;return _.I(function(n){if(1==n.a){if(c.w)throw new _.O(_.P,7,7008,"Cannot call open() while "+c.w+ea);if(0!==a)throw new _.O(_.P,7,7007,"The index parameter only supports the value of 0.");if(0===b.length)throw new _.O(_.P,7,7003,yb);if(b.some(function(p){return!p.id||!p.source}))throw new _.O(_.P,7,7100,"Some config is missing required properties `id` or `source`!");d=new Set(b.map(function(p){return p.id}));if(d.size!==b.length)throw new _.O(_.P,7,
7100,"Some config contains a non-unique property `id`!");if(e=b[0].playlist){f=e.timeline;g=["flat","basic"];if(f&&!g.includes(f))throw new _.O(_.P,7,7100,"Unsupported `playlist.timeline` config value!");h=e.startTime;if(null!=h&&(typeof h!==_.k||0>h))throw new _.O(_.P,7,7100,"Invalid `playlist.startTime` config value!");l=e.endTime;if(null!=l&&(typeof l!==_.k||0>l||null!=h&&l<=h))throw new _.O(_.P,7,7100,"Invalid `playlist.endTime` config value!");m=e.content;if("DVR"===m&&!l)throw new _.O(_.P,7,
7100,"`playlist.endTime` config value is required for DVR content!");}_.rh(n);it(c);c.w="open";return _.y(n,mt(c,b),4)}2!=n.a&&(c.I=0,c.o=b,c.ba=!0,jt(c,b[0].playlist||{}));_.th(n);c.w=null;return _.uh(n)})};
_.u.uj=function(a){var b=this,c;return _.I(function(d){if(1==d.a){if(b.w)throw new _.O(_.P,7,7008,"Cannot call addItem() while "+b.w+ea);if(!b.ba)throw new _.O(_.P,7,7008,"open() must be called before addItem()!");if(!a.id||!a.source)throw new _.O(_.P,7,7100,"The config is missing required properties `id` or `source`!");c=new Set(b.o.map(function(e){return e.id}));if(c.has(a.id))throw new _.O(_.P,7,7100,"A config with this `id` already exists in the playlist!");_.rh(d);b.w="addItem";b.o.push(a);return _.y(d,
nt(b,a),2)}_.th(d);b.w=null;return _.uh(d)})};_.u.getCurrentItem=function(){return this.o[this.I]||null};_.u.getCurrentItemIndex=function(){return this.I};_.u.Kl=function(){return _.eh(this.o).concat()};_.u.Xd=function(){return this.o.length};_.u.getTimeline=function(){return this.a?this.a.getTimeline():null};_.u.seekWith=function(a){return this.a?this.a.seekWith(a):Promise.resolve()};_.u.release=function(){this.o=[];this.I=0;this.ba=!1;return X.prototype.release.call(this)};
_.u.destroy=function(){it(this);return X.prototype.destroy.call(this)};_.u.setCdnErrorCallback=function(){throw new _.O(1,7,7009,"CDN switching is not supported!");};_.J("clpp.plist.ScPlaylist",ht);ht.prototype.setCdnErrorCallback=ht.prototype.setCdnErrorCallback;ht.prototype.destroy=ht.prototype.destroy;ht.prototype.release=ht.prototype.release;ht.prototype.seekWith=ht.prototype.seekWith;ht.prototype.getTimeline=ht.prototype.getTimeline;ht.prototype.getSize=ht.prototype.Xd;
ht.prototype.getPlaylist=ht.prototype.Kl;ht.prototype.getCurrentItemIndex=ht.prototype.getCurrentItemIndex;ht.prototype.getCurrentItem=ht.prototype.getCurrentItem;ht.prototype.addItem=ht.prototype.uj;ht.prototype.open=ht.prototype.open;_.x(qt,_.wm);_.u=qt.prototype;_.u.Vd=function(){return this.f};_.u.Le=function(){return this.f?this.f.player:null};_.u.Sh=function(){return this.o.get(this.a+1)||null};_.u.Vh=function(){return this.o.get(this.a-1)||null};_.u.Uh=function(){return[this.Vh(),this.Sh()].filter(Boolean)};_.u.Rn=function(a){if(0<this.j.length)throw Error("Cannot re-set items in the playlist");this.g.info("Set items",a);this.j=a.map(function(b,c){return{config:b,index:c,preloadPromise:Promise.resolve(),disposers:[]}})};
_.u.Qn=function(a){if(0===this.j.length)throw Error(xb);if(0>a||a>this.j.length-1)throw Error("Index out of bounds");this.a=a};_.u.$d=function(){return this.a<this.j.length-1};_.u.bi=function(){return 0<this.a};
_.u.vn=function(){var a=this,b,c;return _.I(function(d){switch(d.a){case 1:if(a.l)return a.g.warn("Cannot play first item while busy"),d["return"]();if(0===a.j.length)return a.g.warn(xb),d["return"]();a.l=!0;a.g.info("First (index: "+a.a+")");b=a.j[a.a];_.D(d,2,3);a.g.info("First loading (index: "+a.a+")");return _.y(d,yt(a,b),5);case 5:a.g.info("First playing (index: "+a.a+")");case 3:_.th(d);a.l=!1;Dt(a);_.uh(d);break;case 2:throw c=_.F(d),a.g.error("First failed (index: "+a.a+")"),c;}})};
_.u.Ri=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play next item while busy"),e["return"]();if(!a.$d())return a.g.warn("There are no more items in the playlist"),e["return"]();a.l=!0;a.a+=1;a.g.info("Next (index: "+a.a+")");b=a.f;a.h.transition===_.hf&&b.player.pause();rt(a,a.a+-2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Next loading (index: "+a.a+")");return _.y(e,zt(a,c),5);case 5:a.g.info("Next playing (index: "+a.a+")");case 3:_.th(e);
a.l=!1;b&&vt(a,b);Dt(a);_.uh(e);break;case 2:throw d=_.F(e),a.g.error("Next failed (index: "+a.a+")"),d;}})};
_.u.wn=function(){var a=this,b,c,d;return _.I(function(e){switch(e.a){case 1:if(a.l)return a.g.warn("Cannot play previous item while busy"),e["return"]();if(!a.bi())return a.g.warn("There are no more previous items in the playlist"),e["return"]();a.l=!0;--a.a;a.g.info("Previous (index: "+a.a+")");b=a.f;a.h.transition===_.hf&&b.player.pause();rt(a,a.a+2);a.o["delete"](a.a);c=a.j[a.a];_.D(e,2,3);a.g.info("Previous loading (index: "+a.a+")");return _.y(e,zt(a,c),5);case 5:a.g.info("Previous playing (index: "+
a.a+")");case 3:_.th(e);a.l=!1;b&&vt(a,b);Dt(a);_.uh(e);break;case 2:throw d=_.F(e),a.g.error("Previous failed (index: "+a.a+")"),d;}})};_.u.destroy=function(){var a=this;return _.I(function(b){return 1==b.a?(a.g.info("Destroy"),_.y(b,Promise.all([st(a),a.f?vt(a,a.f):Promise.resolve()]),2)):_.y(b,Et(a),0)})};_.J(Dd,qt);qt.prototype.destroy=qt.prototype.destroy;qt.prototype.playPrev=qt.prototype.wn;qt.prototype.playNext=qt.prototype.Ri;qt.prototype.playFirst=qt.prototype.vn;qt.prototype.hasPrev=qt.prototype.bi;
qt.prototype.hasNext=qt.prototype.$d;qt.prototype.setIndex=qt.prototype.Qn;qt.prototype.setItems=qt.prototype.Rn;qt.prototype.getPreloading=qt.prototype.Uh;qt.prototype.getPrev=qt.prototype.Vh;qt.prototype.getNext=qt.prototype.Sh;qt.prototype.getCurrentPlayer=qt.prototype.Le;qt.prototype.getCurrent=qt.prototype.Vd;var ut="preload",wt=_.Me;var Ft=new Map;_.u=Ht.prototype;_.u.destroy=function(){this.a.dispose();this.a=null};_.u.reset=function(){this.a=new muxjs.mp4.Transmuxer(this.f)};_.u.isSupported=function(a,b){var c="mp2t"===a.toLowerCase().split(";")[0].split("/")[1],d=a.toLowerCase().split(";")[0]===_.$c;if(!window.muxjs||!c&&!d)return!1;if(d)return _.Gt(dd);if(b)return _.Gt(It(b,a));c=It(_.Zc,a);d=It(_.r,a);return _.Gt(c)||_.Gt(d)};_.u.isMuxed=function(a,b){return 1<this.demuxMimeTypes(a,b).size};
_.u.demuxMimeTypes=function(a,b){var c=new Map;c.set(a,b);try{var d=_.tl(b),e=_.ul(b).split(","),f=new Map,g=kj(_.Zc,e),h=kj(_.r,e);g&&f.set(_.Zc,this.convertCodecs(_.Zc,_.sl(d,g)));h&&f.set(_.r,this.convertCodecs(_.r,_.sl(d,h)));return f}catch(l){return c}};_.u.convertCodecs=function(a,b){return b.toLowerCase().split(";")[0]===_.$c?dd:"mp2t"===b.toLowerCase().split(";")[0].split("/")[1]?It(a,b):b};_.u.getOriginalMimeType=function(){return this.h};
_.u.transmux=function(a){function b(){g={video:Vj.apply(Oj,_.eh(d)),captions:f,audio:Vj.apply(Oj,_.eh(e))}}function c(h){f=h.captions;var l=new Uint8Array(h.data.byteLength+h.initSegment.byteLength);l.set(h.initSegment,0);l.set(h.data,h.initSegment.byteLength);h.type===mw?d.push(l):h.type===nw&&e.push(l)}var d=[],e=[],f=[],g=null;a=_.Fj(a);this.a.on("data",c);this.a.on("done",b);this.a.push(a);this.a.flush();this.a.off("data",c);this.a.off("done",b);if(!g)throw new _.O(_.P,3,3018);return g};
nl(_.$c,function(){return new Ht(_.$c)});nl(_.Ig,function(){return new Ht(_.Ig)});var nw=_.Zc,mw=_.r;Jt.prototype.getCuePoints=function(){};Jt.prototype.Ib=function(){};Jt.prototype.Hb=function(){};_.J("clpp.ads.IAdsTimeline",Jt);Jt.prototype.hasPostroll=Jt.prototype.Hb;Jt.prototype.hasPreroll=Jt.prototype.Ib;Jt.prototype.getCuePoints=Jt.prototype.getCuePoints;_.Kt.prototype.f=function(){};_.Kt.prototype.a=function(){};_.Kt.prototype.h=function(){};_.Kt.prototype.o=function(){};_.u=Lt.prototype;_.u.Ee=function(a){this.a=a};_.u.Ed=function(a){return this.a?this.a.setMediaKeys(a):Promise.reject(tb)};_.u.Ne=function(){return this.a&&this.a.mediaKeys};
_.u.Pb=function(a,b){var c=this;this.g.info("Requesting media key system access for",a,b.map(function(d){return Object.assign({},d,{drmInfos:d.drmInfos.map(function(){return"_anonymous_"})})}));return navigator.requestMediaKeySystemAccess(a,b)["catch"](function(d){c.g.info("Failed to request media key system access for "+(a+"."),d);return Promise.reject(d)})};_.u.Dd=function(){return Qb};Mt.prototype.a=function(){return Qb};
Mt.prototype.f=function(){return!!(window.MediaKeys&&navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)};Mt.prototype.create=function(){return new Lt};co(new Mt,3);_.u=Nt.prototype;_.u.getStatus=function(){return this.a};_.u.forEach=function(a){this.a&&a(this.a,ow.value())};_.u.get=function(a){if(this.has(a))return this.a};_.u.has=function(a){var b=ow.value();return this.a&&Hj(a,b)?!0:!1};_.u.entries=function(){};_.u.keys=function(){};_.u.values=function(){};var ow=new _.Sp(function(){return Nj(new Uint8Array([0]))});_.u=Pt.prototype;_.u.Ee=function(){};_.u.Ed=function(a){_.Mh("NopEmeManager.setMediaKeys");return null===a?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))};_.u.Ne=function(){return null};_.u.Pb=function(){_.Mh("NopEmeManager.requestMediaKeySystemAccess");return Promise.reject(Error("The key system specified is not supported."))};_.u.Dd=function(){return"NOP"};Qt.prototype.a=function(){return"NOP"};Qt.prototype.f=function(){return!0};Qt.prototype.create=function(){return new Pt};
co(new Qt,0);_.u=Rt.prototype;_.u.Ee=function(a){this.f=a};_.u.Ed=function(a){var b=this.a;b&&b!==a&&Ut(b,null);return(this.a=a)?Ut(a,this.f):Promise.resolve()};_.u.Ne=function(){return this.a};_.u.Pb=function(a,b){_.Mh("AppleEmeManager.requestMediaKeySystemAccess");try{var c=new St(a,b);return Promise.resolve(c)}catch(d){return Promise.reject(d)}};_.u.Dd=function(){return"APPLE"};St.prototype.createMediaKeys=function(){var a=new Tt(this.keySystem);return Promise.resolve(a)};
St.prototype.getConfiguration=function(){_.Mh("AppleEmeManager.MediaKeySystemAccess.getConfiguration");return this.a};Tt.prototype.createSession=function(a){a=void 0===a?ng:a;this.g.debug("Creating Apple MediaKeys Session");if(a!==ng)throw new TypeError("Session type "+a+ba);return new Vt(this.h,"__session_"+this.j++)};Tt.prototype.setServerCertificate=function(){this.g.debug("AppleEmeManager.MediaKeys.setServerCertificate");return Promise.resolve(!1)};_.x(Vt,_.wm);_.u=Vt.prototype;
_.u.generateRequest=function(a,b){var c=this;if(this.l)return Promise.reject(Ub);this.g.debug("generateRequest");this.h=new _.mk;try{var d=this.o.createSession(_.Jg,_.Fj(b));this.a=d;this.sessionId=d.sessionId||this.sessionId||"";this.j.on(d,Ug,function(e){var f=c.keyStatuses.getStatus();c.g.debug("Received Key Message in "+c.sessionId);c.h&&(c.h.resolve(),c.h=null);e=new _.L(_.Pe,{messageType:void 0===f||f===gg?De:Ce,message:Nj(e.message.buffer)});c.dispatchEvent(e)});this.j.on(d,Sg,function(e){c.g.debug("onWebkitKeyAdded_",
e);c.f&&(Wt(c,"usable"),c.f.resolve(),c.f=null)});this.j.on(d,Tg,function(){var e=c.keyStatuses.getStatus();if(c.a&&c.a&&c.a.error&&c.a.error.code===WebKitMediaKeyError.MEDIA_KEYERR_DOMAIN&&e===gg)c.g.warn("Ignoring webkit key error for session "+c.sessionId);else if(c.g.error("Received key error in session "+c.sessionId+" with code "+(c.a.error.code+". Session Status ")+(e+".")),e=Error("EME AppleEmeManager key error"),e.errorCode=c.a.error,null!==c.h)c.h.reject(e),c.h=null;else if(null!==c.f)c.f.reject(e),
c.f=null;else switch(c.a.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Wt(c,"output-not-allowed");break;default:Wt(c,_.ze)}});Wt(this,gg)}catch(e){this.h.reject(e)}return this.h};_.u.load=function(){this.g.debug(_.He);return Promise.reject(Error("MediaKeySession.load not yet supported"))};_.u.update=function(a){if(this.l)return Promise.reject(Ub);this.g.debug(wg);this.f=new _.mk;try{this.a.update(_.Fj(a))}catch(b){this.f.reject(b)}return this.f};
_.u.close=function(){if(this.l)return this.closed;this.g.info("Closing Key Session "+this.sessionId);this.l=!0;try{this.a.close(),this.closed.resolve(),_.Zh(this.j)}catch(a){this.closed.reject(a)}return this.closed};_.u.remove=function(){this.g.debug("remove");return Promise.reject(Error("MediaKeySession is only applicable for persistent licenses, which are not supported on this platform"))};Xt.prototype.a=function(){return"APPLE"};Xt.prototype.f=function(){return!!window.WebKitMediaKeys};
Xt.prototype.create=function(){return new Rt};co(new Xt,2);_.u=Yt.prototype;_.u.Ee=function(a){this.a=a};_.u.Ed=function(a){_.Mh("WebkitEmeManager.setMediaKeys");if(!this.a)return Promise.reject(tb);var b=this.f;b&&b!==a&&cu(b,null);(this.f=a)&&cu(a,this.a);return Promise.resolve()};_.u.Ne=function(){return this.f};_.u.Pb=function(a,b){_.Mh("WebkitEmeManager.requestMediaKeySystemAccess");try{if(this.a)var c=this.a;else{var d=document.getElementsByTagName(_.r);c=d.length?d[0]:document.createElement(_.r)}var e=new Zt(this.h,c,a,b);return Promise.resolve(e)}catch(f){return Promise.reject(f)}};
_.u.Dd=function(){return"WEBKIT"};Zt.prototype.createMediaKeys=function(){return Promise.resolve(new $t(this.h,this.a))};Zt.prototype.getConfiguration=function(){return this.f};$t.prototype.createSession=function(a){a=void 0===a?ng:a;if(a!==ng&&a!==_.kf)throw new TypeError("Session type "+a+ba);if(!this.a)throw a=Error("Media element is missing."),a.name=lb,a.code=DOMException.INVALID_STATE_ERR,a;this.a.src||(this.a.src="about:blank");a=new du(this.h,this.a,this.o,a);this.j.push(a);return a};
$t.prototype.setServerCertificate=function(){return Promise.resolve(!1)};_.x(du,_.wm);_.u=du.prototype;_.u.ready=function(){_.Mh("WebkitEmeManager.MediaKeySession.ready");bu(this,"usable");this.a&&this.a.resolve();this.a=null};_.u.generateRequest=function(a,b){_.Mh("WebkitEmeManager.MediaKeySession.generateRequest");return fu(this,b,null)};_.u.load=function(a){_.Mh(jc);return this.l===_.kf?fu(this,null,a):Promise.reject(Error(Ab))};_.u.update=function(a){_.Mh(jc);var b=new _.mk;gu(this,b,a);return b};
_.u.close=function(){_.Mh("WebkitEmeManager.MediaKeySession.close");if(this.l!==_.kf){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var a=eu(this,"cancelKeyRequest");try{this.j[a](this.h,this.sessionId)}catch(b){}}this.closed.resolve();return this.closed};_.u.remove=function(){_.Mh("WebkitEmeManager.MediaKeySession.remove");return this.l!==_.kf?Promise.reject(Error(Ab)):this.close()};hu.prototype.a=function(){return"WEBKIT"};
hu.prototype.f=function(){return!(!HTMLMediaElement.prototype.webkitGenerateKeyRequest&&!HTMLMediaElement.prototype.generateKeyRequest)};hu.prototype.create=function(){return new Yt};co(new hu,1);_.x(iu,_.bn);iu.prototype.ke=function(a,b){for(var c=a.drm.customData.headers||{},d=_.w(Object.keys(c)),e=d.next();!e.done;e=d.next())e=e.value,b.headers[e]=c[e]};iu.prototype.Kh=function(a,b){var c=yn(b);switch(this.o){case pw:return c;case qw:return(new _.Qk(c)).a;default:throw Error("Unknown content ID strategy");}};iu.prototype.Ci=function(a,b){b.headers[wa]=Yc;this.ke(a,b);var c={spc:_.Pj(b.body)};b.body=_.T.od(_.Sk(c,!0))};
iu.prototype.Di=function(a,b){var c=_.T.$(b.data).trim(),d="\x3c/ckc\x3e"===c.substr(-6);"\x3cckc\x3e"===c.substr(0,5)&&d&&(c=c.slice(5,-6));b.data=_.Rj(c).buffer};_.J(Ad,iu);iu.prototype.onFairPlayLicenseResponse=iu.prototype.Di;iu.prototype.onFairPlayLicenseRequest=iu.prototype.Ci;iu.prototype.extractFairPlayContentId=iu.prototype.Kh;iu.prototype.onLicenseRequest=iu.prototype.ke;iu.prototype.constructor=iu.prototype.constructor;iu.NAME=eb;var qw="hostname",pw="full-skd";
iu.FairPlayContentIdStrategy={HOSTNAME:qw,FULL_SKD:pw};_.x(ju,_.Kt);ju.prototype.h=function(a){a=a.getConfiguration();if(a.drm&&a.drm&&a.drm.env===eb){a=a.drm.customData;if(!a)throw new _.O(_.P,7,7100,_.Pd);a=new iu(a.widevineLicenseUrl,a.playReadyLicenseUrl,a.fairPlayLicenseUrl,a.fairPlayCertificateUrl,a.fairPlayContentIdStrategy||pw);_.Xm(a)}};ju.prototype.a=function(){delete _.Wm.HeaderDrm};ju.prototype.id=function(){return"headerdrm"};_.J("clpp.drm.HeaderDrmComponent",ju);_.ns(function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){b=void 0!==b?b:this.byteLength;a=Math.floor(a);b=Math.floor(b);0>a&&(a+=this.byteLength);0>b&&(b+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);b=Math.min(Math.max(0,b),this.byteLength);if(0>=b-a)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=_.Fj(c),e=new Uint8Array(this,a,b-a);d.set(e);return c})});_.ns(function(){_.Mh("mathRound.install")});_.ns(function(){if(window.Document){var a=Element.prototype;a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;a=Document.prototype;a.exitFullscreen=a.exitFullscreen||a.mozCancelFullScreen||a.msExitFullscreen||a.webkitExitFullscreen;te in document||(Object.defineProperty(document,te,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",
{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}}));document.addEventListener("webkitfullscreenchange",ku);document.addEventListener("webkitfullscreenerror",ku);document.addEventListener("mozfullscreenchange",ku);document.addEventListener("mozfullscreenerror",ku);document.addEventListener("MSFullscreenChange",ku);document.addEventListener("MSFullscreenError",ku)}});_.ns(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;a.requestPictureInPicture&&document.exitPictureInPicture||!a.webkitSupportsPresentationMode||(_.Mh("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,a.requestPictureInPicture=mu,document.exitPictureInPicture=nu,document.addEventListener("webkitpresentationmodechanged",lu,!0))}});_.ns(function(){if(window.HTMLVideoElement){var a=HTMLVideoElement.prototype;!a.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in a&&(a.getVideoPlaybackQuality=ou)}});_.ns(function(){if(window.VTTCue)_.Lh("Using native VTTCue.");else if(window.TextTrackCue){var a=TextTrackCue.length;if(3===a)_.Lh(fc),window.VTTCue=pu;else if(6===a)_.Lh("Using VTTCue polyfill from 6 argument TextTrackCue."),window.VTTCue=qu;else{try{var b=!!pu(1,2,"")}catch(c){b=!1}b&&(_.Lh(fc),window.VTTCue=pu)}}else _.Nh("VTTCue not available.")});var ru;_.ns(function(){_.Mh("InputEvent.install");_.Bl("Trident/")&&HTMLInputElement.prototype.addEventListener!==su&&(_.Lh("Patching input event support on IE."),ru=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=su)});_.ns(function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})});_.ns(function(){_.Mh("VideoPlayPromise.install");if(window.HTMLMediaElement){var a=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var b=a.apply(this);b&&b["catch"](function(){});return b}}});_.Au.prototype.start=function(){var a=this;this.a=new ResizeObserver(function(b){b=b[0];a.j(b.contentRect.width,b.contentRect.height,a.h.isFullscreen())});this.f&&this.a.observe(this.f)};_.Au.prototype.stop=function(){this.a&&(this.a.disconnect(),this.a=null)};_.Cu.prototype.canPlay=function(a){function b(f){e.stop();d.resolve(f)}var c=document.createElement(_.r);c.setAttribute("playsinline","playsinline");a&&(c.muted=!0,c.setAttribute("muted","muted"));c.src=URL.createObjectURL(this.a);var d=new _.mk;c=c.play();var e=(new _.xl(function(){b(a)})).ca(.25);void 0!==c?c.then(function(){return b(!0)})["catch"](function(f){f&&f.message&&f.message===Db?b(!0):b(!1)}):b(!0);return d};
var Bu=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,
0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,
0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,
115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]);_.u=_.Du.prototype;_.u.getDuration=function(){return this.a};_.u.getId=function(){return this.id};_.u.Tb=function(){return this.f};_.u.de=function(){return this.h};_.u.na=function(a){return this.getId()===a.getId()&&this.Tb()===a.Tb()&&this.getDuration()===a.getDuration()&&this.de()===a.de()};_.J("clpp.media.TimelineWindow",_.Du);_.Du.prototype.isDynamic=_.Du.prototype.de;_.Du.prototype.getStart=_.Du.prototype.Tb;_.Du.prototype.getId=_.Du.prototype.getId;_.Du.prototype.getDuration=_.Du.prototype.getDuration;_.rw=new _.K("clpp.media.TimestampParser");_.u=_.Eu.prototype;_.u.Ol=function(a){return this.a[a]||null};_.u.Pl=function(){return this.a.length};_.u.Ql=function(){return this.a};_.u.Qh=function(){return this.a[this.f]||null};_.u.Bl=function(){return this.f};_.J("clpp.media.Timeline",_.Eu);_.Eu.prototype.getCurrentWindowIndex=_.Eu.prototype.Bl;_.Eu.prototype.getCurrentWindow=_.Eu.prototype.Qh;_.Eu.prototype.getWindows=_.Eu.prototype.Ql;_.Eu.prototype.getWindowCount=_.Eu.prototype.Pl;_.Eu.prototype.getWindow=_.Eu.prototype.Ol;_.Hu={};_.Ju={};var Ou=window.XMLHttpRequest;_.x(Wu,_.nk);Wu.prototype.then=function(a,b){this.T=this.T.then(a,b);return this};Wu.prototype["catch"]=function(a){this.T=this.T["catch"](a);return this};Wu.prototype.abort=function(){var a=this;if(this.a)return Promise.resolve();this.a=!0;return this.h.then(function(b){a.o&&clearTimeout(a.o);a.l&&a.l();return b.abort()})["catch"](function(){})};var bv=window.fetch,$u=window.AbortController,Zu=window.Headers;_.dv={};_.u=_.wv.prototype;_.u.getBackgroundColor=function(){return this.K};_.u.setBackgroundColor=function(a){this.K=a;this.Nb()};_.u.getWindowColor=function(){return this.U};_.u.setWindowColor=function(a){this.U=a;this.Nb()};_.u.getFontFamily=function(){return this.P};_.u.setFontFamily=function(a){this.P=a;this.Nb()};_.u.getFontColor=function(){return this.M};_.u.setFontColor=function(a){this.M=a;this.Nb()};_.u.getFontSize=function(){return this.I};_.u.setFontSize=function(a){this.I=a;this.Nb()};
_.u.getFontSizePercent=function(){return null===this.B?sw:this.B};_.u.setFontSizePercent=function(a){this.B=a;this.Nb()};_.u.getEdgeColor=function(){return this.H};_.u.setEdgeColor=function(a){this.H=a;this.Nb()};_.u.getEdgeType=function(){return this.o};_.u.setEdgeType=function(a){this.o=a;this.Nb()};_.wv.prototype.setEdgeType=_.wv.prototype.setEdgeType;_.wv.prototype.getEdgeType=_.wv.prototype.getEdgeType;_.wv.prototype.setEdgeColor=_.wv.prototype.setEdgeColor;_.wv.prototype.getEdgeColor=_.wv.prototype.getEdgeColor;
_.wv.prototype.setFontSizePercent=_.wv.prototype.setFontSizePercent;_.wv.prototype.getFontSizePercent=_.wv.prototype.getFontSizePercent;_.wv.prototype.setFontSize=_.wv.prototype.setFontSize;_.wv.prototype.getFontSize=_.wv.prototype.getFontSize;_.wv.prototype.setFontColor=_.wv.prototype.setFontColor;_.wv.prototype.getFontColor=_.wv.prototype.getFontColor;_.wv.prototype.setFontFamily=_.wv.prototype.setFontFamily;_.wv.prototype.getFontFamily=_.wv.prototype.getFontFamily;
_.wv.prototype.setWindowColor=_.wv.prototype.setWindowColor;_.wv.prototype.getWindowColor=_.wv.prototype.getWindowColor;_.wv.prototype.setBackgroundColor=_.wv.prototype.setBackgroundColor;_.wv.prototype.getBackgroundColor=_.wv.prototype.getBackgroundColor;var sw=1/15;var xv="raised",yv="depressed",Av="dropshadow",zv="uniform";_.J("clpp.text.EdgeType",{NONE:_.We,RAISED:xv,DEPRESSED:yv,DROP_SHADOW:Av,UNIFORM:zv});Cv.prototype.parseInit=function(a){try{var b=_.uv(_.Uc);if(b){var c=new b(this.f);c.parseInit(a)}else this.g.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(e){c=null}if(c)this.a=c;else{try{var d=_.uv(_.Vc);d?(c=new d(this.f),c.parseInit(a)):this.g.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(e){c=null}if(c)this.a=c;else throw new _.O(_.P,2,2011);}};
Cv.prototype.parseMedia=function(a,b){if(!this.a)throw new _.O(_.P,2,2011);return this.a.parseMedia(a,b)};_.lv(Tc,Cv);_.x(_.Ev,_.wv);_.u=_.Ev.prototype;_.u.append=function(){};_.u.remove=function(){return!0};_.u.isTextVisible=function(){return this.w};_.u.setTextVisibility=function(a){this.w=a};
_.u.Nb=function(){if(!this.j){var a={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":_.Bv(this)},b=Object.keys(a).map(function(c){return null!==a[c]?c+":"+a[c]+";":""}).join("");this.h.textContent="."+this.f+"::cue {"+b+"}"}};_.u.destroy=function(){this.l.classList.remove(this.f);document.head.removeChild(this.h);this.j=!0;return Promise.resolve()};var Dv=0;Fv.prototype.a=function(){return!0};Fv.prototype.create=function(a){return new _.Ev(a)};_.Ip("native",new Fv);_.u=_.Gv.prototype;_.u.onPlayerCreated=function(){};_.u.onContentWillLoad=function(){return Promise.resolve()};_.u.onContentLoaded=function(a,b){for(var c=1;c<arguments.length;++c);return Promise.resolve()};_.u.onPlayerWillDestroy=function(){};_.u.onPlayerWillRelease=function(){};}.call(g,this));
g.clpp._ = _;
if (typeof(module)!="undefined"&&module.exports) {module.exports=g.clpp;}
else if (typeof(define)!="undefined" && define.amd) {define(function(){return g.clpp;});}
else {this.clpp=g.clpp;}
})();