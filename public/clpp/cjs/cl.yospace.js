(function(){var g={}; var _ = _ || {}
var f=function(window){var Yw="clpp.yospace.YospacePlugin",Zw=function(){this.a=null;this.g=new _.K(Yw)},$w=function(){};_.x(Zw,_.Gv);Zw.prototype.Zh=function(){return this.a};
Zw.prototype.onContentWillLoad=function(a,b){var c=this,d,e,f,g,h;return _.I(function(l){if(1==l.a){d=a.getConfiguration();e=d.yospace;if(!e.enabled)return l["return"]();if(typeof window.YospaceAdManagement!==_.Xe)throw new _.O(_.P,9,7003,"Yospace SDK not found.");c.g.info("Yospace enabled.");f=e.streamType||ax;a:{var m=b.url;c.g.info("Creating Yospace session for stream type",f);switch(f){case ax:m=YospaceAdManagement.SessionVOD.create(m);break a;case bx:m=YospaceAdManagement.SessionLive.create(m);
break a;default:m=YospaceAdManagement.SessionDVRLive.create(m)}}return _.y(l,m,2)}g=l.f;h=g.getSessionState();if(h!==YospaceAdManagement.SessionState.INITIALISED)throw c.g.error("Failed to initialize Yospace session. State:",h,"URL",b.url),new _.O(_.P,9,7003,"Yospace session failed to initialize.");a.trigger(new _.L(_.ah,{detail:g}));b.url=g.getPlaybackUrl();c.g.info("Yospace session initialized. New URL:",b.url);c.a=g;_.B(l)})};
Zw.prototype.onPlayerWillRelease=function(a){if(this.a){this.g.info("Shutting down Yospace session.");var b=this.a;this.a.shutdown();this.a=null;a.trigger(new _.L(_.$g,{detail:b}))}};Zw.prototype.id=function(){return"yospace"};_.J(Yw,Zw);Zw.prototype.getSession=Zw.prototype.Zh;Zw.Id="yospace";$w.prototype.create=function(){return new Zw};_.gt(new $w);var ax=_.hc,bx="LIVE";_.J("clpp.yospace.StreamType",{VOD:ax,LIVE:bx,DVR:"DVR"});};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();