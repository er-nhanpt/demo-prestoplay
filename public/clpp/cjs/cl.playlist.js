(function(){var g={}; var _ = _ || {}
var f=function(window){var jB=function(a,b){b=void 0===b?function(){return Promise.resolve()}:b;_.nm.call(this);this.m=a;this.l=b;this.f=0;this.a=[];this.h=!1;this.j=this.sb.bind(this)},kB=function(a){a.trigger(new _.L(_.vf))},lB=function(a,b){return 0<=b&&b<a.a.length};_.x(jB,_.nm);_.u=jB.prototype;_.u.on=function(a,b,c){return _.nm.prototype.on.call(this,a,b,c)};_.u.one=function(a,b,c){return _.nm.prototype.one.call(this,a,b,c)};_.u.off=function(a,b){return _.nm.prototype.off.call(this,a,b)};_.u.getPosition=function(){return this.f};
_.u.ol=function(){return this.a};_.u.Md=function(){return 0<this.a.length&&lB(this,this.f)?this.a[this.f]:null};_.u.ql=function(){var a=this.f+1;return 0<this.a.length&&lB(this,a)?this.a[a]:null};_.u.Gl=function(){return this.h};_.u.start=function(){this.h||(this.h=!0,this.m.on(_.me,this.j),this.De(this.f,!0))};_.u.stop=function(){this.h=!1;this.m.off(_.me,this.j)};_.u.sb=function(){this.next()};
_.u.next=function(){var a=this,b;return _.I(function(c){b=Math.min(a.a.length-1,a.f+1);return _.y(c,a.De(b),0)})};_.u.fn=function(){var a=this,b;return _.I(function(c){b=Math.max(0,a.f-1);return _.y(c,a.De(b),0)})};_.u.De=function(a,b){b=void 0===b?!1:b;var c=this,d;return _.I(function(e){if(1==e.a){if(!(0<c.a.length&&lB(c,a))||!b&&c.f===a)return e["return"]();c.f=a;return(d=c.Md())?_.y(e,c.l(d),3):e.F(0)}if(4!=e.a)return _.y(e,c.m.load(d.configuration),4);c.trigger(new _.L(_.uf,{item:d}));_.A(e)})};
_.u.append=function(a){this.a.push(a);kB(this)};_.u.Bl=function(a,b){if(0<=b&&b<=this.a.length){var c=this.Md();this.a.splice(b,0,a);c&&(this.f=this.a.indexOf(c));kB(this)}};_.u.remove=function(a){if(0<this.a.length&&lB(this,a)){if(this.f===a)throw Error("Can't remove the current item");this.a.splice(a,1);kB(this)}};_.u.clear=function(){this.stop();this.f=0;this.a=[];this.h=!1;kB(this)};_.J("clpp.Playlist",jB);jB.prototype.clear=jB.prototype.clear;jB.prototype.remove=jB.prototype.remove;
jB.prototype.insert=jB.prototype.Bl;jB.prototype.append=jB.prototype.append;jB.prototype.goTo=jB.prototype.De;jB.prototype.previous=jB.prototype.fn;jB.prototype.next=jB.prototype.next;jB.prototype.onEnded=jB.prototype.sb;jB.prototype.stop=jB.prototype.stop;jB.prototype.start=jB.prototype.start;jB.prototype.isStarted=jB.prototype.Gl;jB.prototype.getUpcoming=jB.prototype.ql;jB.prototype.getCurrent=jB.prototype.Md;jB.prototype.getQueue=jB.prototype.ol;jB.prototype.getPosition=jB.prototype.getPosition;
jB.prototype.off=jB.prototype.off;jB.prototype.one=jB.prototype.one;jB.prototype.on=jB.prototype.on;};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();