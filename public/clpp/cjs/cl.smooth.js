(function(){var g={}; var _ = _ || {}
var f=function(window){var DQ="Full MP4 box must have flags defined",EQ="clpp.smooth.SmoothMP4Processor",FQ="codecPrivateData",GQ=function(a,b){var c=Math.floor(b/Math.pow(2,32)),d=b-c*Math.pow(2,32);_.V(a,c);_.V(a,d)},HQ=function(a,b){try{a.f.setUint8(a.a,b),a.a+=1}catch(c){_.Wm()}},IQ=function(a,b){HQ(a,b>>16&255);HQ(a,b>>8&255);HQ(a,b&255)},JQ=function(a,b){try{a.f.setUint16(a.a,b,a.h),a.a+=2}catch(c){_.Wm()}},KQ=function(a,b){try{a.f.setInt32(a.a,b,a.h),a.a+=4}catch(c){_.Wm()}},LQ=function(a,b){try{a.f.setInt16(a.a,
b,a.h),a.a+=2}catch(c){_.Wm()}},MQ=function(a,b){if(void 0!==b){for(var c=new Uint8Array(b),d=Math.min(a.length,b),e=0;e<d;++e)c[e]=a.charCodeAt(e);for(;e<b;e++)c[e]=0;return c}c=new Uint8Array(a.length);for(d=0;d<a.length;++d)c[d]=a.charCodeAt(d);return c},NQ=function(a){this.type=a;this.size=this.start=0;this.parent=null;this.A=!1;this.entries=[];this.f=[]},Z=function(a,b,c){NQ.call(this,a);this.version=b;this.flags=c},OQ=function(a,b,c){NQ.call(this,a);this.h=b;this.offset=c},PQ=function(a,b,c,
d,e){Z.call(this,a,b,c);this.h=d;this.offset=e},QQ=function(a,b,c){NQ.call(this,"ftyp");this.j=a;this.ei=b;this.h=c},RQ=function(){NQ.call(this,_.Qe)},SQ=function(){NQ.call(this,_.og)},TQ=function(a,b,c){Z.call(this,"mvhd",1,0);this.timescale=a;this.duration=b;this.volume=256;this.j=c+1;this.h=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]},UQ=function(){NQ.call(this,"mvex")},VQ=function(a){Z.call(this,"trex",0,0);this.h=a},WQ=function(a,b,c,d,e){Z.call(this,"tkhd",1,7);
this.j=a;this.duration=b;this.timescale=c;this.width=d;this.height=e;this.volume=1;this.h=[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]},XQ=function(a,b){Z.call(this,"mdhd",1,0);this.timescale=a;this.duration=b;this.language=21956},YQ=function(a){Z.call(this,"hdlr",0,0);this.h=a},ZQ=function(){Z.call(this,"vmhd",0,1);this.h=new Uint8Array([0,0,0,0,0,0])},$Q=function(a){NQ.call(this,a);this.A=!0},aR=function(a){$Q.call(this,a);this.height=this.width=0;this.depth=24},bR=
function(a,b,c,d){$Q.call(this,a);this.channelCount=b;this.sampleSize=c;this.sampleRate=d},cR=function(a,b){aR.call(this,"avc1");this.width=a;this.height=b},dR=function(a,b){cR.call(this,a,b);this.type="encv"},eR=function(a,b,c){bR.call(this,"mp4a",a,b,c)},fR=function(a,b,c){eR.call(this,a,b,c);this.type="enca"},gR=function(a,b){NQ.call(this,"avcC");this.Za=a;this.fc=b;this.version=1;this.h=this.Za[0][1];this.j=this.Za[0][2];this.level=this.Za[0][3]},hR=function(a){Z.call(this,"esds",0,0);this.cc=
a},iR=function(a){a=void 0===a?"":a;Z.call(this,"url ",0,1);this.location=a},jR=function(){Z.call(this,"dref",0,0)},kR=function(){NQ.call(this,_.eg)},lR=function(){Z.call(this,_.gg,0,0)},mR=function(){Z.call(this,"stts",0,0)},nR=function(){Z.call(this,"stsc",0,0)},oR=function(){Z.call(this,"stco",0,0)},pR=function(){Z.call(this,"stsz",0,0)},qR=function(){Z.call(this,"smhd",0,0)},rR=function(){NQ.call(this,"dinf")},sR=function(){NQ.call(this,_.Pe)},tR=function(){NQ.call(this,_.Le)},uR=function(a,b){Z.call(this,
"tfdt",a,0);this.baseMediaDecodeTime=b},vR=function(){Z.call(this,"mfhd",0,0);this.h=0},wR=function(a,b){Z.call(this,"trun",a,b);this.o=this.l=this.h=0;this.w=[];this.sampleSize=[];this.B=[];this.j=[]},xR=function(a,b){Z.call(this,"tfhd",a,b);this.h=255;this.o=this.w=this.l=this.B=this.j=0},yR=function(){NQ.call(this,"traf")},zR=function(){NQ.call(this,"moof")},AR=function(){NQ.call(this,_.Je);this.h=new Uint8Array(0)},BR=function(){Z.call(this,"tenc",0,0);this.h=1;this.j=8;this.o="";this.l=[]},CR=
function(a,b){Z.call(this,"schm",0,0);this.h=a;this.j=b;this.Xb=""},DR=function(a){NQ.call(this,"frma");this.h=a},ER=function(){Z.call(this,"saio",0,0);this.offset=[0]},FR=function(a,b,c){Z.call(this,"saiz",0,0);this.h=a;this.l=b;this.j=c},GR=function(a,b){Z.call(this,"senc",a,b);this.j=0;this.l=8;this.h=[]},HR=function(a){var b=a.split("/");return b[b.length-1].toLowerCase().match("manifest(\\(.+\\))?")?a:a+"/Manifest"},IR=function(a,b,c,d){c=b.Ah[c];b=b.Sn;a=a.replace("Manifest","");b=b.replace("{bitrate}",
String(d.bitrate)).replace("{Bitrate}",String(d.bitrate)).replace("{start time}",String(c.t)).replace("{start_time}",String(c.t));return _.ED([a],[b])[0]},JR=function(a,b){if(a.type!==b.type)return!1;var c=[];a.type===_.r?c=["maxWidth","maxHeight","bitrate",FQ,"fourCC"]:a.type===_.$c&&(c=["bitrate",FQ,"channels","bitsPerSample","samplingRate","fourCC"]);return _.M.ma(a,b,c,["id","segmentIndex"])},KR=function(a,b,c){var d=c.ve.split("00000001");a={id:1,type:c.type,duration:a/b,timescale:b,Za:null,
fc:null,width:NaN,height:NaN,cc:null,be:NaN,sampleSize:NaN,channelCount:NaN};switch(c.type){case _.r:a.Za=[_.Mj(d[1])];a.fc=[_.Mj(d[2])];a.width=c.maxWidth;a.height=c.maxHeight;break;case _.$c:a.cc=_.Mj(c.ve),a.sampleSize=c.nj||16,a.be=c.be,a.channelCount=c.Sg}return a},LR=function(a,b){return a.filter(function(c){return c.type===b})},MR=function(a,b){var c=a.exec(b);return null==c||""===c[0]?null:(Number(c[4])||0)/1E3+(Number(c[3])||0)+60*(Number(c[2])||0)+3600*(Number(c[1])||0)},TR=function(a,b,
c){var d=null;if(NR.test(a)){a=NR.exec(a);d=Number(a[1]);var e=Number(a[2]),f=Number(a[3]),g=Number(a[4]);g+=(Number(a[5])||0)/c.f;f+=g/c.frameRate;d=f+60*e+3600*d}else OR.test(a)?d=MR(OR,a):PR.test(a)?d=MR(PR,a):QR.test(a)?(a=QR.exec(a),d=Number(a[1])/c.frameRate):RR.test(a)?(a=RR.exec(a),d=Number(a[1])/c.a):SR.test(a)&&(d=MR(SR,a));d+=b;b=Math.floor(d/3600);c=Math.floor((d-3600*b)/60);a=Math.floor(d-3600*b-60*c);d-=a;10>b&&(b="0"+b);10>c&&(c="0"+c);10>a&&(a="0"+a);0===d?d="000":d=Math.round(1E3*
d);return b+":"+c+":"+a+"."+d},UR=function(a,b,c,d){this.frameRate=Number(a)||30;this.f=Number(b)||1;this.a=Number(d);0===this.a&&(this.a=a?this.frameRate*this.f:1);c&&(a=/^(\d+) (\d+)$/g.exec(c))&&(this.frameRate*=parseInt(a[1],10)/parseInt(a[2],10))},WR=function(a){this.a=a;this.f=VR(this)},VR=function(a){for(var b=0,c=0;c<a.a.length;c++)b+=a.a[c].a();return new _.Vm(b)},YR=function(a,b,c){a:{var d=_.w([_.Pd,_.Nd]);for(var e=d.next();!e.done;e=d.next())if((e=c.Be(e.value))&&e.keyId){d=e.keyId;break a}_.Dh(EQ,
"Could not get default Key ID for DRM init data!");d=null}c=new NQ("xxxx");a.type===_.r?c=new dR(a.width,a.height):c=new fR(a.channelCount,a.sampleSize,a.be);a=new BR;a.h=1;a.j=8;a.o=d||"00000000000000000000000000000000";a=(new NQ("schi")).append([a]);b=(new NQ(_.Zf)).append([new DR(b),new CR(_.rd,65536),a]);c.append([b]);return c},ZR=function(a,b){var c=b.Ee(),d=new TQ(a.timescale,a.duration,a.id),e=(new UQ).append([new VQ(a.id)]),f=new WQ(a.id,a.duration,a.timescale,a.width,a.height),g=new XQ(a.timescale,
a.duration),h=new YQ(a.type),l=null,m=new jR;m.entries=[new iR];var n=new lR;switch(a.type){case _.r:var p=new gR(a.Za,a.fc);c?(l=YR(a,"avc1",b),l.append([p]),n.entries=[l]):(l=(new cR(a.width,a.height)).append([p]),n.entries=[l]);l=new ZQ;break;case _.$c:p=new hR(a.cc),c?(l=YR(a,"mp4a",b),l.append([p]),n.entries=[l]):(l=(new eR(a.channelCount,a.sampleSize,a.be)).append([p]),n.entries=[l]),l=new qR}n=(new kR).append([n,new mR,new nR,new pR,new oR]);m=(new rR).append([m]);m=(new sR).append([l,m,n]);
g=(new tR).append([g,h,m]);f=(new SQ).append([f,g]);d=(new RQ).append([d,f,e]);e=new QQ("dash",0,["iso6","mp41","avc1"]);c&&(c=b.Be(_.Nd),f=b.Be(_.Pd),c&&d.append([new OQ("pssh",c.initData,8)]),f&&d.append([new OQ("pssh",f.initData,8)]),c||f||_.Dh(EQ,"Could not get PSSH init data!"));c=new WR([e,d]);return _.zj(c.write())},aS=function(a,b){var c,d,e,f,g,h;(new _.gn).M("moof",_.hn).Y("mfhd",function(m){var n=new vR;n.h=_.W(m.reader);c=n}).M("traf",_.hn).Y("tfhd",function(m){var n=m.reader.Oa();if(null===
m.flags)throw new _.N(_.P,3,3019,DQ);var p=new xR(m.version||0,m.flags||0);p.h=_.W(m.reader);0<n-m.reader.getPosition()&&m.flags&1&&(p.j=_.dn(m.reader));0<n-m.reader.getPosition()&&m.flags&2&&(p.B=_.W(m.reader));0<n-m.reader.getPosition()&&m.flags&8&&(p.l=_.W(m.reader));0<n-m.reader.getPosition()&&m.flags&16&&(p.w=_.W(m.reader));0<n-m.reader.getPosition()&&m.flags&32&&(p.o=_.W(m.reader));d=p}).Y("trun",function(m){var n=m.reader.Oa();if(null===m.flags)throw new _.N(_.P,3,3019,DQ);var p=new wR(m.version||
0,m.flags||0);p.h=_.W(m.reader);0<n-m.reader.getPosition()&&m.flags&1&&(p.l=_.cn(m.reader));0<n-m.reader.getPosition()&&m.flags&4&&(p.o=_.W(m.reader));if(0<n-m.reader.getPosition())for(n=0;n<p.h;n++)m.flags&256&&p.w.push(_.W(m.reader)),m.flags&512&&p.sampleSize.push(_.W(m.reader)),m.flags&1024&&p.B.push(_.W(m.reader)),m.flags&2048&&(0===m.version?p.j.push(_.W(m.reader)):p.j.push(_.cn(m.reader)));e=p}).Y("sdtp",function(m){var n=_.fn(m.reader,m.reader.Oa());f=new PQ("sdtp",m.version||0,m.flags||0,
n,0)}).M("uuid",function(m){var n=_.fn(m.reader,16);if(_.Oj(n,$R)){n=_.W(m.reader);m.version=n>>>24;m.flags=n&16777215;n=new GR(m.version,m.flags);n.j=_.W(m.reader);m.flags&1&&(n.l=_.an(m.reader));for(var p=0;p<n.j;p++){var q={Rh:_.fn(m.reader,8),kd:0,wg:[]};if(m.flags&2){q.kd=_.bn(m.reader);for(var t=0;t<q.kd;t++){var v={Pg:0,Qg:0};v.Pg=_.bn(m.reader);v.Qg=_.W(m.reader);q.wg.push(v)}}n.h.push(q)}g=n}}).M(_.Je,function(m){var n=new AR;0<m.reader.Oa()?n.h=_.fn(m.reader,m.reader.Oa()):(_.Dh(EQ,"mdat box is empty!"),
n.h=new Uint8Array(0));h=n}).parse(a,!1);if(!h)return null;var l=(new yR).append([d,e]);f&&l.append([f]);b.Ee()&&g&&l.append([g]);l=(new zR).append([c,l]);return new WR([l,h])},bS=function(a,b,c,d){var e=d.Ee(),f=parseInt(c*b,10);b=a.data||new ArrayBuffer(0);var g=aS(b,d);if(null===g)return a.request.contentType===_.Q?a.data:g;d=g.get(_.Je);if(a.request.contentType===_.Q){e=d.h.buffer;if(c){e=_.R.Kd(e);if((e=(new DOMParser).parseFromString(e,_.mg))&&"tt"===e.documentElement.tagName.toLowerCase())var h=
e.documentElement;if(h&&(d=new UR(h.getAttribute("ttp:frameRate"),h.getAttribute("ttp:subFrameRate"),h.getAttribute("ttp:frameRateMultiplier"),h.getAttribute("ttp:tickRate")),h=h.getElementsByTagName("body")[0]))for(h=h.getElementsByTagName("p"),a=0,b=h.length;a<b;a++){f=h[a];g=c;for(var l=["begin",_.le],m=0,n=l.length;m<n;m++){b:{var p=f;var q=l[m],t=new RegExp("\\w+:"+q),v=0;if(p.hasAttribute(q))p=p.getAttribute(q);else{q=p.attributes;for(var z=q.length;v<z;v++){var C=q[v].name;if(C=C.match(t)){p=
p.getAttribute(C[0]);break b}}p=null}}f.setAttribute(l[m],TR(p||"",g,d))}}e=(new XMLSerializer).serializeToString(e);c=_.R.$a(e).buffer}else c=e;return c}h=new zR;a=g.get("mfhd");b=new yR;l=g.get("tfhd");m=new uR(1,f);f=g.get("trun");n=g.get("sdtp");c=g.get("senc");l.h=1;l.flags&=16777214;l.flags|=131072;b.append([l,m,f]);n&&b.append([n]);if(e){g=0;l=[];if(c.flags&2)for(l=[],m=0;m<c.j;m++)l.push(10+6*c.h[m].kd);else g=8;b.append([c,new ER,new FR(g,l,c.j)])}h.append([a,b]);f.flags|=1;f.l=h.a()+8;d=
new WR([h,d]);h=d.write();e&&(e=d.get("saio"),d=d.f,e.offset[0]=c.start+16,d.seek(e.start),e.write(d),h=d.buffer);return h},cS=function(a,b,c){return{keySystem:a,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[b],keyIds:c,periodId:null}},dS=function(a,b,c){a=_.io(a);c&&a.version!==c&&(a=_.uD(a,c));return{initData:_.sD(a),initDataType:_.rd,keyId:b,periodId:null}},fS=function(){this.w=this.h=this.f=
this.D=null;this.N=1;this.P=0;this.l="";this.B=this.a=null;this.g=new _.K("clpp.smooth.SmoothParser");this.J=!1;this.j=this.A=null;this.L=eS;this.H=0;this.C=this.I=Infinity;this.o=[];this.K=this.pn.bind(this);this.G=new Map},gS=function(a,b){var c,d,e;return _.I(function(f){if(1==f.a)return c=_.Yj(b),c.timeout=a.f.attemptParameters.timeout,c.maxAttempts=Math.max(a.f.attemptParameters.maxAttempts,b.length),c.baseDelay=a.f.attemptParameters.baseDelay,c.backoffFactor=a.f.attemptParameters.backoffFactor,
c.fuzzFactor=a.f.attemptParameters.fuzzFactor,c.type=1,d=a.D.networkingEngine.fetch(c),_.y(f,d.U,2);e=f.f;a.l=e.uri;return f["return"](e)})},nS=function(a,b){var c=null;try{var d=new DOMParser;try{var e=_.R.Kd(b);var f=d.parseFromString(e.trim(),_.mg)}catch(aJ){throw aJ;}if(f&&f.documentElement.tagName===_.ac)var g=f.documentElement;c=g&&0<g.getElementsByTagName("parsererror").length?null:g}catch(aJ){}if(!c)throw a.g.error("Unable to parse manifest"),new _.N(_.P,4,4033,a.l);var h=+hS(a,c,"MajorVersion"),
l=+hS(a,c,"MinorVersion"),m=+c.getAttribute("TimeScale")||1E7,n=+hS(a,c,"Duration"),p="TRUE"===c.getAttribute("IsLive"),q=+c.getAttribute("LookAheadCount"),t=+c.getAttribute("DVRWindowLength")||Infinity,v=_.Un(c,"Protection")[0];if(!1===/^[2].[0-2]$/.test(""+h+"."+l))throw a.g.error("Smooth Streaming version must be 2.0, 2.1 or 2.2"),new _.N(_.P,4,4036,a.l);p?(iS(a,jS),a.A=typeof a.f.liveRefreshPeriod===_.k?1E3*a.f.liveRefreshPeriod:Math.min(1E3*a.H,1E4),n=Infinity):iS(a,eS);a.a={startTime:0,delay:0,
duration:n/m,Df:t/m,Xd:0};if(v){var z=a.f.playreadyVersion,C=[],F=_.Un(v,"ProtectionHeader")[0],G=_.Lj(_.Wn(F)||""),B=_.io(G).a;C.push(cS(_.Pd,{initData:_.sD(_.ao(B)),initDataType:_.rd,keyId:B,periodId:null},[B]));C.push(cS(_.Nd,dS(G,B,z),[B]));a.o=C}var H=[],O=_.Un(c,"StreamIndex");if(!O.length)throw a.g.error("No streams found!"),new _.N(_.P,4,4034,a.l);for(var T=0;T<O.length;T++){for(var da,aa=a,ya=O[T],Va=hS(aa,ya,"Type"),fb=+ya.getAttribute("Chunks"),Wa=ya.getAttribute("Subtype"),La=ya.getAttribute("Language")||
_.rg,vb=_.qj(La),Jb=ya.getAttribute("Name")||"",Cg=+ya.getAttribute(_.wb),lo=+ya.getAttribute(_.ub),YV=hS(aa,ya,"Url"),ZV=+ya.getAttribute("TimeScale")||null,dJ=[],eJ=_.Un(ya,_.Qb),Lu=0;Lu<eJ.length;Lu++){var Cf=void 0,qc=void 0,Mu=void 0,Df=aa,Jd=eJ[Lu],Nu=Va,$V=+Jd.getAttribute("Index"),aW=+hS(Df,Jd,"Bitrate"),fJ=NaN,gJ=NaN,mo=NaN,Ou=NaN,hJ=NaN,iJ=NaN,jJ=NaN,kJ=Jd.getAttribute("FourCC");switch(Nu){case _.r:fJ=+hS(Df,Jd,_.ub);gJ=+hS(Df,Jd,_.wb);break;case _.$c:Ou=+Jd.getAttribute("Channels")||2,
mo=+hS(Df,Jd,"SamplingRate"),iJ=+hS(Df,Jd,"AudioTag"),hJ=+hS(Df,Jd,"BitsPerSample"),jJ=+hS(Df,Jd,"PacketSize")}var Pu=String(Jd.getAttribute("CodecPrivateData"));if(Nu===_.$c&&!Pu){var lJ=Ou,mJ={96E3:0,88200:1,64E3:2,48E3:3,44100:4,32E3:5,24E3:6,22050:7,16E3:8,12E3:9,11025:10,8E3:11,7350:12},no=mJ[mo];if("AACH"===kJ){qc=new Uint8Array(4);var nJ=mJ[2*mo];qc[0]=40|no>>1;qc[1]=no<<7|lJ<<3|nJ>>1;qc[2]=nJ<<7|8;qc[3]=0;Cf=new Uint16Array(2);Cf[0]=(qc[0]<<8)+qc[1];Cf[1]=(qc[2]<<8)+qc[3];Mu=Cf[0].toString(16)+
Cf[1].toString(16)}else qc=new Uint8Array(2),qc[0]=16|no>>1,qc[1]=no<<7|lJ<<3,Cf=new Uint16Array(1),Cf[0]=(qc[0]<<8)+qc[1],Mu=Cf[0].toString(16);Pu=Mu.toUpperCase()}var bW={id:Df.P++,type:Nu,index:$V,bitrate:aW,ve:Pu,maxHeight:fJ,maxWidth:gJ,be:mo,Sg:Ou,jo:iJ,nj:hJ,Ao:jJ,Zk:kJ,segmentIndex:null};dJ.push(bW)}da=dJ;for(var Ke=[],oJ=_.Un(ya,"c"),mk=0;mk<oJ.length;mk++){var Qu=oJ[mk],ie=parseInt(Qu.getAttribute("t"),10),Zh=parseInt(Qu.getAttribute("d"),10),Ru=parseInt(Qu.getAttribute("r"),10),nk=0;if(isNaN(ie)&&
isNaN(Zh))throw aa.g.error("Either one or both FragmentDuration and FragmentTime field MUST be present in StreamFragmentElement"),new _.N(_.P,4,4037,aa.l);0===mk&&isNaN(ie)&&(nk=ie=0);if(0<mk){var Fg=Ke[Ke.length-1];nk=Fg.n+1;Fg.d||(Fg.d=ie-Fg.t);ie||(ie=Fg.t+Fg.d);Zh||(Zh=ie-Fg.t)}Ke.push({n:nk,d:Zh,t:ie});if(Ru){Ru--;for(var pJ=0;pJ<Ru;pJ++){var oo=Ke[Ke.length-1];nk=oo.n+1;ie=oo.t+oo.d;Zh=oo.d;Ke.push({n:nk,d:Zh,t:ie})}}}aa.yd()||Ke.length===fb||aa.g.warn("Number of fragments ("+fb+") differs from number of chunks ("+
Ke.length+").");H.push({type:Va,oo:fb,Dn:Wa,language:vb,Wd:La,name:Jb,maxWidth:Cg,maxHeight:lo,Sn:YV,tracks:da,Ah:Ke,timescale:ZV})}var Ef={yo:h,ei:l,timescale:m,duration:n,isLive:p,xo:q,Df:t,Mf:!1,streams:H};if(a.h&&a.w)return kS(a,Ef),Promise.resolve();a.G.clear();var Su=Ef.timescale,po=Ef.duration,dW=LR(Ef.streams,_.$c),eW=LR(Ef.streams,_.r),fW=LR(Ef.streams,_.Q),qJ=[],qo=lS(a,po,Su,dW),ro=lS(a,po,Su,eW),gW=lS(a,po,Su,fW);qo.length||(qo=[null]);ro.length||(ro=[null]);for(var Uu=0;Uu<ro.length;Uu++)for(var Vu=
0;Vu<qo.length;Vu++)qJ.push(mS(a,ro[Uu],qo[Vu]));var rJ={id:"ID",configurationId:void 0,startTime:0,endTime:po,variants:qJ,textStreams:gW,thumbStreams:[]};var iW=Ef.streams,Wu=a.a.startTime,sJ=a.a.delay,Xu=a.I,tJ=Math.min(a.a.duration||Infinity,Xu),Yu=a.yd(),jW=a.a.Df,kW=a.a.Xd,uJ=a.H,vJ=isFinite(a.C)?a.C:0;if(Yu)tJ=Infinity,Wu=Date.now()/1E3-kW,a.a.startTime=Wu,sJ=3*uJ;else for(var lW=isFinite(Xu)?Xu:a.a.duration,wJ=_.w(iW),Zu=wJ.next();!Zu.done;Zu=wJ.next())for(var xJ=_.w(Zu.value.tracks),$u=xJ.next();!$u.done;$u=
xJ.next()){var yJ=$u.value;yJ.segmentIndex.offset(-vJ);_.bE(yJ.segmentIndex,lW)}var zJ=a.f.timeline||{};zJ.type=void 0;a.B=new _.jE(zJ,Wu,sJ,!Yu,!0);a.B.f=tJ;_.rE(a.B,uJ);a.B.A=jW;Yu||a.B.offset(-vJ);a.D.filterAllPeriods([rJ]);a.h={presentationTimeline:a.B,periods:[rJ],minBufferTime:0,cues:[]};Promise.resolve();a.J||(a.D.networkingEngine.Oc(a.K),a.J=!0);a.w=Ef;return Promise.resolve()},kS=function(a,b){for(var c=0;c<a.w.streams.length;c++)for(var d=b.streams[c],e={},f=_.w(a.w.streams[c].tracks),g=
f.next();!g.done;e={ac:e.ac},g=f.next())if(e.ac=g.value,g=d.tracks.find(function(l){return function(m){return m.type===l.ac.type&&m.bitrate===l.ac.bitrate}}(e))){JR(e.ac,g)||a.g.warn("The current stream is updated with a stream that seems to have different base properties!");var h=oS(a,a.w.timescale,d,g);g=e.ac.segmentIndex;g.pa(h);(h=a.a.Df)&&_.HE(g,_.GE(g)-h).forEach(function(l){l.Xa().forEach(function(m){a.G["delete"](m)})})}else a.g.warn("Cannot find satisfying update for "+e.ac.type+" track with bitrate "+
(e.ac.bitrate+". Skipping update."))},lS=function(a,b,c,d){for(var e=[],f={Ic:0};f.Ic<d.length;f={Ic:f.Ic},f.Ic++){var g=d[f.Ic].tracks.map(function(h){return function(l){var m=d[h.Ic],n=oS(a,c,m,l);n=new _.FE(n);var p=null;m.type!==_.Q&&(p=pS(a,b,c,m,l));l.segmentIndex=n;var q=_.uK++,t=Promise.resolve.bind(Promise),v=n.Uc.bind(n),z=n.get.bind(n),C=n.qd.bind(n),F=n.getDuration.bind(n),G=qS[m.type],B="";switch(m.type){case _.r:B=l.ve;var H=/00000001[0-9]7/.exec(B);B="avc1."+(H&&H[0]?B.substr(B.indexOf(H[0])+
10,6):"42c00c");a.g.debug("VIDEO CODECS: ",B);break;case _.$c:B=l.ve,H=2,"AACH"===l.Zk?H=5:B&&(H=(parseInt(B.substr(0,2),16)&248)>>3),B="mp4a.40."+H,a.g.debug("AUDIO CODECS: ",B)}H=m.type===_.Q?rS[m.Dn]:void 0;return{id:q,originalId:null,Co:null,createSegmentIndex:t,findSegmentPosition:v,getSegmentReference:z,adjustSegmentDurations:C,getDuration:F,segmentIndex:n,segmentLookupStrategy:_.aD,initSegmentReference:p,mimeType:G,codecs:B,frameRate:void 0,bandwidth:l.bitrate,width:l.maxWidth||void 0,height:l.maxHeight||
void 0,kind:H,encrypted:a.Of(),keyId:null,language:m.language,originalLanguage:m.Wd,label:m.name,type:m.type,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:l.Sg||null,spatialAudio:!1,closedCaptions:null}}}(f));e=e.concat(g)}return e},oS=function(a,b,c,d){var e=0,f=[],g=c.timescale||b;c.Ah.forEach(function(h,l){var m=h.d/g;if(0===l){var n=h.t/g;a.C=Math.min(a.C,n)}else n=f[l-1].endTime;var p=n+m,q=IR(a.l,c,l,d);a.H=Math.max(a.H,m);f.push(new _.oj(l,n,p,function(){return[q]},
0,null,0,null,!0,g));a.G.set(q,n);e+=m});if(c.type===_.r||c.type===_.$c)b=f[f.length-1],a.I=Math.min(a.I,e),0===a.a.Xd?a.a.Xd=b.endTime:a.a.Xd=Math.min(a.a.Xd,b.endTime);return f},pS=function(a,b,c,d,e){b=KR(b,d.timescale||c,e);c={isLive:a.yd.bind(a),Ee:a.Of.bind(a),gl:function(){return 1},Be:a.Dh.bind(a)};d=new Uint8Array(0);try{d=ZR(b,c)}catch(g){throw a.g.error("Failed to generate initialization segment."),new _.N(_.P,3,4035,g);}var f="data:text/plain;base64,"+_.Kj(d);return new _.GD(function(){return[f]},
0,null,null,!0)},mS=function(a,b,c){var d=(c?c.bandwidth:0)+(b?b.bandwidth:0),e=c?c.language:_.rg;return c||b?{id:a.N++,language:e,primary:!1,audio:c,video:b,bandwidth:d,drmInfos:a.o,allowedByApplication:!0,allowedByKeySystem:!0}:null},hS=function(a,b,c){if(b=b.getAttribute(c))return b;a.g.error("required attribute not provided: "+c);throw new _.N(_.P,4,4038,a.l,c);},sS=function(a,b){null!=a.A&&null!=b&&(a.j=window.setTimeout(a.Vb.bind(a),b))},iS=function(a,b){var c=b===eS;a.h&&a.h.presentationTimeline&&
_.mE(a.h.presentationTimeline,c);c&&null!=a.j&&(window.clearTimeout(a.j),a.j=null,a.A=null);a.L=b},tS=function(){};NQ.prototype.append=function(a){a=void 0===a?[]:a;for(var b=0;b<a.length;b++)this.f.push(a[b]),a[b].parent=this;return this};NQ.prototype.get=function(a){if(this.type===a)return this;for(var b=0;b<this.f.length;b++){if(this.f[b].type===a)return this.f[b];var c=this.f[b].get(a);if(c)return c}return null};
NQ.prototype.a=function(){var a=Math.pow(2,32)-1;var b=4+this.type.length;"uuid"===this.type&&(b+=16);if(0<this.f.length)for(var c=0;c<this.f.length;c++)b+=this.f[c].a();this.size>a&&(b+=8);return b};
NQ.prototype.write=function(a){var b=Math.pow(2,32)-1;this.start=a.getPosition();this.size=this.a();this.size>b?_.V(a,1):_.V(a,this.size);_.Xm(a,MQ(this.type));this.size>b&&GQ(a,this.size);"uuid"===this.type&&_.Xm(a,null);if(0<this.f.length&&!this.A)for(b=0;b<this.f.length;b++)this.f[b].write(a),this.f[b].a(),a.getPosition()};_.x(Z,NQ);Z.prototype.a=function(){return 4+NQ.prototype.a.call(this)};Z.prototype.write=function(a){NQ.prototype.write.call(this,a);HQ(a,this.version);IQ(a,this.flags)};
_.x(OQ,NQ);OQ.prototype.a=function(){return this.h.byteLength+NQ.prototype.a.call(this)-this.offset};OQ.prototype.write=function(a){NQ.prototype.write.call(this,a);_.Xm(a,this.h,this.offset);a.getPosition()};_.x(PQ,Z);PQ.prototype.a=function(){return this.h.byteLength+Z.prototype.a.call(this)-this.offset};PQ.prototype.write=function(a){Z.prototype.write.call(this,a);_.Xm(a,this.h,this.offset);a.getPosition()};_.x(QQ,NQ);
QQ.prototype.a=function(){var a=this.j.length;a=a+4+this.h.join("").length;return a+NQ.prototype.a.call(this)};QQ.prototype.write=function(a){NQ.prototype.write.call(this,a);_.Xm(a,MQ(this.j));_.V(a,this.ei);_.Xm(a,MQ(this.h.join("")));a.getPosition()};_.x(RQ,NQ);_.x(SQ,NQ);_.x(TQ,Z);TQ.prototype.a=function(){var a=0;a=1===this.version?a+28:a+16;a=a+44+this.h.length;return a+=Z.prototype.a.call(this)};
TQ.prototype.write=function(a){Z.prototype.write.call(this,a);1===this.version?(GQ(a,0),GQ(a,0),_.V(a,this.timescale),GQ(a,this.duration*this.timescale)):(_.V(a,0),_.V(a,0),_.V(a,this.timescale),_.V(a,this.duration*this.timescale));_.V(a,65536);JQ(a,this.volume);JQ(a,0);_.V(a,0);_.V(a,0);for(var b=0;b<this.h.length;b++)HQ(a,this.h[b]);_.V(a,0);_.V(a,0);_.V(a,0);_.V(a,0);_.V(a,0);_.V(a,0);_.V(a,this.j);a.getPosition()};_.x(UQ,NQ);_.x(VQ,Z);VQ.prototype.a=function(){return 20+Z.prototype.a.call(this)};
VQ.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.h);_.V(a,1);_.V(a,0);_.V(a,0);_.V(a,0);a.getPosition()};_.x(WQ,Z);WQ.prototype.a=function(){var a=0;a=1===this.version?a+32:a+20;a=a+24+this.h.length;return a+Z.prototype.a.call(this)};
WQ.prototype.write=function(a){Z.prototype.write.call(this,a);1===this.version?(GQ(a,0),GQ(a,0),_.V(a,this.j),_.V(a,0),GQ(a,this.duration*this.timescale)):(_.V(a,0),_.V(a,0),_.V(a,this.j),_.V(a,0),_.V(a,this.duration*this.timescale));_.V(a,0);_.V(a,0);JQ(a,0);JQ(a,0);JQ(a,this.volume);JQ(a,0);for(var b=0;b<this.h.length;b++)HQ(a,this.h[b]);JQ(a,this.width);JQ(a,0);JQ(a,this.height);JQ(a,0);a.getPosition()};_.x(XQ,Z);XQ.prototype.a=function(){var a=0;a=1===this.version?a+28:a+16;return a+4+Z.prototype.a.call(this)};
XQ.prototype.write=function(a){Z.prototype.write.call(this,a);1===this.version?(GQ(a,0),GQ(a,0),_.V(a,this.timescale),GQ(a,this.duration*this.timescale)):(_.V(a,0),_.V(a,0),_.V(a,this.timescale),_.V(a,this.duration*this.timescale));JQ(a,this.language);JQ(a,0);a.getPosition()};_.x(YQ,Z);YQ.prototype.a=function(){return 33+Z.prototype.a.call(this)};
YQ.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,0);this.h===_.r?_.Xm(a,MQ("vide")):_.Xm(a,MQ("soun"));_.V(a,0);_.V(a,0);_.V(a,0);this.h===_.r?_.Xm(a,MQ("VideoHandler\x00")):_.Xm(a,MQ("SoundHandler\x00"));a.getPosition()};_.x(ZQ,Z);ZQ.prototype.a=function(){return 2+this.h.byteLength+Z.prototype.a.call(this)};ZQ.prototype.write=function(a){Z.prototype.write.call(this,a);JQ(a,0);_.Xm(a,this.h);a.getPosition()};_.x($Q,NQ);$Q.prototype.a=function(){return 8+NQ.prototype.a.call(this)};
$Q.prototype.write=function(a){NQ.prototype.write.call(this,a);_.V(a,0);JQ(a,0);JQ(a,1)};_.x(aR,$Q);aR.prototype.a=function(){return 70+$Q.prototype.a.call(this)};aR.prototype.write=function(a){$Q.prototype.write.call(this,a);JQ(a,0);JQ(a,0);_.V(a,0);_.V(a,0);_.V(a,0);JQ(a,this.width);JQ(a,this.height);_.V(a,4718592);_.V(a,4718592);_.V(a,0);JQ(a,1);HQ(a,10);_.Xm(a,MQ("AVC Coding",31));JQ(a,this.depth);LQ(a,-1)};_.x(bR,$Q);bR.prototype.a=function(){return 20+$Q.prototype.a.call(this)};
bR.prototype.write=function(a){$Q.prototype.write.call(this,a);_.V(a,0);_.V(a,0);JQ(a,this.channelCount);JQ(a,this.sampleSize);LQ(a,0);JQ(a,0);JQ(a,this.sampleRate);JQ(a,0)};_.x(cR,aR);cR.prototype.write=function(a){aR.prototype.write.call(this,a);for(var b=0;b<this.f.length;b++)this.f[b].write(a);a.getPosition()};_.x(dR,cR);_.x(eR,bR);eR.prototype.write=function(a){bR.prototype.write.call(this,a);for(var b=0;b<this.f.length;b++)this.f[b].write(a);a.getPosition()};_.x(fR,eR);_.x(gR,NQ);
gR.prototype.a=function(){for(var a=7,b=0;b<this.Za.length;b++)a+=2,a+=this.Za[b].byteLength;for(b=0;b<this.Za.length;b++)a+=2,a+=this.fc[b].byteLength;return a+NQ.prototype.a.call(this)};
gR.prototype.write=function(a){NQ.prototype.write.call(this,a);HQ(a,this.version);HQ(a,this.h);HQ(a,this.j);HQ(a,this.level);HQ(a,255);HQ(a,224|this.Za.length);for(var b=0;b<this.Za.length;b++)JQ(a,this.Za[b].length),_.Xm(a,this.Za[b]);HQ(a,this.fc.length);for(b=0;b<this.fc.length;b++)JQ(a,this.fc[b].length),_.Xm(a,this.fc[b]);a.getPosition()};_.x(hR,Z);hR.prototype.a=function(){return 22+(this.cc.byteLength+3)+Z.prototype.a.call(this)};
hR.prototype.write=function(a){Z.prototype.write.call(this,a);HQ(a,3);HQ(a,23+this.cc.byteLength);JQ(a,1);HQ(a,0);HQ(a,4);HQ(a,15+this.cc.byteLength);HQ(a,64);HQ(a,21);IQ(a,0);_.V(a,0);_.V(a,0);HQ(a,5);HQ(a,this.cc.byteLength);_.Xm(a,this.cc);_.Xm(a,new Uint8Array([6,1,2]));a.getPosition()};_.x(iR,Z);iR.prototype.a=function(){return this.location.length+Z.prototype.a.call(this)};iR.prototype.write=function(a){Z.prototype.write.call(this,a);0<this.location.length&&_.Xm(a,MQ(this.location));a.getPosition()};
_.x(jR,Z);jR.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+Z.prototype.a.call(this)};jR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.x(kR,NQ);_.x(lR,Z);lR.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+Z.prototype.a.call(this)};
lR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.x(mR,Z);mR.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+Z.prototype.a.call(this)};mR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.x(nR,Z);
nR.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+Z.prototype.a.call(this)};nR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.x(oR,Z);oR.prototype.a=function(){for(var a=4,b=0;b<this.entries.length;b++)a+=this.entries[b].a();return a+Z.prototype.a.call(this)};
oR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.entries.length);for(var b=0;b<this.entries.length;b++)this.entries[b].write(a);a.getPosition()};_.x(pR,Z);pR.prototype.a=function(){return 8+Z.prototype.a.call(this)};pR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,0);_.V(a,0);a.getPosition()};_.x(qR,Z);qR.prototype.a=function(){return 4+Z.prototype.a.call(this)};qR.prototype.write=function(a){Z.prototype.write.call(this,a);LQ(a,0);JQ(a,0);a.getPosition()};
_.x(rR,NQ);_.x(sR,NQ);_.x(tR,NQ);_.x(uR,Z);uR.prototype.a=function(){var a=0;a=1===this.version?a+8:a+4;return a+Z.prototype.a.call(this)};uR.prototype.write=function(a){Z.prototype.write.call(this,a);1===this.version?GQ(a,this.baseMediaDecodeTime):_.V(a,this.baseMediaDecodeTime);a.getPosition()};_.x(vR,Z);vR.prototype.a=function(){return 4+Z.prototype.a.call(this)};vR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.h);a.getPosition()};_.x(wR,Z);
wR.prototype.a=function(){var a=4;this.flags&uS&&(a+=4);this.flags&vS&&(a+=4);for(var b=0;b<this.h;b++)this.flags&wS&&(a+=4),this.flags&xS&&(a+=4),this.flags&yS&&(a+=4),this.flags&zS&&(a+=4);return a+Z.prototype.a.call(this)};
wR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.h);this.flags&uS&&(a.getPosition(),KQ(a,this.l));this.flags&vS&&_.V(a,this.o);for(var b=0;b<this.h;b++)this.flags&wS&&_.V(a,this.w[b]),this.flags&xS&&_.V(a,this.sampleSize[b]),this.flags&yS&&_.V(a,this.B[b]),this.flags&zS&&(0===this.version?_.V(a,this.j[b]):KQ(a,this.j[b]));a.getPosition()};var uS=1,vS=4,wS=256,xS=512,yS=1024,zS=2048;_.x(xR,Z);
xR.prototype.a=function(){var a=4;this.flags&AS&&(a+=8);this.flags&BS&&(a+=4);this.flags&CS&&(a+=4);this.flags&DS&&(a+=4);this.flags&ES&&(a+=4);return a+Z.prototype.a.call(this)};xR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.h);this.flags&AS&&GQ(a,this.j);this.flags&BS&&_.V(a,this.B);this.flags&CS&&_.V(a,this.l);this.flags&DS&&_.V(a,this.w);this.flags&ES&&_.V(a,this.o);a.getPosition()};var AS=1,BS=2,CS=8,DS=16,ES=32;_.x(yR,NQ);_.x(zR,NQ);_.x(AR,NQ);
AR.prototype.a=function(){return this.h.byteLength+NQ.prototype.a.call(this)};AR.prototype.write=function(a){NQ.prototype.write.call(this,a);0<this.h.byteLength&&_.Xm(a,this.h)};_.x(BR,Z);BR.prototype.a=function(){var a=20;1===this.h&&0===this.j&&(a=a+1+this.l.length);return a+Z.prototype.a.call(this)};
BR.prototype.write=function(a){Z.prototype.write.call(this,a);HQ(a,0);0===this.version?HQ(a,0):HQ(a,0);HQ(a,this.h);HQ(a,this.j);_.Xm(a,_.Mj(this.o));if(1===this.h&&0===this.j){HQ(a,0);for(var b=0;b<this.l.length;b++)HQ(a,this.l[b])}a.getPosition()};_.x(CR,Z);CR.prototype.a=function(){var a=8;this.flags&1&&(a+=MQ(this.Xb).byteLength);return a+Z.prototype.a.call(this)};CR.prototype.write=function(a){Z.prototype.write.call(this,a);_.Xm(a,MQ(this.h));_.V(a,this.j);this.flags&1&&_.Xm(a,MQ(this.Xb));a.getPosition()};
_.x(DR,NQ);DR.prototype.a=function(){return MQ(this.h).byteLength+NQ.prototype.a.call(this)};DR.prototype.write=function(a){NQ.prototype.write.call(this,a);_.Xm(a,MQ(this.h));a.getPosition()};_.x(ER,Z);ER.prototype.a=function(){var a=0;this.flags&1&&(a+=8);a+=4;for(var b=0;1>b;b++)a=0===this.version?a+4:a+8;return a+Z.prototype.a.call(this)};
ER.prototype.write=function(a){Z.prototype.write.call(this,a);this.flags&1&&(_.V(a,0),_.V(a,0));_.V(a,1);for(var b=0;1>b;b++)0===this.version?_.V(a,this.offset[b]):GQ(a,this.offset[b]);a.getPosition()};_.x(FR,Z);FR.prototype.a=function(){var a=0;this.flags&1&&(a+=8);a+=5;0===this.h&&(a+=this.l.length);return a+Z.prototype.a.call(this)};
FR.prototype.write=function(a){Z.prototype.write.call(this,a);this.flags&1&&(_.V(a,0),_.V(a,0));HQ(a,this.h);_.V(a,this.j);if(0===this.h)for(var b=0;b<this.j;b++)HQ(a,this.l[b]);a.getPosition()};_.x(GR,Z);GR.prototype.a=function(){var a=4;this.flags&1&&(a+=1);for(var b=0;b<this.j;b++)if(a+=this.h[b].Rh.byteLength,this.flags&2){a+=2;for(var c=0;c<this.h[b].kd;c++)a+=2,a+=4}return a+Z.prototype.a.call(this)};
GR.prototype.write=function(a){Z.prototype.write.call(this,a);_.V(a,this.j);this.flags&1&&HQ(a,this.l);for(var b=0;b<this.j;b++)if(_.Xm(a,this.h[b].Rh),this.flags&2){JQ(a,this.h[b].kd);for(var c=0;c<this.h[b].kd;c++)JQ(a,this.h[b].wg[c].Pg),_.V(a,this.h[b].wg[c].Qg)}a.getPosition()};var NR=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,OR=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,PR=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,QR=/^(\d*\.?\d*)f$/,RR=/^(\d*\.?\d*)t$/,SR=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/;WR.prototype.get=function(a){for(var b=0;b<this.a.length;b++){var c=this.a[b].get(a);if(c)return c}return null};WR.prototype.write=function(){this.f=VR(this);for(var a=0;a<this.a.length;a++)this.a[a].write(this.f);return this.f.buffer};var $R=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);_.u=fS.prototype;_.u.configure=function(a){this.f=a};_.u.start=function(a,b){var c=this;this.D=b;var d=_.ah(new Set([a,HR(a)])).concat();return gS(this,d).then(function(e){return nS(c,e.data).then(function(){sS(c,c.A);return c.h})})};_.u.requestStop=function(){};_.u.stop=function(){this.D&&this.D.networkingEngine.ae(this.K);this.A=this.w=this.h=this.f=this.D=null;this.j&&(clearTimeout(this.j),this.j=null);this.J=!1;this.I=this.C=Infinity;return Promise.resolve()};
_.u.update=function(){var a=this;if(this.yd())return gS(this,[this.l]).then(function(b){return nS(a,b.data).then(function(){return a.h})})["catch"](function(b){if(a.D)a.D.onError(b)})};_.u.setCurrentVariant=function(){};_.u.Vb=function(){var a=this;this.g.debug(_.SC);this.D&&(this.j=null,this.update().then(function(){sS(a,a.A)})["catch"](function(b){a.D&&(a.D.onError(b),1===b.severity&&sS(a,100))}))};_.u.yd=function(){return this.L===jS};_.u.Of=function(){return 0<this.o.length};
_.u.Dh=function(a){var b=null;if(this.o.length)for(var c=0;c<this.o.length;c++)if(this.o[c].keySystem===a){b=this.o[c].initData[0];break}return b};
_.u.pn=function(a){if(2!==a.request.type||a.uri.startsWith("data:"))return Promise.resolve(a);var b=a.request.timescale||this.w.timescale,c={isLive:this.yd.bind(this),Ee:this.Of.bind(this),gl:function(){return 1},Be:this.Dh.bind(this)},d=!1,e=new _.N(_.P,3,4035,null),f=null;try{var g=this.G.get(a.request.uris[a.request.uriIndex])||a.request.startTime||0;g!==a.request.startTime&&this.g.debug("Using base media decode time "+g+" instead of segment reference time "+a.request.startTime);f=bS(a,b,g,c)}catch(h){d=
!0,e.data=h,3E3===h.code&&(e.code=4039)}if(d||!f)return Promise.reject(e);a.data=f;return Promise.resolve(a)};var qS={video:_.Eg,audio:_.dd,text:_.Xc},eS=_.kc,jS="LIVE",rS={Un:_.nd,ao:_.ig};_.x(tS,_.tt);tS.prototype.f=function(){_.su.ism=fS;_.qu[_.Yc]=fS};tS.prototype.a=function(){_.iF("ism");_.jF(_.Yc)};tS.prototype.id=function(){return _.$f};_.J("clpp.smooth.SmoothComponent",tS);};
if(typeof(module)!="undefined"&&module.exports){var x=require("./cl.core.js");_ = x._;(f.call(g,this));module.exports=g;}
else if (typeof(define)!="undefined"&&define.amd) {define(["./cl.core"], function(c){_=c._;(f.call(g,this));return g;});}
else{_=this.clpp._;(f.call(g,this));}
})();